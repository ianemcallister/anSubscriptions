config.$inject=["$routeProvider","$locationProvider"];var ahNuts=angular.module("ansub",["ngRoute","ui.bootstrap"]);function mainController(e,t,r,n,o,s,i){e.userData=o,e.state=s,i.init()}function successController(e,t,r){e.confirmationCode=r.confirmationCode,console.log("success controler",r.confirmationCode,e.confirmationCode)}function billingAddress(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/billingAddress.htm",replace:!0,scope:{},link:t,controller:r,controllerAs:"vm",bindToController:!0};function t(e,t,r,n){}function r(e,t,r,n){this.userData=r,this.state=n}return r.$inject=["$scope","$log","userDataService","stateService"],e}function billingInput(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/billingInput.htm",replace:!0,scope:{},link:t,controller:r,controllerAs:"vm",bindToController:!0};function t(e,t,r,n){}function r(e,t,r,n){this.userData=r,this.state=n}return r.$inject=["$scope","$log","userDataService","stateService"],e}function contactInput(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/contactInput.htm",replace:!0,scope:{},link:t,controller:r,controllerAs:"vm",bindToController:!0};function t(e,t,r,n){}function r(e,t,r,n){this.userData=r,this.state=n}return r.$inject=["$scope","$log","userDataService","stateService"],e}function frequencySelection(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/frequencySelection.htm",replace:!0,scope:{},link:t,controller:r,controllerAs:"vm",bindToController:!0};function t(e,t,r,n){}function r(e,t){this.frequencies=["month","quarter","year"],this.starts={month:["January","February","March","April","May","June","July","August","September","October","November","December"],quarter:["Winter","Spring","Summer","Fall"],year:["2018","2019","2020"]},this.selectedFrequency="",this.startsIn=""}return r.$inject=["$scope","$log"],e}function productSelection(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/productSelection.htm",replace:!0,scope:{},link:t,controller:r,controllerAs:"vm",bindToController:!0};function t(e,t,r,n){}function r(t,e,r,n,o){var s=this;s.userData=r,s.state=n.productSelection,s.state.infoBox=n.infoBoxes.flavorDefs,o.download.productList().then(function(e){s.flavors=e,t.$apply()}).catch(function(e){console.log("product list error, ",e)}),s.orderList=r.order,s.productPrice=1699,s.order=r.tender;var i={id:1,sqrId:"",sqVarId:"",flavor:"",mixflvrCount:0,mixflvrs:{srpec:{id:"srpec",name:"SR Pecans",selected:!1,classes:{"list-group-item":!0,active:!1}},sralm:{id:"sralm",name:"SR Almonds",selected:!1,classes:{"list-group-item":!0,active:!1}},srcsh:{id:"srcsh",name:"SR Cashews",selected:!1,classes:{"list-group-item":!0,active:!1}},srpea:{id:"srpea",name:"SR Peanuts",selected:!1,classes:{"list-group-item":!0,active:!1}},cnpec:{id:"cnpec",name:"Cin Pecans",selected:!1,classes:{"list-group-item":!0,active:!1}},cnalm:{id:"cnalm",name:"Cin Almonds",selected:!1,classes:{"list-group-item":!0,active:!1}},drpec:{id:"drpec",name:"Drunk Pecans",selected:!1,classes:{"list-group-item":!0,active:!1}}},mixFlvrsSelected:[],mix:""};function c(){s.order.total=s.orderList.length*s.productPrice-s.order.discounts,4==s.orderList.length&&(s.order.total=s.order.total-s.productPrice)}s.addAProduct=function(){var e=s.orderList.length;e<4&&s.orderList.push(Object.create(i)),3==e&&(s.state.addAProductBtn.visible=!1),0<e&&(s.state.removeLastProductBtn.visible=!0);for(var t=0;t<=e;t++)s.orderList[t].id=t+1;c()},s.removeLastProduct=function(){var e=s.orderList.length,t=e-1;1<e&&s.orderList.splice(t,1),2==e&&(s.state.removeLastProductBtn.visible=!1),s.state.addAProductBtn.visible=!0,4==e&&(s.order.discounts=0),c()},s.removeAProduct=function(e){var t=e-1;1<s.orderList.length&&s.orderList.splice(t,1);for(var r=0;r<=s.orderList.length-1;r++)s.orderList[r].id=r+1;c()},s.validateProducts=function(){},s.countMixFlavors=function(t){var r=0;return Object.keys(t).forEach(function(e){t[e].selected&&r++}),r},s.updateShoppingCart=function(){s.orderList.forEach(function(t){s.flavors.forEach(function(e){e.name==t.flavor&&(t.sqrId=e.id,t.id<4?t.sqVarId=e.variations[0].id:t.sqVarId=e.variations[1].id)})}),console.log(s.orderList)},s.buildFlavorList=function(t){s.orderList[t].mixFlvrsSelected=[],Object.keys(s.orderList[t].mixflvrs).forEach(function(e){s.orderList[t].mixflvrs[e].selected&&s.orderList[t].mixFlvrsSelected.push(s.orderList[t].mixflvrs[e].name)})},s.orderList.push(Object.create(i)),c()}return r.$inject=["$scope","$log","userDataService","stateService","squareService"],e}function shipDest(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",template:"<div>testing</div>",replace:!0,scope:{},link:t,controller:r,controllerAs:"vm",bindToController:!0};function t(e,t,r,n){}function r(e,t,r){this.zipCheck=r}return r.$inject=["$scope","$log","zipcomplete"],e}function singleAddressInput(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/singleAddressInput.htm",replace:!0,scope:{address:"="},link:t,controller:r,controllerAs:"vm",bindToController:!0};function t(e,t,r,n){}function r(e,t,r,n){var o=this;o.userData=r,o.state=n,o.updateBillingAddress=function(){o.state.shipingSameAsBilling&&(o.userData.billingAddress.street=o.userData.shippingDestination.street,o.userData.billingAddress.zip=o.userData.shippingDestination.zip,o.userData.billingAddress.city=o.userData.shippingDestination.city,o.userData.billingAddress.state=o.userData.shippingDestination.state)}}return r.$inject=["$scope","$log","userDataService","stateService"],e}function subTermsCond(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/subTermsCond.htm",replace:!0,scope:{},link:t,controller:r,controllerAs:"vm",bindToController:!0};function t(e,t,r,n){}function r(e,t,r,n,o,s,i,c){this.state=n,this.userData=o,this.validate=s,this.square=c}return r.$inject=["$scope","$log","$location","stateService","userDataService","validationService","submissionService","squareService"],e}function config(e,t){t.hashPrefix(""),e.when("/",{templateUrl:"views/monthlySub.htm",controller:"mainController",controllerAs:"vm"}).when("/success/:confirmationCode",{templateUrl:"views/success.htm",controller:"successController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}function errorHandlingService(){return{}}function modalService(e){var o={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:"partials/modal.htm"},s={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?"};this.showModal=function(e,t){return e||(e={}),e.backdrop="static",this.show(e,t)},this.show=function(e,t){var r={},n={};return angular.extend(r,o,e),angular.extend(n,s,t),r.controller||(r.controller=function(e,t){e.modalOptions=n,e.modalOptions.ok=function(e){t.close(e)},e.modalOptions.close=function(e){t.dismiss("cancel")}}),$modal.open(r).result}}function serverService(o){return{chargeCard:function(e,n){return new Promise(function(t,r){o({method:"POST",url:e,headers:{"Content-Type":"application/json"},data:n}).then(function(e){console.log("got this response",e),t(e.data)},function(e){r(e)})})},get:{sqrAppId:function(){return new Promise(function(t,r){o({method:"GET",url:"/api/squareId"}).then(function(e){console.log("got this response",e),t(e.data)},function(e){r(e)})})},sqrPrdctList:function(){return new Promise(function(t,r){o({method:"GET",url:"/api/productList"}).then(function(e){console.log("got this response",e),t(e.data)},function(e){r(e)})})}}}}function squareService(r,n,o,t){var s=this;function i(e){t.card.nonce=e,o.chargeCard("/api/charge_card",t).then(function(e){var t="/success/"+e.data;console.log("got this path back",t),n.path(t),r.$apply()}).catch(function(e){console.log("Error:",e)})}return{_chargeCardWithNonce:i,submitForm:function(){console.log("submitting form"),s.paymentForm.requestCardNonce()},download:{productList:function(){return new Promise(function(t,r){o.get.sqrPrdctList().then(function(e){t(e)}).catch(function(e){r(e)})})}},init:function(){o.get.sqrAppId().then(function(e){s.paymentForm=new SqPaymentForm({applicationId:e.id,inputClass:"sq-input",inputStyles:[{fontSize:"14px",padding:"7px 12px",backgroundColor:"transparent"}],cardNumber:{elementId:"sq-card-number",placeholder:"•••• •••• •••• ••••"},cvv:{elementId:"sq-cvv",placeholder:"CVV"},expirationDate:{elementId:"sq-expiration-date",placeholder:"MM/YY"},postalCode:{elementId:"sq-postal-code"},callbacks:{cardNonceResponseReceived:function(e,t,r){e?(console.log("Encountered errors:",e),s.card_errors=e,s.isProcessing=!1):(s.card_errors=[],i(t))},unsupportedBrowserDetected:function(){},inputEventReceived:function(e){e.eventType},paymentFormLoaded:function(){}}}),s.paymentForm.build()}).catch(function(e){console.log(e)})}}}function stateService(e){return{shipingSameAsBilling:!0,productSelection:{addAProductBtn:{classes:{btn:!0,"btn-success":!0,"btn-warning":!1},visible:!0},removeLastProductBtn:{classes:{btn:!0,"btn-success":!1,"btn-warning":!1,"btn-danger":!0},visible:!1},headerStyle:{color:"rgb(51,51,51)"}},contactInfo:{firstname:{classes:{"form-control":!0,"is-valid":!1,"is-invalid":!1},addressed:!1,isValid:!1,isInvalid:!1}},infoBoxes:{flavorDefs:!1,termsConds:!1},sectionsAddressed:{productSelection:!1,singleShippingAddress:!1,contactInfo:!1,termsConds:!1},sectionsCompleted:{productSelection:!0,singleShippingAddress:!0,contactInfo:!0,termsConds:!1},sectionHeaders:{productSelection:{showError:!1,showCompleted:!1},singleShippingAddress:{showError:!1,showCompleted:!1},contactInfo:{showError:!1,showCompleted:!1},termsConds:{showError:!1,showCompleted:!1}},checkCompletness:function(){var t=this,r=!0;Object.keys(t.sectionsCompleted).forEach(function(e){0==t.sectionsCompleted[e]&&(r=!1)}),t.submissionBtn["btn-secondary"]=r?(readyForSubmission=!0,t.submissionBtn["btn-success"]=!0,!1):(readyForSubmission=!1,t.submissionBtn["btn-success"]=!1,!0)},readyForSubmission:!1,submissionBtn:{btn:!0,"btn-block":!0,"btn-success":!1,"btn-secondary":!0}}}function submissionService(n){this.submit=function(e){return new Promise(function(t,r){n({method:"POST",url:"/subscription-application-submission",headers:{"Content-Type":"application/json"},data:e}).then(function(e){console.log("got this response",e),t(e)},function(e){r(e)})})}}function userDataService(){return{name:{first:"",last:""},contact:{email:"",phone:""},shippingDestination:{street:"",city:"",state:"",zip:""},customerId:"QTSSWAK0G95D30BHMJ5MHK3ZVC",billingAddress:{street:"",city:"",state:"",zip:""},card:{nonce:"",last4:"",type:""},orderNo:"",orderDate:"",order:[],tender:{discounts:0,shipping:0,total:0},agreedToTerms:!1}}function validationService(e,t){return{termsAndCond:function(){console.log("validating terms and conditions"),e.sectionsAddressed.termsConds=!0,e.sectionsCompleted.termsConds=t.agreedToTerms,e.sectionsCompleted.termsConds?(e.sectionHeaders.termsConds.showError=!1,e.sectionHeaders.termsConds.showCompleted=!0):(e.sectionHeaders.termsConds.showError=!0,e.sectionHeaders.termsConds.showCompleted=!1)}}}function zipcomplete(){this.handleResp=function(e){e.error_msg?console.log(e.error_msg):"city"in e&&(container.find("input[name='city']").val(e.city),container.find("input[name='state']").val(e.state))},this.checkZip=function(e){var t=e.substring(0,5);5==t.length&&/^[0-9]+$/.test(t)&&console.log("checking zip",t)}}angular.module("ansub").controller("mainController",mainController),mainController.$inject=["$scope","$log","$location","submissionService","userDataService","stateService","squareService"],angular.module("ansub").controller("successController",successController),successController.$inject=["$scope","$log","$routeParams"],angular.module("ansub").directive("billingAddress",billingAddress),angular.module("ansub").directive("billingInput",billingInput),angular.module("ansub").directive("contactInput",contactInput),angular.module("ansub").directive("frequencySelection",frequencySelection),angular.module("ansub").directive("productSelection",productSelection),angular.module("ansub").directive("shipDest",shipDest),angular.module("ansub").directive("singleAddressInput",singleAddressInput),angular.module("ansub").directive("subTermsCond",subTermsCond),angular.module("ansub").config(config),angular.module("ansub").service("errorHandlingService",errorHandlingService),errorHandlingService.$inject=[],angular.module("ansub").service("modalService",modalService),modalService.$inject=["$uibModal"],angular.module("ansub").service("serverService",serverService),serverService.$inject=["$http"],angular.module("ansub").service("squareService",squareService),squareService.$inject=["$rootScope","$location","serverService","userDataService"],angular.module("ansub").service("stateService",stateService),stateService.$inject=["userDataService"],angular.module("ansub").service("submissionService",submissionService),submissionService.$inject=["$http"],angular.module("ansub").service("userDataService",userDataService),userDataService.$inject=[],angular.module("ansub").service("validationService",validationService),validationService.$inject=["stateService","userDataService"],angular.module("ansub").service("zipcomplete",zipcomplete),zipcomplete.$inject=[];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvd2ViYXBwLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9tYWluLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL3N1Y2Nlc3MuY29udHJvbGxlci5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9iaWxsaW5nQWRkcmVzcy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvYmlsbGluZ0lucHV0LmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jb250YWN0SW5wdXQuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2ZyZXF1ZW5jeVNlbGVjdGlvbi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcHJvZHVjdFNlbGVjdGlvbi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2hpcERlc3QuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NpbmdsZUFkZHJlc3NJbnB1dC5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc3VidGVybXNjb25kLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvcm91dGVzL3JvdXRlcy5jb25maWcuanMiLCJzY3JpcHRzL3NlcnZpY2VzL2Vycm9ySGFuZGxpbmcuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvbW9yZGFscy5zZXJ2aWNlLmpzIiwic2NyaXB0cy9zZXJ2aWNlcy9zZXJ2ZXIuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvc3F1YXJlLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3N0YXRlLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3N1Ym1pc3Npb25TZXJpdmNlLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3VzZXJEYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3ZhbGlkYXRpb24uc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvemlwY29tcGxldGUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhaE51dHMiLCJhbmd1bGFyIiwibW9kdWxlIiwibWFpbkNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9nIiwiJGxvY2F0aW9uIiwic3VibWlzc2lvblNlcnZpY2UiLCJ1c2VyRGF0YVNlcnZpY2UiLCJzdGF0ZVNlcnZpY2UiLCJzcXVhcmVTZXJ2aWNlIiwidXNlckRhdGEiLCJzdGF0ZSIsImluaXQiLCJzdWNjZXNzQ29udHJvbGxlciIsIiRyb3V0ZVBhcmFtcyIsImNvbmZpcm1hdGlvbkNvZGUiLCJjb25zb2xlIiwibG9nIiwiYmlsbGluZ0FkZHJlc3MiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInRlbXBsYXRlVXJsIiwicmVwbGFjZSIsInNjb3BlIiwibGluayIsImxpbmtGdW5jIiwiY29udHJvbGxlciIsImJpbGxpbmdBZGRyZXNzQ29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJlbCIsImF0dHIiLCJjdHJsIiwidGhpcyIsIiRpbmplY3QiLCJiaWxsaW5nSW5wdXQiLCJiaWxsaW5nSW5wdXRDb250cm9sbGVyIiwiY29udGFjdElucHV0IiwiY29udGFjdElucHV0dENvbnRyb2xsZXIiLCJmcmVxdWVuY3lTZWxlY3Rpb24iLCJmcmVxdWVuY3lTZWxlY3Rpb25Db250cm9sbGVyIiwiZnJlcXVlbmNpZXMiLCJzdGFydHMiLCJtb250aCIsInF1YXJ0ZXIiLCJ5ZWFyIiwic2VsZWN0ZWRGcmVxdWVuY3kiLCJzdGFydHNJbiIsInByb2R1Y3RTZWxlY3Rpb24iLCJwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlciIsInNlbGYiLCJpbmZvQm94ZXMiLCJmbGF2b3JEZWZzIiwiZG93bmxvYWQiLCJwcm9kdWN0TGlzdCIsInRoZW4iLCJzIiwiZmxhdm9ycyIsIiRhcHBseSIsImNhdGNoIiwiZSIsIm9yZGVyTGlzdCIsIm9yZGVyIiwicHJvZHVjdFByaWNlIiwidGVuZGVyIiwicHJvZHVjdE9iamVjdCIsImlkIiwic3FySWQiLCJzcVZhcklkIiwiZmxhdm9yIiwibWl4Zmx2ckNvdW50IiwibWl4Zmx2cnMiLCJzcnBlYyIsIm5hbWUiLCJzZWxlY3RlZCIsImNsYXNzZXMiLCJsaXN0LWdyb3VwLWl0ZW0iLCJhY3RpdmUiLCJzcmFsbSIsInNyY3NoIiwic3JwZWEiLCJjbnBlYyIsImNuYWxtIiwiZHJwZWMiLCJtaXhGbHZyc1NlbGVjdGVkIiwibWl4Iiwic3VtT3JkZXIiLCJ0b3RhbCIsImxlbmd0aCIsImRpc2NvdW50cyIsImFkZEFQcm9kdWN0Iiwibm9PZlByb2R1Y3RzIiwicHVzaCIsIk9iamVjdCIsImNyZWF0ZSIsImFkZEFQcm9kdWN0QnRuIiwidmlzaWJsZSIsInJlbW92ZUxhc3RQcm9kdWN0QnRuIiwiaSIsInJlbW92ZUxhc3RQcm9kdWN0IiwicmVtb3ZlSW5kZXgiLCJzcGxpY2UiLCJyZW1vdmVBUHJvZHVjdCIsInZhbGlkYXRlUHJvZHVjdHMiLCJjb3VudE1peEZsYXZvcnMiLCJmbGF2b3JPYmplY3QiLCJjb3VudGVyIiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJ1cGRhdGVTaG9wcGluZ0NhcnQiLCJwcm9kdWN0IiwidmFyaWF0aW9ucyIsImJ1aWxkRmxhdm9yTGlzdCIsInNoaXBEZXN0IiwidGVtcGxhdGUiLCJzaGlwRGVzdENvbnRyb2xsZXIiLCJ6aXBjb21wbGV0ZSIsInppcENoZWNrIiwic2luZ2xlQWRkcmVzc0lucHV0IiwiYWRkcmVzcyIsInNpbmdsZUFkZHJlc3NJbnB1dENvbnRyb2xsZXIiLCJ1cGRhdGVCaWxsaW5nQWRkcmVzcyIsInNoaXBpbmdTYW1lQXNCaWxsaW5nIiwic3RyZWV0Iiwic2hpcHBpbmdEZXN0aW5hdGlvbiIsInppcCIsImNpdHkiLCJzdWJUZXJtc0NvbmQiLCJzdWJUZXJtc0NvbmRDb250cm9sbGVyIiwidmFsaWRhdGlvblNlcnZpY2UiLCJ2YWxpZGF0ZSIsInNxdWFyZSIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJoYXNoUHJlZml4Iiwid2hlbiIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJlcnJvckhhbmRsaW5nU2VydmljZSIsIm1vZGFsU2VydmljZSIsIiR1aWJNb2RhbCIsIm1vZGFsRGVmYXVsdHMiLCJiYWNrZHJvcCIsImtleWJvYXJkIiwibW9kYWxGYWRlIiwibW9kYWxPcHRpb25zIiwiY2xvc2VCdXR0b25UZXh0IiwiYWN0aW9uQnV0dG9uVGV4dCIsImhlYWRlclRleHQiLCJib2R5VGV4dCIsInNob3dNb2RhbCIsImN1c3RvbU1vZGFsRGVmYXVsdHMiLCJjdXN0b21Nb2RhbE9wdGlvbnMiLCJzaG93IiwidGVtcE1vZGFsRGVmYXVsdHMiLCJ0ZW1wTW9kYWxPcHRpb25zIiwiZXh0ZW5kIiwiJG1vZGFsSW5zdGFuY2UiLCJvayIsInJlc3VsdCIsImNsb3NlIiwiZGlzbWlzcyIsIiRtb2RhbCIsIm9wZW4iLCJzZXJ2ZXJTZXJ2aWNlIiwiJGh0dHAiLCJjaGFyZ2VDYXJkIiwidXJsIiwiZGF0YSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibWV0aG9kIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInJlc3BvbnNlIiwiZXJyb3IiLCJnZXQiLCJzcXJBcHBJZCIsInNxclByZGN0TGlzdCIsIiRyb290U2NvcGUiLCJfY2hhcmdlQ2FyZFdpdGhOb25jZSIsIm5vbmNlIiwiY2FyZCIsIm5ld1BhdGgiLCJwYXRoIiwic3VibWl0Rm9ybSIsInBheW1lbnRGb3JtIiwicmVxdWVzdENhcmROb25jZSIsInNxQXBwIiwiU3FQYXltZW50Rm9ybSIsImFwcGxpY2F0aW9uSWQiLCJpbnB1dENsYXNzIiwiaW5wdXRTdHlsZXMiLCJmb250U2l6ZSIsInBhZGRpbmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJjYXJkTnVtYmVyIiwiZWxlbWVudElkIiwicGxhY2Vob2xkZXIiLCJjdnYiLCJleHBpcmF0aW9uRGF0ZSIsInBvc3RhbENvZGUiLCJjYWxsYmFja3MiLCJjYXJkTm9uY2VSZXNwb25zZVJlY2VpdmVkIiwiZXJyb3JzIiwiY2FyZERhdGEiLCJjYXJkX2Vycm9ycyIsImlzUHJvY2Vzc2luZyIsInVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkIiwiaW5wdXRFdmVudFJlY2VpdmVkIiwiaW5wdXRFdmVudCIsImV2ZW50VHlwZSIsInBheW1lbnRGb3JtTG9hZGVkIiwiYnVpbGQiLCJidG4iLCJidG4tc3VjY2VzcyIsImJ0bi13YXJuaW5nIiwiYnRuLWRhbmdlciIsImhlYWRlclN0eWxlIiwiY29sb3IiLCJjb250YWN0SW5mbyIsImZpcnN0bmFtZSIsImZvcm0tY29udHJvbCIsImlzLXZhbGlkIiwiaXMtaW52YWxpZCIsImFkZHJlc3NlZCIsImlzVmFsaWQiLCJpc0ludmFsaWQiLCJ0ZXJtc0NvbmRzIiwic2VjdGlvbnNBZGRyZXNzZWQiLCJzaW5nbGVTaGlwcGluZ0FkZHJlc3MiLCJzZWN0aW9uc0NvbXBsZXRlZCIsInNlY3Rpb25IZWFkZXJzIiwic2hvd0Vycm9yIiwic2hvd0NvbXBsZXRlZCIsImNoZWNrQ29tcGxldG5lc3MiLCJub0ZsYWdzIiwic3VibWlzc2lvbkJ0biIsInJlYWR5Rm9yU3VibWlzc2lvbiIsImJ0bi1ibG9jayIsImJ0bi1zZWNvbmRhcnkiLCJzdWJtaXQiLCJmaXJzdCIsImxhc3QiLCJjb250YWN0IiwiZW1haWwiLCJwaG9uZSIsImN1c3RvbWVySWQiLCJsYXN0NCIsInR5cGUiLCJvcmRlck5vIiwib3JkZXJEYXRlIiwic2hpcHBpbmciLCJhZ3JlZWRUb1Rlcm1zIiwidGVybXNBbmRDb25kIiwiaGFuZGxlUmVzcCIsImVycm9yX21zZyIsImNvbnRhaW5lciIsImZpbmQiLCJ2YWwiLCJjaGVja1ppcCIsImVudGVyZWRaaXAiLCJ6aXBjb2RlIiwic3Vic3RyaW5nIiwidGVzdCIsInNlcnZpY2UiXSwibWFwcGluZ3MiOiJzREFFQSxJQUFBQSxPQUFBQyxRQUFBQyxPQUFBLFFBQUEsQ0FBQSxVQUFBLGlCQ0dBLFNBQUFDLGVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBS0FOLEVBQUFPLFNBQUFILEVBQ0FKLEVB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R0NIQWxDLFFBQUFDLE9BQUEsU0FBQTJRLFFBQUEsb0JBQUExSSxtQkFHQUEsa0JBQUFoRyxRQUFBLENBQUEsZUFBQSxtQkNIQWxDLFFBQUFDLE9BQUEsU0FBQTJRLFFBQUEsY0FBQXZKLGFBR0FBLFlBQUFuRixRQUFBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vZGVmaW5lIHRoZSBtb2R1bGVcblxudmFyIGFoTnV0cyA9IGFuZ3VsYXIubW9kdWxlKCdhbnN1YicsIFsnbmdSb3V0ZScsICd1aS5ib290c3RyYXAnXSk7IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuY29udHJvbGxlcignbWFpbkNvbnRyb2xsZXInLCBtYWluQ29udHJvbGxlcik7XG5cblx0bWFpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICckbG9jYXRpb24nLCAnc3VibWlzc2lvblNlcnZpY2UnLCAndXNlckRhdGFTZXJ2aWNlJywgJ3N0YXRlU2VydmljZScsICdzcXVhcmVTZXJ2aWNlJ107XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIG1haW5Db250cm9sbGVyKCRzY29wZSwgJGxvZywgJGxvY2F0aW9uLCBzdWJtaXNzaW9uU2VydmljZSwgdXNlckRhdGFTZXJ2aWNlLCBzdGF0ZVNlcnZpY2UsIHNxdWFyZVNlcnZpY2UpIHtcblx0XHQvL25vdGlmeSBwcm9ncmVzc1xuXG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0Ly9kZWZpbmUgdXNlcmRhdGEgbW9kZWwgdmFyaWFibGVcblx0XHQkc2NvcGUudXNlckRhdGEgPSB1c2VyRGF0YVNlcnZpY2U7XG5cdFx0JHNjb3BlLnN0YXRlID0gc3RhdGVTZXJ2aWNlO1xuXG5cdFx0c3F1YXJlU2VydmljZS5pbml0KCk7XG5cdFx0XG5cdFx0Lyp2YXIgcmVjaXBpYW50UHJvZmlsZSA9IHtcblx0XHRcdG5hbWU6IHtcblx0XHRcdFx0Zmlyc3Q6IFwiXCIsXG5cdFx0XHRcdGxhc3Q6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRhZGRyZXNzOiB7XG5cdFx0XHRcdHN0cmVldDE6IFwiXCIsXG5cdFx0XHRcdHN0cmVldDI6IFwiXCIsXG5cdFx0XHRcdHN0cmVldDM6IFwiXCIsXG5cdFx0XHRcdGNpdHk6IFwiXCIsXG5cdFx0XHRcdHN0YXRlOiBcIlwiLFxuXHRcdFx0XHR6aXA6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRjb250YWN0OiB7fSxcblx0XHRcdHJlbGF0aW9uc2hpcDogXCJcIlxuXHRcdH07XG5cblx0XHR2YXIgc2hpcHBpbmdTY2hlZHVsZXMgPSB7XG5cdFx0XHRcInllYXJseVwiOiBbXG5cdFx0XHRcdHsgaWQ6IDEsIG5hbWU6IFwiVHJlYXRcIiwgc2hpcERheTogXCJcIiwgYmlsbERheTogXCJcIiB9XG5cdFx0XHRdLFxuXHRcdFx0XCJxdWFydGVybHlcIjogW1xuXHRcdFx0XHR7IGlkOiAxLCBuYW1lOiBcIldpbnRlclwiLCBzaGlwRGF5OiBcIlwiLCBiaWxsRGF5OiBcIlwiIH0sXG5cdFx0XHRcdHsgaWQ6IDIsIG5hbWU6IFwiU3ByaW5nXCIsIHNoaXBEYXk6IFwiXCIsIGJpbGxEYXk6IFwiXCIgfSxcblx0XHRcdFx0eyBpZDogMywgbmFtZTogXCJTdW1tZXJcIiwgc2hpcERheTogXCJcIiwgYmlsbERheTogXCJcIiB9LFxuXHRcdFx0XHR7IGlkOiA0LCBuYW1lOiBcIkZhbGxcIiwgc2hpcERheTogXCJcIiwgYmlsbERheTogXCJcIiB9XG5cdFx0XHRdLFxuXHRcdFx0XCJtb250aGx5XCI6IFtcblx0XHRcdFx0eyBpZDogMSwgbmFtZTogXCJKYW51YXJ5XCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogMiwgbmFtZTogXCJGZWJydWFyeVwiLCBzaGlwRGF5OiBcIjNyZFwiLCBiaWxsRGF5OiBcIjFzdFwiIH0sXG5cdFx0XHRcdHsgaWQ6IDMsIG5hbWU6IFwiTWFyY2hcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiA0LCBuYW1lOiBcIkFwcmlsXCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogNSwgbmFtZTogXCJNYXlcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiA2LCBuYW1lOiBcIkp1bmVcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiA3LCBuYW1lOiBcIkp1bHlcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiA4LCBuYW1lOiBcIkF1Z3VzdFwiLCBzaGlwRGF5OiBcIjNyZFwiLCBiaWxsRGF5OiBcIjFzdFwiIH0sXG5cdFx0XHRcdHsgaWQ6IDksIG5hbWU6IFwiU2VwdGVtYmVyXCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogMTAsIG5hbWU6IFwiT2N0b2JlclwiLCBzaGlwRGF5OiBcIjNyZFwiLCBiaWxsRGF5OiBcIjFzdFwiIH0sXG5cdFx0XHRcdHsgaWQ6IDExLCBuYW1lOiBcIk5vdmVtYmVyXCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogMTIsIG5hbWU6IFwiRGVjZW1iZXJcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9XG5cdFx0XHRdLFxuXHRcdFx0XCJ3ZWVrbHlcIjogd2Vla2x5R2VuZXJhdG9yKClcblxuXHRcdH1cblx0XHRcblx0XHR2YXIgc2hpcHBpbmdPY2N1cmFuY2UgPSB7XG5cdFx0XHRpZDogMCxcblx0XHRcdG5hbWU6IFwiXCIsXG5cdFx0XHRkYXRlOiBcIlwiXG5cdFx0fTtcblxuXHRcdGZ1bmN0aW9uIHdlZWtseUdlbmVyYXRvcigpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIGFsbFdlZWtzID0gW107XG5cblx0XHRcdGZvcih2YXIgaSA9IDE7IGkgPD0gNTI7IGkrKykge1xuXHRcdFx0XHR2YXIgd2Vla05hbWUgPSBcIldlZWsgXCIgKyBpO1xuXHRcdFx0XHRhbGxXZWVrcy5wdXNoKHsgaWQ6IGksIG5hbWU6IHdlZWtOYW1lLCBzaGlwRGF5OiBcIlR1ZXNkYXlcIiwgYmlsbERheTogXCJGcmlkYXlcIiB9KTtcblx0XHRcdH07XG5cblx0XHRcdHJldHVybiBhbGxXZWVrcztcblx0XHR9OyovXG5cblx0XHQvL2RlZmluZSBmbGF2b3IgdmFyaWFibGVzXG5cdFx0Lyokc2NvcGUuZmxhdm9ycz0gW1xuXHRcdFx0eyBuYW1lOiAnU2VjcmV0IFJlY2lwZSBQZWNhbnMnLCBkZXNjcmlwdGlvbjogXCIgXCIgfSxcblx0XHRcdHsgbmFtZTogJ1NlY3JldCBSZWNpcGUgQWxtb25kcycsIGRlc2NyaXB0aW9uOiBcIiBcIiB9LFxuXHRcdFx0eyBuYW1lOiAnU2VjcmV0IFJlY2lwZSBDYXNoZXdzJywgZGVzY3JpcHRpb246IFwiIFwiIH0sXG5cdFx0XHR7IG5hbWU6ICdTZWNyZXQgUmVjaXBlIFBlYW51dHMnLCBkZXNjcmlwdGlvbjogXCIgXCIgfSxcblx0XHRcdHsgbmFtZTogJ0Npbm5hbW9uIFBlY2FucycsIGRlc2NyaXB0aW9uOiBcIiBcIiB9LFxuXHRcdFx0eyBuYW1lOiAnQ2lubmFtb24gQWxtb25kcycsIGRlc2NyaXB0aW9uOiBcIiBcIiB9LFxuXHRcdFx0eyBuYW1lOiAnRHJ1bmtlbiBQZWNhbnMnLCBkZXNjcmlwdGlvbjogXCIgXCIgfSxcblx0XHRcdHsgbmFtZTogJ01peC1JdC1VcCcsIGRlc2NyaXB0aW9uOiBcIiBcIiB9XG5cdFx0XTtcblxuXHRcdCRzY29wZS5vcmRlclNjaGVkdWxlID0gW1xuXHRcdFx0eyBpZDogMSB9XG5cdFx0XTsqL1xuXG5cdFx0XG5cblx0XHQvL2RlZmluZSBzdGF0ZSB2YXJpYWJsZXNcblx0XHQvKiRzY29wZS5zdGF0ZSA9IHtcblx0XHRcdHRlbXBSZWNpcGlhbnQ6IHtcblx0XHRcdFx0bmFtZToge1xuXHRcdFx0XHRcdGZpcnN0OiBcIlwiLFxuXHRcdFx0XHRcdGxhc3Q6IFwiXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0YWRkcmVzczoge1xuXHRcdFx0XHRcdHN0cmVldDE6IFwiXCIsXG5cdFx0XHRcdFx0c3RyZWV0MjogXCJcIixcblx0XHRcdFx0XHRzdHJlZXQzOiBcIlwiLFxuXHRcdFx0XHRcdGNpdHk6IFwiXCIsXG5cdFx0XHRcdFx0c3RhdGU6IFwiXCIsXG5cdFx0XHRcdFx0emlwOiBcIlwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbnRhY3Q6IHtcblx0XHRcdFx0XHRlbWFpbDogXCJcIixcblx0XHRcdFx0XHRwaG9uZTogXCJcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZWxhdGlvbnNoaXA6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRvcmRlcjoge1xuXHRcdFx0XHRxdHk6IFwiMVwiLFxuXHRcdFx0XHR2aXNpYmlsaXR5OiB7XG5cdFx0XHRcdFx0b25lOiB0cnVlLFxuXHRcdFx0XHRcdHR3bzogZmFsc2UsXG5cdFx0XHRcdFx0dGhyZWU6IGZhbHNlLFxuXHRcdFx0XHRcdGZvdXI6IGZhbHNlLFxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZnJlcXVlbmN5OiB7XG5cdFx0XHRcdHZhbHVlOiAnbW9udGhseSdcblx0XHRcdH0sXG5cdFx0XHRzaGlwcGluZ0Rlc3RpbmF0aW9uczogXCIxXCIsXG5cdFx0XHRyZWNpcGllbnRzQm94OiBcIjFcIixcblx0XHRcdHJlY2lwaWFudFNlbGVjdGVkOiB7XG5cdFx0XHRcdHN0YXRlOiBmYWxzZSxcblx0XHRcdFx0aWQ6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRzdWJUeXBlOiB7fSxcblx0XHRcdHNlbGVjdGVkUmVjaXBpYW50OiAwLFxuXHRcdFx0ZXJyb3JzOiB7XG5cdFx0XHRcdG1pc3NpbmdSZXF1aXJlZDogZmFsc2Vcblx0XHRcdH1cblx0XHR9XG5cblx0XHQkc2NvcGUuc3RhdGVUZXN0ID0gc3RhdGVTZXJ2aWNlXG5cblx0XHQvL2xvY2FsIGZ1bmN0aW9uc1xuXHRcdGZ1bmN0aW9uIGFkZFRvUmVjaXBpYW50TGlzdChyZWxhdGlvbnNoaXApIHtcblx0XHRcdFxuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgbmV3UmVjaXBpYW50ID0gT2JqZWN0LmNyZWF0ZShyZWNpcGlhbnRQcm9maWxlKTtcblx0XHRcdHZhciBleGlzdHNBbHJlYWR5ID0gZmFsc2U7XG5cdFx0XHR2YXIgZW50cnlJbmRleCA9IDA7XG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdC8vMS4gY2hlY2sgZm9yIHRoZSByZWxhdGlvbnNoaXBcblx0XHRcdCRzY29wZS51c2VyRGF0YS5yZWNpcGlhbnRMaXN0LmZvckVhY2goZnVuY3Rpb24ocmVjaXBpYW50KSB7XG5cdFx0XHRcdGlmKHJlY2lwaWFudC5yZWxhdGlvbnNoaXAgPT0gcmVsYXRpb25zaGlwKSB7XG5cdFx0XHRcdFx0ZXhpc3RzQWxyZWFkeSA9IHRydWU7XG5cdFx0XHRcdFx0ZW50cnlJbmRleCA9IGk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdGkrKztcblx0XHRcdH0pO1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdhZGRpbmcnLCByZWxhdGlvbnNoaXAsICd0byByZWNpcGlhbnQgbGlzdCcsICRzY29wZS51c2VyRGF0YS5yZWNpcGlhbnRMaXN0LCBcImFscmVhZHkgRXhpc3RzP1wiLCBleGlzdHNBbHJlYWR5KTtcblxuXHRcdFx0Ly9pZiByZWxhdGlvbnNoaXAgZG9lc24ndCBleGlzdCB5ZXQsIGFkZCBpdFxuXHRcdFx0aWYoIWV4aXN0c0FscmVhZHkpIHtcblx0XHRcdFx0bmV3UmVjaXBpYW50LnJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcDtcblx0XHRcdFx0JHNjb3BlLnVzZXJEYXRhLnJlY2lwaWFudExpc3QucHVzaChuZXdSZWNpcGlhbnQpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvL3JldHVybiByZXN1bHRcblx0XHRcdHJldHVybiBlbnRyeUluZGV4O1xuXHRcdH07XG5cblx0XHRmdW5jdGlvbiByZW1vdmVGcm9tUmVjaXBpYW50TGlzdChyZWxhdGlvbnNoaXApIHtcblx0XHRcdFxuXHRcdFx0Ly9jb25zb2xlLmxvZygncmVtb3ZpbmcnLCByZWxhdGlvbnNoaXAsICd0byByZWNpcGlhbnQgbGlzdCcpO1xuXG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsc1xuXHRcdFx0dmFyIGkgPSAwO1xuXG5cdFx0XHQvL2l0ZXJhdGUgdGhyb3VnaCBhcnJheVxuXHRcdFx0JHNjb3BlLnVzZXJEYXRhLnJlY2lwaWFudExpc3QuZm9yRWFjaChmdW5jdGlvbihyZWNpcGlhbnQpIHtcblx0XHRcdFx0aWYocmVjaXBpYW50LnJlbGF0aW9uc2hpcCA9PSByZWxhdGlvbnNoaXApIHtcblx0XHRcdFx0XHQkc2NvcGUudXNlckRhdGEucmVjaXBpYW50TGlzdC5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aSsrO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vcmV0dXJuIHJlc3VsdFxuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fTtcblxuXHRcdGZ1bmN0aW9uIHNlbGVjdFJlY2lwaWFudChpbmRleCkge1xuXG5cdFx0XHQkc2NvcGUuc3RhdGUuc2VsZWN0ZWRSZWNpcGlhbnQgPSBpbmRleDtcblx0XHR9O1xuXG5cdFx0Ly92aWV3IG1vZGVsIGZ1bmN0aW9uc1xuXHRcdC8vVVBEQVRFIE9SREVSIFZJU0lCSUxJVFlcblx0XHQkc2NvcGUudXBkYXRlT3JkZXJWaXNpYmxpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFsZXNcblx0XHRcdHZhciBoYXNoID0ge1wib25lXCI6IDEsIFwidHdvXCI6IDIsIFwidGhyZWVcIjogMywgXCJmb3VyXCI6IDR9O1xuXHRcdFx0XHRcblx0XHRcdC8vaXRlcmF0ZSB0aHJvdWdoIHZhbHVlc1xuXHRcdFx0T2JqZWN0LmtleXMoJHNjb3BlLnN0YXRlLm9yZGVyLnZpc2liaWxpdHkpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdGlmKGhhc2hba2V5XSA8PSB2YWx1ZSkgJHNjb3BlLnN0YXRlLm9yZGVyLnZpc2liaWxpdHlba2V5XSA9IHRydWVcblx0XHRcdFx0XHRlbHNlICRzY29wZS5zdGF0ZS5vcmRlci52aXNpYmlsaXR5W2tleV0gPSBmYWxzZVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vY29uc29sZS5sb2coJ2NoZWNraW5nIHZhbHVlcycsIHZhbHVlLCAkc2NvcGUuc3RhdGUub3JkZXIudmlzaWJpbGl0eSk7XG5cdFx0XHRcblx0XHR9O1xuXG5cdFx0Ly9VUERBVEUgRlJFUVVFTkNZXG5cdFx0JHNjb3BlLnVwZGF0ZUZyZXF1ZW5jeSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHQkc2NvcGUudXNlckRhdGEuc2hpcHBpbmdTY2hlZHVsZSA9IHNoaXBwaW5nU2NoZWR1bGVzW3ZhbHVlXTtcblx0XHR9O1xuXG5cdFx0Ly9VUERBVEUgT1JERVIgU0NIRURVTEVcblx0XHQkc2NvcGUudXBkYXRlT3JkZXJTY2hlZHVsZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR9XG5cblx0XHQvL1VQREFURSBUSEUgU1VCU0NSSVBUSU9OIFRZUEVcblx0XHQkc2NvcGUudXBkYXRlU3ViVHlwZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHZhciB1cGRhdGVJbmRleCA9IDA7XG5cdFx0XHQkc2NvcGUudXNlckRhdGEuc3ViVHlwZSA9IHZhbHVlO1xuXG5cdFx0XHRpZih2YWx1ZT09XCJteXNlbGZcIikge1xuXHRcdFx0XHQvLyRzY29wZS5zdGF0ZS5yZWNpcGllbnRzQm94ID0gXCIxMFwiO1xuXHRcdFx0XHRhZGRUb1JlY2lwaWFudExpc3QoXCJNeXNlbGZcIik7XG5cdFx0XHRcdHJlbW92ZUZyb21SZWNpcGlhbnRMaXN0KFwiU29tZW9uZVwiKTtcblx0XHRcdFx0c2VsZWN0UmVjaXBpYW50KDApO1xuXHRcdFx0fSBlbHNlIGlmKHZhbHVlPT1cIm90aGVyc1wiKSB7XG5cdFx0XHRcdC8vJHNjb3BlLnN0YXRlLnJlY2lwaWVudHNCb3ggPSBcIjEwXCI7XG5cdFx0XHRcdHVwZGF0ZUluZGV4ID0gYWRkVG9SZWNpcGlhbnRMaXN0KFwiU29tZW9uZVwiKTtcblx0XHRcdFx0cmVtb3ZlRnJvbVJlY2lwaWFudExpc3QoXCJNeXNlbGZcIik7XG5cdFx0XHRcdHNlbGVjdFJlY2lwaWFudCgwKTtcblx0XHRcdH0gZWxzZSBpZih2YWx1ZT09XCJib3RoXCIpIHtcblx0XHRcdFx0Ly8kc2NvcGUuc3RhdGUucmVjaXBpZW50c0JveCA9IFwiMTBcIjtcblx0XHRcdFx0dXBkYXRlSW5kZXggPSBhZGRUb1JlY2lwaWFudExpc3QoXCJNeXNlbGZcIik7XG5cdFx0XHRcdGFkZFRvUmVjaXBpYW50TGlzdChcIlNvbWVvbmVcIik7XG5cdFx0XHRcdHNlbGVjdFJlY2lwaWFudCgwKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0JHNjb3BlLnNlbGVjdFJlY2lwaWFudCA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0XHRzZWxlY3RSZWNpcGlhbnQoaW5kZXgpO1xuXHRcdFx0JHNjb3BlLnN0YXRlLnRlbXBSZWNpcGlhbnQgPSAkc2NvcGUudXNlckRhdGEucmVjaXBpYW50TGlzdFtpbmRleF07XG5cdFx0fTtcblxuXHRcdCRzY29wZS51cGRhdGVSZWNpcGlhbnRWYWx1ZXMgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmRleCA9ICRzY29wZS5zdGF0ZS5zZWxlY3RlZFJlY2lwaWFudDtcblx0XHRcdCRzY29wZS51c2VyRGF0YS5yZWNpcGlhbnRMaXN0W2luZGV4XSA9ICRzY29wZS5zdGF0ZS50ZW1wUmVjaXBpYW50O1xuXHRcdH07Ki9cblx0XHRcblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5jb250cm9sbGVyKCdzdWNjZXNzQ29udHJvbGxlcicsIHN1Y2Nlc3NDb250cm9sbGVyKTtcblxuc3VjY2Vzc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICckcm91dGVQYXJhbXMnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdWNjZXNzQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRyb3V0ZVBhcmFtcykge1xuXHRcblxuXHQvL2RlZmluZSBsb2NhbCB2YXJhaWJsZXNcblx0JHNjb3BlLmNvbmZpcm1hdGlvbkNvZGUgPSAkcm91dGVQYXJhbXMuY29uZmlybWF0aW9uQ29kZTtcblxuXHQvL25vdGlmeSBwcm9ncmVzc1xuXHRjb25zb2xlLmxvZygnc3VjY2VzcyBjb250cm9sZXInLCAkcm91dGVQYXJhbXMuY29uZmlybWF0aW9uQ29kZSwgJHNjb3BlLmNvbmZpcm1hdGlvbkNvZGUpO1xufTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ2JpbGxpbmdBZGRyZXNzJywgYmlsbGluZ0FkZHJlc3MpO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBiaWxsaW5nQWRkcmVzcygpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvYmlsbGluZ0FkZHJlc3MuaHRtJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge30sXG5cdFx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRcdGNvbnRyb2xsZXI6IGJpbGxpbmdBZGRyZXNzQ29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7fVxuXHRcdFxuXHRcdGJpbGxpbmdBZGRyZXNzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICd1c2VyRGF0YVNlcnZpY2UnLCAnc3RhdGVTZXJ2aWNlJ107XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBiaWxsaW5nQWRkcmVzc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCB1c2VyRGF0YVNlcnZpY2UsIHN0YXRlU2VydmljZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vZGVmaW5lIHZpZXdtb2RlbCB2YWx1ZXNcblx0XHRcdHNlbGYudXNlckRhdGEgPSB1c2VyRGF0YVNlcnZpY2U7XG5cdFx0XHRzZWxmLnN0YXRlID0gc3RhdGVTZXJ2aWNlO1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdpbiBiaWxsaW5nIEFEZHJlc3MgY29udHJvbGxlcicsIHNlbGYuc3RhdGUuc2hpcGluZ1NhbWVBc0JpbGxpbmcpO1xuXG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHRcdFxuXHR9OyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmRpcmVjdGl2ZSgnYmlsbGluZ0lucHV0JywgYmlsbGluZ0lucHV0KTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gYmlsbGluZ0lucHV0KCkge1xuXHRcdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9iaWxsaW5nSW5wdXQuaHRtJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge30sXG5cdFx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRcdGNvbnRyb2xsZXI6IGJpbGxpbmdJbnB1dENvbnRyb2xsZXIsXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdFx0fTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge31cblx0XHRcblx0XHRiaWxsaW5nSW5wdXRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3VzZXJEYXRhU2VydmljZScsICdzdGF0ZVNlcnZpY2UnXTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIGJpbGxpbmdJbnB1dENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCB1c2VyRGF0YVNlcnZpY2UsIHN0YXRlU2VydmljZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0XHQvL2RlZmluZSB2aWV3bW9kZWwgdmFsdWVzXG5cdFx0XHR2bS51c2VyRGF0YSA9IHVzZXJEYXRhU2VydmljZTtcblx0XHRcdHZtLnN0YXRlID0gc3RhdGVTZXJ2aWNlO1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdpbiBjb250YWN0SW5wdXR0Q29udHJvbGxlcicpO1xuXG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHRcdFxuXHR9OyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmRpcmVjdGl2ZSgnY29udGFjdElucHV0JywgY29udGFjdElucHV0KTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gY29udGFjdElucHV0KCkge1xuXHRcdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9jb250YWN0SW5wdXQuaHRtJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge30sXG5cdFx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRcdGNvbnRyb2xsZXI6IGNvbnRhY3RJbnB1dHRDb250cm9sbGVyLFxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHRcdH07XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHt9XG5cdFx0XG5cdFx0Y29udGFjdElucHV0dENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAndXNlckRhdGFTZXJ2aWNlJywgJ3N0YXRlU2VydmljZSddO1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gY29udGFjdElucHV0dENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCB1c2VyRGF0YVNlcnZpY2UsIHN0YXRlU2VydmljZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vZGVmaW5lIHZpZXdtb2RlbCB2YWx1ZXNcblx0XHRcdHNlbGYudXNlckRhdGEgPSB1c2VyRGF0YVNlcnZpY2U7XG5cdFx0XHRzZWxmLnN0YXRlID0gc3RhdGVTZXJ2aWNlO1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdpbiBjb250YWN0SW5wdXR0Q29udHJvbGxlcicpO1xuXG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHRcdFxuXHR9OyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmRpcmVjdGl2ZSgnZnJlcXVlbmN5U2VsZWN0aW9uJywgZnJlcXVlbmN5U2VsZWN0aW9uKTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gZnJlcXVlbmN5U2VsZWN0aW9uKCkge1xuXHRcdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9mcmVxdWVuY3lTZWxlY3Rpb24uaHRtJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge30sXG5cdFx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRcdGNvbnRyb2xsZXI6IGZyZXF1ZW5jeVNlbGVjdGlvbkNvbnRyb2xsZXIsXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdFx0fTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge31cblx0XHRcblx0XHRmcmVxdWVuY3lTZWxlY3Rpb25Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBmcmVxdWVuY3lTZWxlY3Rpb25Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdFx0XHRzZWxmLmZyZXF1ZW5jaWVzID0gW1xuXHRcdFx0XHRcIm1vbnRoXCIsXG5cdFx0XHRcdFwicXVhcnRlclwiLFxuXHRcdFx0XHRcInllYXJcIlxuXHRcdFx0XTtcblxuXHRcdFx0c2VsZi5zdGFydHMgPSB7XG5cdFx0XHRcdG1vbnRoOiBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXSxcblx0XHRcdFx0cXVhcnRlcjogW1wiV2ludGVyXCIsIFwiU3ByaW5nXCIsIFwiU3VtbWVyXCIsIFwiRmFsbFwiXSxcblx0XHRcdFx0eWVhcjogW1wiMjAxOFwiLCBcIjIwMTlcIiwgXCIyMDIwXCJdXG5cdFx0XHR9XG5cblx0XHRcdHNlbGYuc2VsZWN0ZWRGcmVxdWVuY3kgPSAnJztcblx0XHRcdHNlbGYuc3RhcnRzSW4gPSAnJztcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gZnJlcXVlbmN5U2VsZWN0aW9uQ29udHJvbGxlcicpO1xuXG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHRcdFxuXHR9OyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmRpcmVjdGl2ZSgncHJvZHVjdFNlbGVjdGlvbicsIHByb2R1Y3RTZWxlY3Rpb24pO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBwcm9kdWN0U2VsZWN0aW9uKCkge1xuXHRcdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9wcm9kdWN0U2VsZWN0aW9uLmh0bScsXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdFx0c2NvcGU6IHtcblx0XHRcdH0sXG5cdFx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRcdGNvbnRyb2xsZXI6IHByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyLFxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHRcdH07XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblx0XHR9XG5cdFx0XG5cdFx0cHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAndXNlckRhdGFTZXJ2aWNlJywgJ3N0YXRlU2VydmljZScsICdzcXVhcmVTZXJ2aWNlJ107XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlcigkc2NvcGUsICRsb2csIHVzZXJEYXRhU2VydmljZSwgc3RhdGVTZXJ2aWNlLCBzcXVhcmVTZXJ2aWNlKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZXNcblx0XHRcdHNlbGYudXNlckRhdGEgPSB1c2VyRGF0YVNlcnZpY2U7XG5cdFx0XHRzZWxmLnN0YXRlID0gc3RhdGVTZXJ2aWNlLnByb2R1Y3RTZWxlY3Rpb247XG5cdFx0XHRzZWxmLnN0YXRlWydpbmZvQm94J10gPSBzdGF0ZVNlcnZpY2UuaW5mb0JveGVzLmZsYXZvckRlZnM7XG5cblx0XHRcdC8vIGRvbmxvYWQgcmVzb3VyY2VzXG5cdFx0XHRzcXVhcmVTZXJ2aWNlLmRvd25sb2FkLnByb2R1Y3RMaXN0KClcblx0XHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocyl7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ2dvdCB0aGlzIHByb2R1Y3QgbGlzdCcsIHMpO1xuXHRcdFx0XHRzZWxmLmZsYXZvcnMgPSBzO1xuXHRcdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdwcm9kdWN0IGxpc3QgZXJyb3IsICcsIGUpO1xuXHRcdFx0fSk7XG5cblxuXG5cdFx0XHRzZWxmLm9yZGVyTGlzdCA9IHVzZXJEYXRhU2VydmljZS5vcmRlcjtcblxuXHRcdFx0c2VsZi5wcm9kdWN0UHJpY2UgPSAxNjk5O1xuXG5cdFx0XHRzZWxmLm9yZGVyID0gdXNlckRhdGFTZXJ2aWNlLnRlbmRlcjtcblxuXG5cdFx0XHR2YXIgcHJvZHVjdE9iamVjdCA9IHsgXG5cdFx0XHRcdGlkOiAxLCBcblx0XHRcdFx0c3FySWQ6IFwiXCIsXG5cdFx0XHRcdHNxVmFySWQ6IFwiXCIsXG5cdFx0XHRcdGZsYXZvcjogXCJcIiwgXG5cdFx0XHRcdG1peGZsdnJDb3VudDogMCxcblx0XHRcdFx0bWl4Zmx2cnM6IHtcblx0XHRcdFx0XHRzcnBlYzogeyBpZDogXCJzcnBlY1wiLCBuYW1lOiBcIlNSIFBlY2Fuc1wiLCBzZWxlY3RlZDpmYWxzZSwgY2xhc3Nlczp7XCJsaXN0LWdyb3VwLWl0ZW1cIjogdHJ1ZSwgXCJhY3RpdmVcIjogZmFsc2V9IH0sXG5cdFx0XHRcdFx0c3JhbG06IHsgaWQ6IFwic3JhbG1cIiwgbmFtZTogXCJTUiBBbG1vbmRzXCIsIHNlbGVjdGVkOmZhbHNlLCBjbGFzc2VzOntcImxpc3QtZ3JvdXAtaXRlbVwiOiB0cnVlLCBcImFjdGl2ZVwiOiBmYWxzZX0gIH0sXG5cdFx0XHRcdFx0c3Jjc2g6IHsgaWQ6IFwic3Jjc2hcIiwgbmFtZTogXCJTUiBDYXNoZXdzXCIsIHNlbGVjdGVkOmZhbHNlLCBjbGFzc2VzOntcImxpc3QtZ3JvdXAtaXRlbVwiOiB0cnVlLCBcImFjdGl2ZVwiOiBmYWxzZX0gIH0sXG5cdFx0XHRcdFx0c3JwZWE6IHsgaWQ6IFwic3JwZWFcIiwgbmFtZTogXCJTUiBQZWFudXRzXCIsIHNlbGVjdGVkOmZhbHNlLCBjbGFzc2VzOntcImxpc3QtZ3JvdXAtaXRlbVwiOiB0cnVlLCBcImFjdGl2ZVwiOiBmYWxzZX0gIH0sXG5cdFx0XHRcdFx0Y25wZWM6IHsgaWQ6IFwiY25wZWNcIiwgbmFtZTogXCJDaW4gUGVjYW5zXCIsIHNlbGVjdGVkOmZhbHNlLCBjbGFzc2VzOntcImxpc3QtZ3JvdXAtaXRlbVwiOiB0cnVlLCBcImFjdGl2ZVwiOiBmYWxzZX0gIH0sXG5cdFx0XHRcdFx0Y25hbG06IHsgaWQ6IFwiY25hbG1cIiwgbmFtZTogXCJDaW4gQWxtb25kc1wiLCBzZWxlY3RlZDpmYWxzZSwgY2xhc3Nlczp7XCJsaXN0LWdyb3VwLWl0ZW1cIjogdHJ1ZSwgXCJhY3RpdmVcIjogZmFsc2V9ICB9LFxuXHRcdFx0XHRcdGRycGVjOiB7IGlkOiBcImRycGVjXCIsIG5hbWU6IFwiRHJ1bmsgUGVjYW5zXCIsIHNlbGVjdGVkOmZhbHNlLCBjbGFzc2VzOntcImxpc3QtZ3JvdXAtaXRlbVwiOiB0cnVlLCBcImFjdGl2ZVwiOiBmYWxzZX0gIH1cblx0XHRcdFx0fSxcblx0XHRcdFx0bWl4Rmx2cnNTZWxlY3RlZDogW10sXG5cdFx0XHRcdG1peDogXCJcIlxuXHRcdFx0fTtcblxuXHRcdFx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZXNcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gcHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXInKTtcblxuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgZnVuY3Rpb25zXG5cdFx0XHRmdW5jdGlvbiBzdW1PcmRlcigpIHtcblxuXHRcdFx0XHRzZWxmLm9yZGVyLnRvdGFsID0gKHNlbGYub3JkZXJMaXN0Lmxlbmd0aCAqIHNlbGYucHJvZHVjdFByaWNlKSAtIHNlbGYub3JkZXIuZGlzY291bnRzO1xuXHRcdFx0XHRpZihzZWxmLm9yZGVyTGlzdC5sZW5ndGggPT0gNCkgc2VsZi5vcmRlci50b3RhbCA9IHNlbGYub3JkZXIudG90YWwgLSBzZWxmLnByb2R1Y3RQcmljZTtcblx0XHRcdH07XG5cblx0XHRcdC8vZGVmaW5lIHZpZXcgbW9kZWwgZnVuY3Rpb25zXG5cdFx0XHQvL0FERCBBIFBST0RVQ1QgQlVUVE9OXG5cdFx0XHRzZWxmLmFkZEFQcm9kdWN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmVsc1xuXHRcdFx0XHR2YXIgbm9PZlByb2R1Y3RzID0gc2VsZi5vcmRlckxpc3QubGVuZ3RoO1xuXG5cdFx0XHRcdC8vaWYgdGhlcmUgaXMgcm9vbSBhZGQgYW5vdGhlciBwcm9kdWN0XG5cdFx0XHRcdGlmKG5vT2ZQcm9kdWN0cyA8IDQpIHNlbGYub3JkZXJMaXN0LnB1c2goT2JqZWN0LmNyZWF0ZShwcm9kdWN0T2JqZWN0KSk7XG5cblx0XHRcdFx0Ly9pZiB0aGlzIGlzIHRoZSBsYXN0IGF2YWlsYWJsZSBzbG90IGhpZGUgdGhlIGFkZCBidXR0b25cblx0XHRcdFx0aWYobm9PZlByb2R1Y3RzID09IDMpIHNlbGYuc3RhdGUuYWRkQVByb2R1Y3RCdG4udmlzaWJsZSA9IGZhbHNlO1xuXG5cdFx0XHRcdC8vaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBwcm9kdWN0IGFkZCB0aGUgcmVtb3ZlIGJ1dHRvblxuXHRcdFx0XHRpZihub09mUHJvZHVjdHMgPiAwKSBzZWxmLnN0YXRlLnJlbW92ZUxhc3RQcm9kdWN0QnRuLnZpc2libGUgPSB0cnVlO1xuXG5cdFx0XHRcdC8vbWFrZSBzdXJlIHRoZSBpZCdzIGFyZSBjb3JyZWN0XG5cdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPD0gbm9PZlByb2R1Y3RzOyBpKyspIHtcblx0XHRcdFx0XHRzZWxmLm9yZGVyTGlzdFtpXS5pZCA9IGkgKyAxXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvL2NhbGN1bGF0ZSBtb25leVxuXHRcdFx0XHQvL2lmKG5vT2ZQcm9kdWN0cyA9PSAzKSBzZWxmLm9yZGVyLmRpc2NvdW50cyA9IHNlbGYucHJvZHVjdFByaWNlO1xuXG5cdFx0XHRcdHN1bU9yZGVyKCk7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ2FkZGluZyBhIHByb2R1Y3QnKTtcblx0XHRcdH07XG5cblx0XHRcdC8vUkVNT1ZFIExBU1QgUFJPRFVDVCBCVVRUT05cblx0XHRcdHNlbGYucmVtb3ZlTGFzdFByb2R1Y3QgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHRcdHZhciBub09mUHJvZHVjdHMgPSBzZWxmLm9yZGVyTGlzdC5sZW5ndGg7XG5cdFx0XHRcdHZhciByZW1vdmVJbmRleCA9IG5vT2ZQcm9kdWN0cyAtIDE7XG5cblx0XHRcdFx0Ly9pZiB0aGVyZSBhcmUgYXQgbGVhc3QgdHdvIHByb2R1Y3RzLCByZW1vdmUgb25lXG5cdFx0XHRcdGlmKG5vT2ZQcm9kdWN0cyA+IDEpIHNlbGYub3JkZXJMaXN0LnNwbGljZShyZW1vdmVJbmRleCwgMSk7XG5cblx0XHRcdFx0Ly9pZiBkb3duIHRvIG9uZSBpdGVtLCBoaWRlIHRoZSByZW1vdmUgYnV0dG9uXG5cdFx0XHRcdGlmKG5vT2ZQcm9kdWN0cyA9PSAyKSBzZWxmLnN0YXRlLnJlbW92ZUxhc3RQcm9kdWN0QnRuLnZpc2libGUgPSBmYWxzZTtcblxuXHRcdFx0XHQvL2JyaW5nIHRoZSBhZGQgYnV0dG9uIGJhY2tcblx0XHRcdFx0c2VsZi5zdGF0ZS5hZGRBUHJvZHVjdEJ0bi52aXNpYmxlID0gdHJ1ZTtcblxuXHRcdFx0XHQvL2NhbGN1bGF0ZSBtb25leVxuXHRcdFx0XHRpZihub09mUHJvZHVjdHMgPT0gNCkgc2VsZi5vcmRlci5kaXNjb3VudHMgPSAwO1xuXG5cdFx0XHRcdHN1bU9yZGVyKCk7XG5cblx0XHRcdFx0Ly9jb25zb2xlLmxvZygncmVtb3ZpbmcgcHJvZHVjdCcsIG5vT2ZQcm9kdWN0cyk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvL1JFTU9WRSBBIFBST0RVQ1QgQlVUVE9OXG5cdFx0XHRzZWxmLnJlbW92ZUFQcm9kdWN0ID0gZnVuY3Rpb24oaWQpIHtcblx0XHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHRcdHZhciBub09mUHJvZHVjdHMgPSBzZWxmLm9yZGVyTGlzdC5sZW5ndGg7XG5cdFx0XHRcdHZhciByZW1vdmVJbmRleCA9IGlkIC0gMTtcblxuXHRcdFx0XHQvL2lmIHRoZXJlIGFyZSBhdCBsZWFzdCB0d28gcHJvZHVjdHMsIHJlbW92ZSBvbmVcblx0XHRcdFx0aWYobm9PZlByb2R1Y3RzID4gMSkgc2VsZi5vcmRlckxpc3Quc3BsaWNlKHJlbW92ZUluZGV4LCAxKTtcblxuXHRcdFx0XHQvL21ha2Ugc3VyZSB0aGUgaWQncyBhcmUgY29ycmVjdFxuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDw9IChzZWxmLm9yZGVyTGlzdC5sZW5ndGggLSAxKTsgaSsrKSB7XG5cdFx0XHRcdFx0c2VsZi5vcmRlckxpc3RbaV0uaWQgPSBpICsgMVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3VtT3JkZXIoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly9WQUxJREFURSBUSEUgUFJPRFVDVFMgV0hFTiBDSEFOR0VEXG5cdFx0XHRzZWxmLnZhbGlkYXRlUHJvZHVjdHMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHZhbGlkID0gZmFsc2U7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coXCJ2YWxpZGF0ZWluZyBwcm9kdWN0c1wiKTtcblxuXHRcdFx0XHRpZih2YWxpZCkgc2VsZi5zdGF0ZS5oZWFkZXJTdHlsZS5jb2xvciA9IFwicmdiKDAsMTY1LDEyOClcIlxuXHRcdFx0fVxuXG5cdFx0XHQvL1xuXHRcdFx0c2VsZi5jb3VudE1peEZsYXZvcnMgPSBmdW5jdGlvbihmbGF2b3JPYmplY3QpIHtcblx0XHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHRcdHZhciBjb3VudGVyID0gMDtcblxuXHRcdFx0XHQvL2l0ZXJhdGUgdGhyb2d1aCBvYmplY3Rcblx0XHRcdFx0T2JqZWN0LmtleXMoZmxhdm9yT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XHRcdGlmKGZsYXZvck9iamVjdFtrZXldLnNlbGVjdGVkKSBjb3VudGVyKytcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuIGNvdW50ZXI7XG5cdFx0XHR9O1xuXG5cdFx0XHRzZWxmLnVwZGF0ZVNob3BwaW5nQ2FydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCd1cGRhdGluZyBzaG9wcGluZyBjYXJ0Jyk7XG5cdFx0XHRcdC8vc2VsZi51c2VyRGF0YS5vcmRlciA9IHNlbGYub3JkZXJMaXN0O1xuXHRcdFx0XHQvL2l0ZXJhdGUgb3ZlciBwcm9kdWN0c1xuXHRcdFx0XHRzZWxmLm9yZGVyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHByb2R1Y3QpIHtcblxuXHRcdFx0XHRcdC8vaXRlcmF0ZSBvdmVyIGFsbCBmbGF2b3JzXG5cdFx0XHRcdFx0c2VsZi5mbGF2b3JzLmZvckVhY2goZnVuY3Rpb24oZmxhdm9yKSB7XG5cdFx0XHRcdFx0XHQvL29ubHkgaWYgdGhlIHByb2R1Y3QgaXMgYSBtYXRjaFxuXHRcdFx0XHRcdFx0aWYoZmxhdm9yLm5hbWUgPT0gcHJvZHVjdC5mbGF2b3IpIHtcblx0XHRcdFx0XHRcdFx0cHJvZHVjdC5zcXJJZCA9IGZsYXZvci5pZDtcblxuXHRcdFx0XHRcdFx0XHRpZihwcm9kdWN0LmlkIDwgNCkgcHJvZHVjdC5zcVZhcklkID0gZmxhdm9yLnZhcmlhdGlvbnNbMF0uaWRcblx0XHRcdFx0XHRcdFx0ZWxzZSBwcm9kdWN0LnNxVmFySWQgPSBmbGF2b3IudmFyaWF0aW9uc1sxXS5pZFxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSlcblxuXG5cdFx0XHRcdGNvbnNvbGUubG9nKHNlbGYub3JkZXJMaXN0KTtcblxuXHRcdFx0fTtcblxuXHRcdFx0c2VsZi5idWlsZEZsYXZvckxpc3QgPSBmdW5jdGlvbihpZCkge1xuXHRcdFx0XHQvL2NsZWFuIHRoZSBsaXN0XG5cdFx0XHRcdHNlbGYub3JkZXJMaXN0W2lkXS5taXhGbHZyc1NlbGVjdGVkID0gW107XG5cblx0XHRcdFx0Ly9ub3RpZnkgcHJvZ3Jlc3Ncblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnYnVpbGlkbmcgYSBmbGF2b3IgbGlzdCcsIGlkLCBzZWxmLm9yZGVyTGlzdCk7XG5cblx0XHRcdFx0Ly9pdHJhdGUgdGhyb3VnaCBmbGF2b3JzLCBhZGQgdG8gbGlzdCB3aGVuIHRydWVcblx0XHRcdFx0T2JqZWN0LmtleXMoc2VsZi5vcmRlckxpc3RbaWRdLm1peGZsdnJzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXG5cdFx0XHRcdFx0aWYoc2VsZi5vcmRlckxpc3RbaWRdLm1peGZsdnJzW2tleV0uc2VsZWN0ZWQpXG5cdFx0XHRcdFx0XHRzZWxmLm9yZGVyTGlzdFtpZF0ubWl4Rmx2cnNTZWxlY3RlZC5wdXNoKHNlbGYub3JkZXJMaXN0W2lkXS5taXhmbHZyc1trZXldLm5hbWUpO1xuXHRcdFx0XHR9KTtcblxuXG5cblx0XHRcdH07XG5cblx0XHRcdC8vc3RhcnQgdGhpcyBieSBhZGRpbmcgYSBwcm9kdWN0IHRvIHRoZSBvcmRlciBsaXN0XG5cdFx0XHRzZWxmLm9yZGVyTGlzdC5wdXNoKE9iamVjdC5jcmVhdGUocHJvZHVjdE9iamVjdCkpO1xuXG5cdFx0XHRzdW1PcmRlcigpO1xuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ3NoaXBEZXN0Jywgc2hpcERlc3QpO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBzaGlwRGVzdCgpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlOiAnPGRpdj50ZXN0aW5nPC9kaXY+Jyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge30sXG5cdFx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRcdGNvbnRyb2xsZXI6IHNoaXBEZXN0Q29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7fVxuXHRcdFxuXHRcdHNoaXBEZXN0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICd6aXBjb21wbGV0ZSddO1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gc2hpcERlc3RDb250cm9sbGVyKCRzY29wZSwgJGxvZywgemlwY29tcGxldGUpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRzZWxmLnppcENoZWNrID0gemlwY29tcGxldGU7XG5cblx0XHRcdC8vY29uc29sZS5sb2coJ2luIHNoaXBEZXN0Q29udHJvbGxlcicpO1xuXG5cblx0XHR9XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xuXHR9IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuZGlyZWN0aXZlKCdzaW5nbGVBZGRyZXNzSW5wdXQnLCBzaW5nbGVBZGRyZXNzSW5wdXQpO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBzaW5nbGVBZGRyZXNzSW5wdXQoKSB7XG5cdFx0Ly9kZWZpbmUgdGhlIGRpcmVjdGl2ZVxuXHRcdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0XHRyZXN0cmljdDogXCJBRUNNXCIsXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL3NpbmdsZUFkZHJlc3NJbnB1dC5odG0nLFxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRcdHNjb3BlOiB7XG5cdFx0XHRcdGFkZHJlc3M6IFwiPVwiXG5cdFx0XHR9LFxuXHRcdFx0bGluazogbGlua0Z1bmMsXG5cdFx0XHRjb250cm9sbGVyOiBzaW5nbGVBZGRyZXNzSW5wdXRDb250cm9sbGVyLFxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHRcdH07XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHt9XG5cdFx0XG5cdFx0c2luZ2xlQWRkcmVzc0lucHV0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICd1c2VyRGF0YVNlcnZpY2UnLCAnc3RhdGVTZXJ2aWNlJ107XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBzaW5nbGVBZGRyZXNzSW5wdXRDb250cm9sbGVyKCRzY29wZSwgJGxvZywgdXNlckRhdGFTZXJ2aWNlLCBzdGF0ZVNlcnZpY2UpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQvL2RlZmluZSB2aWV3bW9kZWwgdmFsdWVzXG5cdFx0XHRzZWxmLnVzZXJEYXRhID0gdXNlckRhdGFTZXJ2aWNlO1xuXHRcdFx0c2VsZi5zdGF0ZSA9IHN0YXRlU2VydmljZVxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gc2luZ2xlQWRkcmVzc0lucHV0Q29udHJvbGxlcicpO1xuXG5cdFx0XHRzZWxmLnVwZGF0ZUJpbGxpbmdBZGRyZXNzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmKHNlbGYuc3RhdGUuc2hpcGluZ1NhbWVBc0JpbGxpbmcpIHtcblx0XHRcdFx0XHRzZWxmLnVzZXJEYXRhLmJpbGxpbmdBZGRyZXNzLnN0cmVldCA9IHNlbGYudXNlckRhdGEuc2hpcHBpbmdEZXN0aW5hdGlvbi5zdHJlZXRcblx0XHRcdFx0XHRzZWxmLnVzZXJEYXRhLmJpbGxpbmdBZGRyZXNzLnppcCA9IHNlbGYudXNlckRhdGEuc2hpcHBpbmdEZXN0aW5hdGlvbi56aXBcblx0XHRcdFx0XHRzZWxmLnVzZXJEYXRhLmJpbGxpbmdBZGRyZXNzLmNpdHkgPSBzZWxmLnVzZXJEYXRhLnNoaXBwaW5nRGVzdGluYXRpb24uY2l0eVxuXHRcdFx0XHRcdHNlbGYudXNlckRhdGEuYmlsbGluZ0FkZHJlc3Muc3RhdGUgPSBzZWxmLnVzZXJEYXRhLnNoaXBwaW5nRGVzdGluYXRpb24uc3RhdGVcblx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHRcdFxuXHR9OyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmRpcmVjdGl2ZSgnc3ViVGVybXNDb25kJywgc3ViVGVybXNDb25kKTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gc3ViVGVybXNDb25kKCkge1xuXHRcdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9zdWJUZXJtc0NvbmQuaHRtJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge1xuXHRcdFx0fSxcblx0XHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdFx0Y29udHJvbGxlcjogc3ViVGVybXNDb25kQ29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cdFx0fVxuXHRcdFxuXHRcdHN1YlRlcm1zQ29uZENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJGxvY2F0aW9uJywgJ3N0YXRlU2VydmljZScsICd1c2VyRGF0YVNlcnZpY2UnLCAndmFsaWRhdGlvblNlcnZpY2UnLCAnc3VibWlzc2lvblNlcnZpY2UnLCAnc3F1YXJlU2VydmljZSddO1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gc3ViVGVybXNDb25kQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgc3RhdGVTZXJ2aWNlLCB1c2VyRGF0YVNlcnZpY2UsIHZhbGlkYXRpb25TZXJ2aWNlLCBzdWJtaXNzaW9uU2VydmljZSwgc3F1YXJlU2VydmljZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdFx0XHRzZWxmLnN0YXRlID0gc3RhdGVTZXJ2aWNlO1xuXHRcdFx0c2VsZi51c2VyRGF0YSA9IHVzZXJEYXRhU2VydmljZTtcblx0XHRcdHNlbGYudmFsaWRhdGUgPSB2YWxpZGF0aW9uU2VydmljZTtcblx0XHRcdHNlbGYuc3F1YXJlID0gc3F1YXJlU2VydmljZTtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gc3ViVGVybXNDb25kQ29udHJvbGxlcicpO1xuXHRcdFx0LypzZWxmLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnc3VibWl0dGlnIHRoZSBmb3JtJyk7XG5cblx0XHRcdFx0Ly9zdWJtaXQgdGhlIGZvcm1cblx0XHRcdFx0c3VibWlzc2lvblNlcnZpY2Uuc3VibWl0KHNlbGYudXNlckRhdGEpXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0XHRcdHZhciBuZXdQYXRoID0gJy9zdWNjZXNzLycgKyBzLmRhdGE7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIHBhdGggYmFjaycsIG5ld1BhdGgpXG5cdFx0XHRcdFx0JGxvY2F0aW9uLnBhdGgobmV3UGF0aCk7XG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseSgpO1xuXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCd0aGVyZSB3YXMgYW4gZXJyb3InLCBlKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9Ki9cblxuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCIvKlxuKlx0Uk9VVEVTLUNPTkZJR1xuKlxuKlx0VGhpcyBtb2R1bGUgc2V0cyB1cCBhbGwgdGhlIHJlcXVpcmVkIGFuZ3VsYXIgcm91dGVzIGZvciB0aGlzIHdlYiBhcHAuXG4qL1xuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2Fuc3ViJylcbiAgICAuY29uZmlnKGNvbmZpZyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXHQkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTtcbiAgICAkcm91dGVQcm92aWRlclxuXHQvL1BVQkxJQyBST1VURVNcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9tb250aGx5U3ViLmh0bScsICAgICAgLy8ndmlld3MvbW9udGhseVN1Yi5odG0nXG4gICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcicsICAgICAgICAgICAvLydtYWluQ29udHJvbGxlcidcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL3N1Y2Nlc3MvOmNvbmZpcm1hdGlvbkNvZGUnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvc3VjY2Vzcy5odG0nLCAgICAgIC8vJ3ZpZXdzL3N1Y2Nlc3MuaHRtbCdcbiAgICAgICAgY29udHJvbGxlcjogJ3N1Y2Nlc3NDb250cm9sbGVyJywgICAgICAgICAgIC8vJ3N1Y2Nlc3MnXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG5cdC5vdGhlcndpc2Uoe1xuICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICB9KTtcbn1cblxuLypcbiogICBSRVFVSVJFRCBGVU5DVElPTlNcbipcbiovXG5cblxuIiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnZXJyb3JIYW5kbGluZ1NlcnZpY2UnLCBlcnJvckhhbmRsaW5nU2VydmljZSk7XG5cdFx0XG4vKiBAbmdJbmplY3QgKi9cbmVycm9ySGFuZGxpbmdTZXJ2aWNlLiRpbmplY3QgPSBbXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlcnJvckhhbmRsaW5nU2VydmljZSgpIHtcblx0Ly9kZWZpbmUgbG9jYWwgdmFyYWlibGVzXG5cdHZhciBlcnJvckhhbmRsaW5nID0ge1xuXHRcdFxuXHR9O1xuXG5cdHJldHVybiBlcnJvckhhbmRsaW5nO1xufTtcdCIsIlx0YW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnbW9kYWxTZXJ2aWNlJywgbW9kYWxTZXJ2aWNlKTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0bW9kYWxTZXJ2aWNlLiRpbmplY3QgPSBbJyR1aWJNb2RhbCddO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBtb2RhbFNlcnZpY2UoJHVpYk1vZGFsKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIG1vZGFsRGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICAgICAgICAgIGtleWJvYXJkOiB0cnVlLFxuICAgICAgICAgICAgbW9kYWxGYWRlOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9tb2RhbC5odG0nXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG1vZGFsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uVGV4dDogJ0Nsb3NlJyxcbiAgICAgICAgICAgIGFjdGlvbkJ1dHRvblRleHQ6ICdPSycsXG4gICAgICAgICAgICBoZWFkZXJUZXh0OiAnUHJvY2VlZD8nLFxuICAgICAgICAgICAgYm9keVRleHQ6ICdQZXJmb3JtIHRoaXMgYWN0aW9uPydcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNob3dNb2RhbCA9IGZ1bmN0aW9uIChjdXN0b21Nb2RhbERlZmF1bHRzLCBjdXN0b21Nb2RhbE9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghY3VzdG9tTW9kYWxEZWZhdWx0cykgY3VzdG9tTW9kYWxEZWZhdWx0cyA9IHt9O1xuICAgICAgICAgICAgY3VzdG9tTW9kYWxEZWZhdWx0cy5iYWNrZHJvcCA9ICdzdGF0aWMnO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvdyhjdXN0b21Nb2RhbERlZmF1bHRzLCBjdXN0b21Nb2RhbE9wdGlvbnMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uIChjdXN0b21Nb2RhbERlZmF1bHRzLCBjdXN0b21Nb2RhbE9wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vQ3JlYXRlIHRlbXAgb2JqZWN0cyB0byB3b3JrIHdpdGggc2luY2Ugd2UncmUgaW4gYSBzaW5nbGV0b24gc2VydmljZVxuICAgICAgICAgICAgdmFyIHRlbXBNb2RhbERlZmF1bHRzID0ge307XG4gICAgICAgICAgICB2YXIgdGVtcE1vZGFsT3B0aW9ucyA9IHt9O1xuXG4gICAgICAgICAgICAvL01hcCBhbmd1bGFyLXVpIG1vZGFsIGN1c3RvbSBkZWZhdWx0cyB0byBtb2RhbCBkZWZhdWx0cyBkZWZpbmVkIGluIHNlcnZpY2VcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRlbXBNb2RhbERlZmF1bHRzLCBtb2RhbERlZmF1bHRzLCBjdXN0b21Nb2RhbERlZmF1bHRzKTtcblxuICAgICAgICAgICAgLy9NYXAgbW9kYWwuaHRtbCAkc2NvcGUgY3VzdG9tIHByb3BlcnRpZXMgdG8gZGVmYXVsdHMgZGVmaW5lZCBpbiBzZXJ2aWNlXG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0ZW1wTW9kYWxPcHRpb25zLCBtb2RhbE9wdGlvbnMsIGN1c3RvbU1vZGFsT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmICghdGVtcE1vZGFsRGVmYXVsdHMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHRlbXBNb2RhbERlZmF1bHRzLmNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubW9kYWxPcHRpb25zID0gdGVtcE1vZGFsT3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1vZGFsT3B0aW9ucy5vayA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmNsb3NlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RhbE9wdGlvbnMuY2xvc2UgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAkbW9kYWwub3Blbih0ZW1wTW9kYWxEZWZhdWx0cykucmVzdWx0O1xuICAgICAgICB9O1xuXHRcdFxuXHR9O1x0IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnc2VydmVyU2VydmljZScsIHNlcnZlclNlcnZpY2UpO1xuXHRcdFxuLyogQG5nSW5qZWN0ICovXG5zZXJ2ZXJTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VydmVyU2VydmljZSgkaHR0cCkge1xuXHQvL2RlZmluZSBsb2NhbCB2YXJhaWJsZXNcblx0dmFyIHNlcnZlclNlcnZpY2UgPSB7XG5cdFx0Y2hhcmdlQ2FyZDogY2hhcmdlQ2FyZCxcblx0XHRnZXQ6IHtcblx0XHRcdHNxckFwcElkOiBnZXRTcXJBcHBJZCxcblx0XHRcdHNxclByZGN0TGlzdDogZ2V0U3FyUHJkY3RMaXN0XG5cdFx0fVxuXHR9O1xuXG5cdC8vY2hhcmdlIGEgY3JlZGl0IGNhcmRcblx0ZnVuY3Rpb24gY2hhcmdlQ2FyZCh1cmwsIGRhdGEpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdFxuXHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcblx0XHRcdFx0fSxcblx0XHRcdFx0ZGF0YTogZGF0YVxuXHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXHRcdH0pO1x0XHRcdFxuXHR9O1xuXG5cdC8vZ2V0c3QgdGhlIHJlcXVpcmVkIGNvZGVcblx0ZnVuY3Rpb24gZ2V0U3FyQXBwSWQoKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XG5cdFx0Ly9sb2cgcHJvZ3Jlc3Ncblx0XHQvLyRsb2cuaW5mbygnc2VuZGluZyBmcm9tIHNxcicpO1xuXHRcdFxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0XG5cdFx0XHQkaHR0cCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogJy9hcGkvc3F1YXJlSWQnXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZygnZ290IHRoaXMgcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XHRcblx0fTtcblxuXHRmdW5jdGlvbiBnZXRTcXJQcmRjdExpc3QoKSB7XG5cblx0XHQvL3JldHVybiBhc3luYyB3b3JrXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQkaHR0cCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogJy9hcGkvcHJvZHVjdExpc3QnXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZygnZ290IHRoaXMgcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH07XG5cblx0cmV0dXJuIHNlcnZlclNlcnZpY2U7XG59O1x0IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnc3F1YXJlU2VydmljZScsIHNxdWFyZVNlcnZpY2UpO1xuXHRcdFxuLyogQG5nSW5qZWN0ICovXG5zcXVhcmVTZXJ2aWNlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJGxvY2F0aW9uJywgJ3NlcnZlclNlcnZpY2UnLCAndXNlckRhdGFTZXJ2aWNlJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3F1YXJlU2VydmljZSgkcm9vdFNjb3BlLCAkbG9jYXRpb24sIHNlcnZlclNlcnZpY2UsIHVzZXJEYXRhU2VydmljZSkge1xuXHQvL2RlZmluZSBsb2NhbCB2YXJhaWJsZXNcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHZhciBzcXVhcmVTZXJ2aWNlID0ge1xuXHRcdF9jaGFyZ2VDYXJkV2l0aE5vbmNlOiBfY2hhcmdlQ2FyZFdpdGhOb25jZSxcblx0XHRzdWJtaXRGb3JtOiBzdWJtaXRGb3JtLFxuXHRcdGRvd25sb2FkOiB7XG5cdFx0XHRwcm9kdWN0TGlzdDogZG93bmxvYWRQcm9kdWN0TGlzdFxuXHRcdH0sXG5cdFx0aW5pdDogaW5pdFxuXHR9O1xuXG5cdC8vY2hhcmdlIGNhcmQgd2l0aCBub25jZVxuXHRmdW5jdGlvbiBfY2hhcmdlQ2FyZFdpdGhOb25jZShub25jZSkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciB1cmwgPSAnL2FwaS9jaGFyZ2VfY2FyZCc7XG5cdFx0dXNlckRhdGFTZXJ2aWNlLmNhcmQubm9uY2UgPSBub25jZTtcblxuXHRcdC8vcGFzcyB0aGUgZGF0YSB0byB0aGUgc2VydmVyXG5cdFx0c2VydmVyU2VydmljZS5jaGFyZ2VDYXJkKHVybCwgdXNlckRhdGFTZXJ2aWNlKVxuXHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgbmV3UGF0aCA9ICcvc3VjY2Vzcy8nICsgcy5kYXRhO1xuXG5cdFx0XHQvL2xvZyBwcm9ncmVzc1xuXHRcdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIHBhdGggYmFjaycsIG5ld1BhdGgpO1xuXG5cdFx0XHQvL3JlLXJvdXRlIHRoZSBwYWdlXG5cdFx0XHQkbG9jYXRpb24ucGF0aChuZXdQYXRoKTtcblx0XHRcdCRyb290U2NvcGUuJGFwcGx5KCk7XG5cblx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnRXJyb3I6JyxlKTtcblx0XHR9KTtcblx0fTtcblxuXHQvL3N1Ym1pdHMgdGhlIGZvcm0gZm9yIHVzXG5cdGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7XG5cdFx0Y29uc29sZS5sb2coJ3N1Ym1pdHRpbmcgZm9ybScpO1xuXHRcdHNlbGYucGF5bWVudEZvcm0ucmVxdWVzdENhcmROb25jZSgpO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGRvd25sb2FkUHJvZHVjdExpc3QoKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0Ly9pdCB0aGUgc2VydmVyIFxuXHRcdFx0c2VydmVyU2VydmljZS5nZXQuc3FyUHJkY3RMaXN0KClcblx0XHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0XHRyZXNvbHZlKHMpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH07XG5cblx0ZnVuY3Rpb24gaW5pdCgpIHtcblxuXHRcdC8vY29sbGVjdCB0aGUgc3F1YXJlQXBwSWRcblx0XHRzZXJ2ZXJTZXJ2aWNlLmdldC5zcXJBcHBJZCgpXG5cdFx0LnRoZW4oZnVuY3Rpb24oc3FBcHApIHtcblxuXHRcdFx0c2VsZi5wYXltZW50Rm9ybSA9IG5ldyBTcVBheW1lbnRGb3JtKHtcblx0XHQgICAgYXBwbGljYXRpb25JZDogc3FBcHAuaWQsXG5cdFx0ICAgIGlucHV0Q2xhc3M6ICdzcS1pbnB1dCcsXG5cdFx0ICAgIGlucHV0U3R5bGVzOiBbXG5cdFx0ICAgICAge1xuXHRcdCAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgIFx0cGFkZGluZzogJzdweCAxMnB4JyxcbiAgICAgICAgICAgIFx0YmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCJcblx0XHQgICAgICB9XG5cdFx0ICAgIF0sXG5cdFx0ICAgIGNhcmROdW1iZXI6IHtcblx0XHQgICAgICBlbGVtZW50SWQ6ICdzcS1jYXJkLW51bWJlcicsXG5cdFx0ICAgICAgcGxhY2Vob2xkZXI6ICfigKLigKLigKLigKIg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKInXG5cdFx0ICAgIH0sXG5cdFx0ICAgIGN2djoge1xuXHRcdCAgICAgIGVsZW1lbnRJZDogJ3NxLWN2dicsXG5cdFx0ICAgICAgcGxhY2Vob2xkZXI6ICdDVlYnXG5cdFx0ICAgIH0sXG5cdFx0ICAgIGV4cGlyYXRpb25EYXRlOiB7XG5cdFx0ICAgICAgZWxlbWVudElkOiAnc3EtZXhwaXJhdGlvbi1kYXRlJyxcblx0XHQgICAgICBwbGFjZWhvbGRlcjogJ01NL1lZJ1xuXHRcdCAgICB9LFxuXHRcdCAgICBwb3N0YWxDb2RlOiB7XG5cdFx0ICAgICAgZWxlbWVudElkOiAnc3EtcG9zdGFsLWNvZGUnXG5cdFx0ICAgIH0sXG5cdFx0ICAgIGNhbGxiYWNrczoge1xuXG5cdFx0XHQgICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgU3FQYXltZW50Rm9ybSBjb21wbGV0ZXMgYSByZXF1ZXN0IHRvIGdlbmVyYXRlIGEgY2FyZFxuXHRcdFx0ICAgICAgLy8gbm9uY2UsIGV2ZW4gaWYgdGhlIHJlcXVlc3QgZmFpbGVkIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXG5cdFx0XHQgICAgICBjYXJkTm9uY2VSZXNwb25zZVJlY2VpdmVkOiBmdW5jdGlvbihlcnJvcnMsIG5vbmNlLCBjYXJkRGF0YSkge1xuXHRcdFx0ICAgICAgICBpZiAoZXJyb3JzKSB7XG5cdFx0XHQgICAgICAgICAgY29uc29sZS5sb2coXCJFbmNvdW50ZXJlZCBlcnJvcnM6XCIsIGVycm9ycyk7XG5cdFx0XHQgICAgICAgICAgc2VsZi5jYXJkX2Vycm9ycyA9IGVycm9ycztcblx0ICAgICAgICAgICAgXHQgIHNlbGYuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5cdCAgICAgICAgICAgIFx0ICAvLyRzY29wZS4kYXBwbHkoKTsgLy8gcmVxdWlyZWQgc2luY2UgdGhpcyBpcyBub3QgYW4gYW5ndWxhciBmdW5jdGlvblxuXG5cdFx0XHQgICAgICAgIC8vIE5vIGVycm9ycyBvY2N1cnJlZC4gRXh0cmFjdCB0aGUgY2FyZCBub25jZS5cblx0XHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHRcdCAgICAgICAgICBzZWxmLmNhcmRfZXJyb3JzID0gW107XG5cdFx0XHQgICAgICAgICAgLy8gRGVsZXRlIHRoaXMgbGluZSBhbmQgdW5jb21tZW50IHRoZSBsaW5lcyBiZWxvdyB3aGVuIHlvdSdyZSByZWFkeVxuXHRcdFx0ICAgICAgICAgIC8vIHRvIHN0YXJ0IHN1Ym1pdHRpbmcgbm9uY2VzIHRvIHlvdXIgc2VydmVyLlxuXHRcdFx0ICAgICAgICAgIC8vYWxlcnQoJ05vbmNlIHJlY2VpdmVkOiAnICsgbm9uY2UpO1xuXG5cdFx0XHQgICAgICAgICAgX2NoYXJnZUNhcmRXaXRoTm9uY2Uobm9uY2UpO1xuXG5cdFx0XHQgICAgICAgICAgLypcblx0XHRcdCAgICAgICAgICAgIFRoZXNlIGxpbmVzIGFzc2lnbiB0aGUgZ2VuZXJhdGVkIGNhcmQgbm9uY2UgdG8gYSBoaWRkZW4gaW5wdXRcblx0XHRcdCAgICAgICAgICAgIGZpZWxkLCB0aGVuIHN1Ym1pdCB0aGF0IGZpZWxkIHRvIHlvdXIgc2VydmVyLlxuXHRcdFx0ICAgICAgICAgICAgVW5jb21tZW50IHRoZW0gd2hlbiB5b3UncmUgcmVhZHkgdG8gdGVzdCBvdXQgc3VibWl0dGluZyBub25jZXMuXG5cblx0XHRcdCAgICAgICAgICAgIFlvdSdsbCBhbHNvIG5lZWQgdG8gc2V0IHRoZSBhY3Rpb24gYXR0cmlidXRlIG9mIHRoZSBmb3JtIGVsZW1lbnRcblx0XHRcdCAgICAgICAgICAgIGF0IHRoZSBib3R0b20gb2YgdGhpcyBzYW1wbGUsIHRvIGNvcnJlc3BvbmQgdG8gdGhlIFVSTCB5b3Ugd2FudCB0b1xuXHRcdFx0ICAgICAgICAgICAgc3VibWl0IHRoZSBub25jZSB0by5cblx0XHRcdCAgICAgICAgICAqL1xuXHRcdFx0ICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkLW5vbmNlJykudmFsdWUgPSBub25jZTtcblx0XHRcdCAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uY2UtZm9ybScpLnN1Ym1pdCgpO1xuXG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH0sXG5cblx0XHRcdCAgICAgIHVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICAgICAgLy8gRmlsbCBpbiB0aGlzIGNhbGxiYWNrIHRvIGFsZXJ0IGJ1eWVycyB3aGVuIHRoZWlyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZC5cblx0XHRcdCAgICAgIH0sXG5cblx0XHRcdCAgICAgIC8vIEZpbGwgaW4gdGhlc2UgY2FzZXMgdG8gcmVzcG9uZCB0byB2YXJpb3VzIGV2ZW50cyB0aGF0IGNhbiBvY2N1ciB3aGlsZSBhXG5cdFx0XHQgICAgICAvLyBidXllciBpcyB1c2luZyB0aGUgcGF5bWVudCBmb3JtLlxuXHRcdFx0ICAgICAgaW5wdXRFdmVudFJlY2VpdmVkOiBmdW5jdGlvbihpbnB1dEV2ZW50KSB7XG5cdFx0XHQgICAgICAgIHN3aXRjaCAoaW5wdXRFdmVudC5ldmVudFR5cGUpIHtcblx0XHRcdCAgICAgICAgICBjYXNlICdmb2N1c0NsYXNzQWRkZWQnOlxuXHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0ICAgICAgICAgIGNhc2UgJ2ZvY3VzQ2xhc3NSZW1vdmVkJzpcblx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdCAgICAgICAgICBjYXNlICdlcnJvckNsYXNzQWRkZWQnOlxuXHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0ICAgICAgICAgIGNhc2UgJ2Vycm9yQ2xhc3NSZW1vdmVkJzpcblx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdCAgICAgICAgICBjYXNlICdjYXJkQnJhbmRDaGFuZ2VkJzpcblx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdCAgICAgICAgICBjYXNlICdwb3N0YWxDb2RlQ2hhbmdlZCc6XG5cdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0ICAgICAgICAgICAgYnJlYWs7XG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH0sXG5cblx0XHRcdCAgICAgIHBheW1lbnRGb3JtTG9hZGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICAgICAgLy8gRmlsbCBpbiB0aGlzIGNhbGxiYWNrIHRvIHBlcmZvcm0gYWN0aW9ucyBhZnRlciB0aGUgcGF5bWVudCBmb3JtIGlzXG5cdFx0XHQgICAgICAgIC8vIGRvbmUgbG9hZGluZyAoc3VjaCBhcyBzZXR0aW5nIHRoZSBwb3N0YWwgY29kZSBmaWVsZCBwcm9ncmFtbWF0aWNhbGx5KS5cblx0XHRcdCAgICAgICAgLy8gcGF5bWVudEZvcm0uc2V0UG9zdGFsQ29kZShzZWxmLnVzZXJEYXRhLmJpbGxpbmdBZGRyZXNzLnppcCk7XG5cblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9XG5cdFx0XHR9KTtcblx0ICAgIFx0c2VsZi5wYXltZW50Rm9ybS5idWlsZCgpO1xuICAgIFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICBcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuICAgIFx0fSk7XG5cblx0fVxuXG5cdHJldHVybiBzcXVhcmVTZXJ2aWNlO1xufTtcdCIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLnNlcnZpY2UoJ3N0YXRlU2VydmljZScsIHN0YXRlU2VydmljZSk7XG5cdFx0XG4vKiBAbmdJbmplY3QgKi9cbnN0YXRlU2VydmljZS4kaW5qZWN0ID0gWyd1c2VyRGF0YVNlcnZpY2UnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZVNlcnZpY2UodXNlckRhdGFTZXJ2aWNlKSB7XG5cdC8vZGVmaW5lIGxvY2FsIHZhcmFpYmxlc1xuXHR2YXIgc3RhdGUgPSB7XG5cdFx0c2hpcGluZ1NhbWVBc0JpbGxpbmc6IHRydWUsXG5cdFx0cHJvZHVjdFNlbGVjdGlvbjoge1xuXHRcdFx0YWRkQVByb2R1Y3RCdG46IHtcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdCdidG4nOiB0cnVlLFxuXHRcdFx0XHRcdCdidG4tc3VjY2Vzcyc6IHRydWUsXG5cdFx0XHRcdFx0J2J0bi13YXJuaW5nJzogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0dmlzaWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHJlbW92ZUxhc3RQcm9kdWN0QnRuOiB7XG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHQnYnRuJzogdHJ1ZSxcblx0XHRcdFx0XHQnYnRuLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdFx0XHQnYnRuLXdhcm5pbmcnOiBmYWxzZSxcblx0XHRcdFx0XHQnYnRuLWRhbmdlcic6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHRoZWFkZXJTdHlsZToge1xuXHRcdFx0XHRjb2xvcjogXCJyZ2IoNTEsNTEsNTEpXCJcblx0XHRcdH1cblx0XHR9LFxuXHRcdGNvbnRhY3RJbmZvOiB7XG5cdFx0XHRmaXJzdG5hbWU6IHtcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFwiZm9ybS1jb250cm9sXCI6IHRydWUsXG5cdFx0XHRcdFx0XCJpcy12YWxpZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcImlzLWludmFsaWRcIjogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0YWRkcmVzc2VkOiBmYWxzZSxcblx0XHRcdFx0aXNWYWxpZDogZmFsc2UsXG5cdFx0XHRcdGlzSW52YWxpZDogZmFsc2Vcblx0XHRcdH1cblx0XHR9LFxuXHRcdGluZm9Cb3hlczoge1xuXHRcdFx0Zmxhdm9yRGVmczogZmFsc2UsXG5cdFx0XHR0ZXJtc0NvbmRzOiBmYWxzZVxuXHRcdH0sXG5cdFx0c2VjdGlvbnNBZGRyZXNzZWQ6IHtcblx0XHRcdHByb2R1Y3RTZWxlY3Rpb246IGZhbHNlLFxuXHRcdFx0c2luZ2xlU2hpcHBpbmdBZGRyZXNzOiBmYWxzZSxcblx0XHRcdGNvbnRhY3RJbmZvOiBmYWxzZSxcblx0XHRcdHRlcm1zQ29uZHM6IGZhbHNlXG5cdFx0fSxcblx0XHRzZWN0aW9uc0NvbXBsZXRlZDoge1xuXHRcdFx0cHJvZHVjdFNlbGVjdGlvbjogdHJ1ZSxcblx0XHRcdHNpbmdsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcblx0XHRcdGNvbnRhY3RJbmZvOiB0cnVlLFxuXHRcdFx0dGVybXNDb25kczogZmFsc2Vcblx0XHR9LFxuXHRcdHNlY3Rpb25IZWFkZXJzOiB7XG5cdFx0XHRwcm9kdWN0U2VsZWN0aW9uOiB7XG5cdFx0XHRcdHNob3dFcnJvcjogZmFsc2UsXG5cdFx0XHRcdHNob3dDb21wbGV0ZWQ6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0c2luZ2xlU2hpcHBpbmdBZGRyZXNzOiB7XG5cdFx0XHRcdHNob3dFcnJvcjogZmFsc2UsXG5cdFx0XHRcdHNob3dDb21wbGV0ZWQ6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0Y29udGFjdEluZm86IHtcblx0XHRcdFx0c2hvd0Vycm9yOiBmYWxzZSxcblx0XHRcdFx0c2hvd0NvbXBsZXRlZDogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR0ZXJtc0NvbmRzOiB7XG5cdFx0XHRcdHNob3dFcnJvcjogZmFsc2UsXG5cdFx0XHRcdHNob3dDb21wbGV0ZWQ6IGZhbHNlXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRjaGVja0NvbXBsZXRuZXNzOiBjaGVja0NvbXBsZXRuZXNzLFxuXHRcdHJlYWR5Rm9yU3VibWlzc2lvbjogZmFsc2UsXG5cdFx0c3VibWlzc2lvbkJ0bjoge1xuXHRcdFx0XCJidG5cIjogdHJ1ZSxcblx0XHRcdFwiYnRuLWJsb2NrXCI6IHRydWUsXG5cdFx0XHRcImJ0bi1zdWNjZXNzXCI6IGZhbHNlLFxuXHRcdFx0XCJidG4tc2Vjb25kYXJ5XCI6IHRydWVcblx0XHR9XG5cdH07XG5cblx0ZnVuY3Rpb24gdGVybXNDb25kc0FyZUdvb2QoKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XG5cblx0XHRyZXR1cm4gdXNlckRhdGFTZXJ2aWNlLmFncmVlZFRvVGVybXM7XG5cdH1cblxuXHRmdW5jdGlvbiBjaGVja0NvbXBsZXRuZXNzKCkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHR2YXIgbm9GbGFncyA9IHRydWU7XG5cblx0XHQvL2l0ZXJhdGUgdGhyb3VnaCByZXF1aXJubWVudHNcblx0XHRPYmplY3Qua2V5cyhzZWxmLnNlY3Rpb25zQ29tcGxldGVkKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0aWYoc2VsZi5zZWN0aW9uc0NvbXBsZXRlZFtrZXldID09IGZhbHNlKSBub0ZsYWdzID0gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHRpZihub0ZsYWdzKSB7XG5cdFx0XHRyZWFkeUZvclN1Ym1pc3Npb24gPSB0cnVlO1xuXHRcdFx0c2VsZi5zdWJtaXNzaW9uQnRuW1wiYnRuLXN1Y2Nlc3NcIl0gPSB0cnVlO1xuXHRcdFx0c2VsZi5zdWJtaXNzaW9uQnRuW1wiYnRuLXNlY29uZGFyeVwiXSA9IGZhbHNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZWFkeUZvclN1Ym1pc3Npb24gPSBmYWxzZTtcblx0XHRcdHNlbGYuc3VibWlzc2lvbkJ0bltcImJ0bi1zdWNjZXNzXCJdID0gZmFsc2U7XG5cdFx0XHRzZWxmLnN1Ym1pc3Npb25CdG5bXCJidG4tc2Vjb25kYXJ5XCJdID0gdHJ1ZTtcblx0XHR9O1xuXHR9XHRcblxuXHRyZXR1cm4gc3RhdGU7XG59O1x0IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnc3VibWlzc2lvblNlcnZpY2UnLCBzdWJtaXNzaW9uU2VydmljZSk7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdHN1Ym1pc3Npb25TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJ107XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIHN1Ym1pc3Npb25TZXJ2aWNlKCRodHRwKSB7XG5cdFx0Ly9jb25zb2xlLmxvZygndGhpcyBpcyB0aGUgc3VibWlzc2lvbiBzZXJ2aWNlJyk7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0c2VsZi5zdWJtaXQgPSBmdW5jdGlvbih1c2VyRGF0YSkge1xuXHRcdFx0Ly9jb25zb2xlLmxvZygnc3VibWl0dGluZycsIHVzZXJEYXRhKTtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdFx0Ly90cnkgUE9TVFxuXHRcdFx0XHQkaHR0cCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdFx0dXJsOiAnL3N1YnNjcmlwdGlvbi1hcHBsaWNhdGlvbi1zdWJtaXNzaW9uJyxcblx0XHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRkYXRhOiB1c2VyRGF0YVxuXHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHR9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKGVycm9yKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdH07XG5cblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5zZXJ2aWNlKCd1c2VyRGF0YVNlcnZpY2UnLCB1c2VyRGF0YVNlcnZpY2UpO1xuXHRcdFxuLyogQG5nSW5qZWN0ICovXG51c2VyRGF0YVNlcnZpY2UuJGluamVjdCA9IFtdO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHVzZXJEYXRhU2VydmljZSgpIHtcblx0Ly9kZWZpbmUgbG9jYWwgdmFyYWlibGVzXG5cdHZhciB1c2VyRGF0YSA9IHtcblx0XHRuYW1lOiB7XG5cdFx0XHRmaXJzdDogXCJcIixcblx0XHRcdGxhc3Q6IFwiXCJcblx0XHR9LFxuXHRcdGNvbnRhY3Q6IHtcblx0XHRcdGVtYWlsOiBcIlwiLFxuXHRcdFx0cGhvbmU6IFwiXCJcblx0XHR9LFxuXHRcdHNoaXBwaW5nRGVzdGluYXRpb246IHtcblx0XHRcdHN0cmVldDogXCJcIixcblx0XHRcdGNpdHk6IFwiXCIsXG5cdFx0XHRzdGF0ZTogXCJcIixcblx0XHRcdHppcDogXCJcIlxuXHRcdH0sXG5cdFx0Y3VzdG9tZXJJZDogXCJRVFNTV0FLMEc5NUQzMEJITUo1TUhLM1pWQ1wiLFxuXHRcdGJpbGxpbmdBZGRyZXNzOiB7XG5cdFx0XHRzdHJlZXQ6IFwiXCIsXG5cdFx0XHRjaXR5OiBcIlwiLFxuXHRcdFx0c3RhdGU6IFwiXCIsXG5cdFx0XHR6aXA6IFwiXCJcblx0XHR9LFxuXHRcdGNhcmQ6IHtcblx0XHRcdC8vY2FyZF9udW1iZXI6IFwiXCIsXG5cdFx0XHQvL2N2djogXCJcIixcblx0XHRcdC8vZXhwaXJhdGlvbl9kYXRlOiBcIlwiLFxuXHRcdFx0Ly9wb3N0YWxfY29kZTogXCJcIixcblx0XHRcdG5vbmNlOiBcIlwiLFxuXHRcdFx0bGFzdDQ6IFwiXCIsXG5cdFx0XHR0eXBlOiBcIlwiXG5cdFx0fSxcblx0XHRvcmRlck5vOiBcIlwiLFxuXHRcdG9yZGVyRGF0ZTogXCJcIixcblx0XHRvcmRlcjogW10sXG5cdFx0dGVuZGVyOiB7XG5cdFx0XHRkaXNjb3VudHM6IDAsXG5cdFx0XHRzaGlwcGluZzogMCxcblx0XHRcdHRvdGFsOiAwXG5cdFx0fSxcblx0XHRhZ3JlZWRUb1Rlcm1zOiBmYWxzZVxuXHR9O1xuXG5cdHJldHVybiB1c2VyRGF0YTtcbn07XHQiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5zZXJ2aWNlKCd2YWxpZGF0aW9uU2VydmljZScsIHZhbGlkYXRpb25TZXJ2aWNlKTtcblx0XHRcbi8qIEBuZ0luamVjdCAqL1xudmFsaWRhdGlvblNlcnZpY2UuJGluamVjdCA9IFsnc3RhdGVTZXJ2aWNlJywgJ3VzZXJEYXRhU2VydmljZSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHZhbGlkYXRpb25TZXJ2aWNlKHN0YXRlU2VydmljZSwgdXNlckRhdGFTZXJ2aWNlKSB7XG5cdC8vZGVmaW5lIGxvY2FsIHZhcmFpYmxlc1xuXHR2YXIgdmFsaWRhdGlvbiA9IHtcblx0XHR0ZXJtc0FuZENvbmQ6IHRlcm1zQW5kQ29uZFxuXHR9O1xuXG5cdGZ1bmN0aW9uIHRlcm1zQW5kQ29uZCgpIHtcblx0XHRjb25zb2xlLmxvZygndmFsaWRhdGluZyB0ZXJtcyBhbmQgY29uZGl0aW9ucycpO1xuXHRcdC8vbWFrZSBzdXJlIHRlcm1zIGFuZCBjb25kaXRpb25zIGlzIG1hcmtlZCBhcyBhZGRyZXNzZWRcblx0XHRzdGF0ZVNlcnZpY2Uuc2VjdGlvbnNBZGRyZXNzZWQudGVybXNDb25kcyA9IHRydWU7XG5cblx0XHQvL3NlY3Rpb24gY29tbGV0ZW5lc3MgaXMgYSByZWZsZWN0aW9uIG9mIHRoZSBhZ3JlZW1lbnQgc3RhdHVzXG5cdFx0c3RhdGVTZXJ2aWNlLnNlY3Rpb25zQ29tcGxldGVkLnRlcm1zQ29uZHMgPSB1c2VyRGF0YVNlcnZpY2UuYWdyZWVkVG9UZXJtcztcblxuXHRcdC8vdG9nZ2xlIGNvbXBsZXRuZXNzXG5cdFx0aWYoc3RhdGVTZXJ2aWNlLnNlY3Rpb25zQ29tcGxldGVkLnRlcm1zQ29uZHMpIHtcblx0XHRcdHN0YXRlU2VydmljZS5zZWN0aW9uSGVhZGVycy50ZXJtc0NvbmRzLnNob3dFcnJvciA9IGZhbHNlO1xuXHRcdFx0c3RhdGVTZXJ2aWNlLnNlY3Rpb25IZWFkZXJzLnRlcm1zQ29uZHMuc2hvd0NvbXBsZXRlZCA9IHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0YXRlU2VydmljZS5zZWN0aW9uSGVhZGVycy50ZXJtc0NvbmRzLnNob3dFcnJvciA9IHRydWU7XG5cdFx0XHRzdGF0ZVNlcnZpY2Uuc2VjdGlvbkhlYWRlcnMudGVybXNDb25kcy5zaG93Q29tcGxldGVkID0gZmFsc2U7XG5cdFx0fTtcblxuXHR9O1xuXG5cdHJldHVybiB2YWxpZGF0aW9uO1xufTtcdCIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLnNlcnZpY2UoJ3ppcGNvbXBsZXRlJywgemlwY29tcGxldGUpO1xuXHRcdFxuLyogQG5nSW5qZWN0ICovXG56aXBjb21wbGV0ZS4kaW5qZWN0ID0gW107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gemlwY29tcGxldGUoKSB7XG5cdC8vZGVmaW5lIGxvY2FsIHZhcmFpYmxlc1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHZhciBjbGllbnRLZXkgPSBcIm1TYWpWWUQ4dXJGU09qVzN0dUpmaGRuU2pNcmV2a21nbFg0MFcyYnoxMkttNGNWSzV2WVpwb2dRZ1RjZnA2andcIjtcblx0dmFyIGNhY2hlID0ge307XG5cdC8vdmFyIGNvbnRhaW5lciA9ICQoXCIjZXhhbXBsZTFcIik7XG5cdC8vdmFyIGVycm9yRGl2ID0gY29udGFpbmVyLmZpbmQoXCJkaXYudGV4dC1lcnJvclwiKTtcblxuXHQvL2xvY2FsIGZ1bmN0aW9uIFxuXHRzZWxmLmhhbmRsZVJlc3AgPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0Ly8gQ2hlY2sgZm9yIGVycm9yXG5cdFx0aWYgKGRhdGEuZXJyb3JfbXNnKVxuXHRcdFx0Y29uc29sZS5sb2coZGF0YS5lcnJvcl9tc2cpO1xuXHRcdFx0Ly9lcnJvckRpdi50ZXh0KGRhdGEuZXJyb3JfbXNnKTtcblx0XHRlbHNlIGlmIChcImNpdHlcIiBpbiBkYXRhKVxuXHRcdHtcblx0XHRcdC8vIFNldCBjaXR5IGFuZCBzdGF0ZVxuXHRcdFx0Y29udGFpbmVyLmZpbmQoXCJpbnB1dFtuYW1lPSdjaXR5J11cIikudmFsKGRhdGEuY2l0eSk7XG5cdFx0XHRjb250YWluZXIuZmluZChcImlucHV0W25hbWU9J3N0YXRlJ11cIikudmFsKGRhdGEuc3RhdGUpO1xuXHRcdH0gXG5cdH07XG5cblx0Ly96aXAgY2hlY2tlclxuXHRzZWxmLmNoZWNrWmlwID0gZnVuY3Rpb24oZW50ZXJlZFppcCkge1xuXHRcdHZhciB6aXBjb2RlID0gZW50ZXJlZFppcC5zdWJzdHJpbmcoMCwgNSk7IFxuXG5cdFx0aWYgKHppcGNvZGUubGVuZ3RoID09IDUgJiYgL15bMC05XSskLy50ZXN0KHppcGNvZGUpKSB7XG5cblx0XHRcdGNvbnNvbGUubG9nKCdjaGVja2luZyB6aXAnLCB6aXBjb2RlKTtcblx0XHR9XHRcblx0XHRcblx0fTtcbn07XHQiXX0=
