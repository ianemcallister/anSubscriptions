config.$inject=["$routeProvider","$locationProvider"];var ahNuts=angular.module("ansub",["ngRoute","ui.bootstrap"]);function mainController(e,t,n,r,i,o,s){e.userData=i,e.state=o,e.$on("$viewContentLoaded",function(){console.log("$viewContentLoaded"),s.init()})}function successController(e,t,n){e.confirmationCode=n.confirmationCode,console.log("success controler",n.confirmationCode,e.confirmationCode)}function billingAddress(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/billingAddress.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n,r){this.userData=n,this.state=r}return n.$inject=["$scope","$log","userDataService","stateService"],e}function billingInput(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/billingInput.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n,r){this.userData=n,this.state=r,e.$on("$viewContentLoaded",function(){console.log("$viewContentLoaded")})}return n.$inject=["$scope","$log","userDataService","stateService"],e}function contactInput(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/contactInput.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n,r,i){var o=this;o.userData=n,o.state=r,o.validate=function(e,t){console.log("got these",e,t);var n=i.contact[e](t);o.state.contactInput[e].input["is-invalid"]=n?!(o.state.contactInput[e].input["is-valid"]=!0):!(o.state.contactInput[e].input["is-valid"]=!1)}}return n.$inject=["$scope","$log","userDataService","stateService","validationService"],e}function frequencySelection(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/frequencySelection.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t){this.frequencies=["month","quarter","year"],this.starts={month:["January","February","March","April","May","June","July","August","September","October","November","December"],quarter:["Winter","Spring","Summer","Fall"],year:["2018","2019","2020"]},this.selectedFrequency="",this.startsIn=""}return n.$inject=["$scope","$log"],e}function productSelection(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/productSelection.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(t,e,n,r,i,o){var s=this;s.userData=n,s.state=r.productSelection,s.state.infoBox=r.infoBoxes.flavorDefs,i.download.productList().then(function(e){s.flavors=e,t.$apply()}).catch(function(e){console.log("product list error, ",e)}),s.orderList=n.order,s.productPrice=1699,s.order=n.tender;var c={id:1,sqrId:"",sqVarId:"",flavor:"",mixflvrCount:0,mixflvrs:{srpec:{id:"srpec",name:"SR Pecans",selected:!1,classes:{"list-group-item":!0,active:!1}},sralm:{id:"sralm",name:"SR Almonds",selected:!1,classes:{"list-group-item":!0,active:!1}},srcsh:{id:"srcsh",name:"SR Cashews",selected:!1,classes:{"list-group-item":!0,active:!1}},srpea:{id:"srpea",name:"SR Peanuts",selected:!1,classes:{"list-group-item":!0,active:!1}},cnpec:{id:"cnpec",name:"Cin Pecans",selected:!1,classes:{"list-group-item":!0,active:!1}},cnalm:{id:"cnalm",name:"Cin Almonds",selected:!1,classes:{"list-group-item":!0,active:!1}},drpec:{id:"drpec",name:"Drunk Pecans",selected:!1,classes:{"list-group-item":!0,active:!1}}},mixFlvrsSelected:[],mix:""};function a(){s.order.total=s.orderList.length*s.productPrice-s.order.discounts,4==s.orderList.length&&(s.order.total=s.order.total-s.productPrice)}s.addAProduct=function(){var e=s.orderList.length;e<4&&s.orderList.push(Object.create(c)),3==e&&(s.state.addAProductBtn.visible=!1),0<e&&(s.state.removeLastProductBtn.visible=!0);for(var t=0;t<=e;t++)s.orderList[t].id=t+1;a()},s.removeLastProduct=function(){var e=s.orderList.length,t=e-1;1<e&&s.orderList.splice(t,1),2==e&&(s.state.removeLastProductBtn.visible=!1),s.state.addAProductBtn.visible=!0,4==e&&(s.order.discounts=0),a()},s.removeAProduct=function(e){var t=e-1;1<s.orderList.length&&s.orderList.splice(t,1);for(var n=0;n<=s.orderList.length-1;n++)s.orderList[n].id=n+1;a()},s.validateProducts=function(){},s.countMixFlavors=function(t){var n=0;return Object.keys(t).forEach(function(e){t[e].selected&&n++}),n},s.updateShoppingCart=function(){s.orderList.forEach(function(t){s.flavors.forEach(function(e){e.name==t.flavor&&(t.sqrId=e.id,t.id<4?t.sqVarId=e.variations[0].id:t.sqVarId=e.variations[1].id)})})},s.buildFlavorList=function(t){s.orderList[t].mixFlvrsSelected=[],Object.keys(s.orderList[t].mixflvrs).forEach(function(e){s.orderList[t].mixflvrs[e].selected&&s.orderList[t].mixFlvrsSelected.push(s.orderList[t].mixflvrs[e].name)})},s.checkPromoCode=function(e){o.get.checkPromoCode(e).then(function(e){s.state.promoCode.input["is-invalid"]=e?(s.state.promoCode.input["was-validated"]=!0,s.state.promoCode.input["needs-validation"]=!1,!(s.state.promoCode.input["is-valid"]=!0)):(s.state.promoCode.input["was-validated"]=!0,s.state.promoCode.input["needs-validation"]=!1,!(s.state.promoCode.input["is-valid"]=!1)),t.$apply()}).catch(function(e){console.log("Error",e)})},s.orderList.push(Object.create(c)),a()}return n.$inject=["$scope","$log","userDataService","stateService","squareService","serverService"],e}function shipDest(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",template:"<div>testing</div>",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n){this.zipCheck=n}return n.$inject=["$scope","$log","zipcomplete"],e}function singleAddressInput(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/singleAddressInput.htm",replace:!0,scope:{address:"="},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n,r,i){var o=this;o.userData=n,o.state=r,console.log("in singleAddressInputController",i),o.validate=function(e,t){var n=i.physicalAddresses[e](t);o.state.singleAddressInput[e].input["is-invalid"]=n?!(o.state.singleAddressInput[e].input["is-valid"]=!0):!(o.state.singleAddressInput[e].input["is-valid"]=!1)},o.updateBillingAddress=function(){o.state.shipingSameAsBilling&&(o.userData.billingAddress.street=o.userData.shippingDestination.street,o.userData.billingAddress.zip=o.userData.shippingDestination.zip,o.userData.billingAddress.city=o.userData.shippingDestination.city,o.userData.billingAddress.state=o.userData.shippingDestination.state)}}return n.$inject=["$scope","$log","userDataService","stateService","validationService"],e}function subTermsCond(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/subTermsCond.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n,r,i,o,s,c){this.state=r,this.userData=i,this.validate=o,this.square=c}return n.$inject=["$scope","$log","$location","stateService","userDataService","validationService","submissionService","squareService"],e}function config(e,t){t.hashPrefix(""),e.when("/",{templateUrl:"views/monthlySub.htm",controller:"mainController",controllerAs:"vm"}).when("/success/:confirmationCode",{templateUrl:"views/success.htm",controller:"successController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}function errorHandlingService(t,n){return{card:{processingErrors:function(e){console.log("Encountered errors:",e),n.ccProcessing.errors.list=e,n.ccProcessing.errors.thereWereErrors=!0,n.ccProcessing.success.cardDataGood=!1,console.log("stateService.ccProcessing",n.ccProcessing),t.$apply()}},clearErrors:function(){n.ccProcessing={errors:{thereWereErrors:!1,cardNoNotValid:!1,cardCVVNotValid:!1,cardDateNotValid:!1,cardZipNotValid:!1,list:[]},success:{cardDataGood:!1}}}}}function modalService(e){var i={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:"partials/modal.htm"},o={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?"};this.showModal=function(e,t){return e||(e={}),e.backdrop="static",this.show(e,t)},this.show=function(e,t){var n={},r={};return angular.extend(n,i,e),angular.extend(r,o,t),n.controller||(n.controller=function(e,t){e.modalOptions=r,e.modalOptions.ok=function(e){t.close(e)},e.modalOptions.close=function(e){t.dismiss("cancel")}}),$modal.open(n).result}}function serverService(i){return{chargeCard:function(e,r){return new Promise(function(t,n){i({method:"POST",url:e,headers:{"Content-Type":"application/json"},data:r}).then(function(e){console.log("got this response",e),t(e.data)},function(e){n(e)})})},get:{sqrAppId:function(){return new Promise(function(t,n){i({method:"GET",url:"/api/squareId"}).then(function(e){console.log("got this response",e),t(e.data)},function(e){n(e)})})},sqrPrdctList:function(){return new Promise(function(t,n){i({method:"GET",url:"/api/productList"}).then(function(e){console.log("got this response",e),t(e.data)},function(e){n(e)})})},checkPromoCode:function(e){return new Promise(function(t,n){i({method:"GET",url:"/api/check_promoCode?code="+e}).then(function(e){console.log("got this response",e),t(e.data)},function(e){n(e)})})}}}}function squareService(n,r,i,t,o,s){var c=this;function a(e){t.card.nonce=e,i.chargeCard("/api/charge_card",t).then(function(e){var t="/success/"+e.data;console.log("got this path back",t),r.path(t),n.$apply()}).catch(function(e){console.log("Error:",e)})}return{_chargeCardWithNonce:a,submitForm:function(){console.log("submitting form"),o.clearErrors(),c.paymentForm.requestCardNonce()},download:{productList:function(){return new Promise(function(t,n){i.get.sqrPrdctList().then(function(e){t(e)}).catch(function(e){n(e)})})}},init:function(){i.get.sqrAppId().then(function(e){c.paymentForm=new SqPaymentForm({applicationId:e.id,inputClass:"sq-input",inputStyles:[{fontSize:"14px",padding:"7px 12px",backgroundColor:"transparent"}],cardNumber:{elementId:"sq-card-number",placeholder:"•••• •••• •••• ••••"},cvv:{elementId:"sq-cvv",placeholder:"CVV"},expirationDate:{elementId:"sq-expiration-date",placeholder:"MM/YY"},postalCode:{elementId:"sq-postal-code"},callbacks:{cardNonceResponseReceived:function(e,t,n){e?o.card.processingErrors(e):(c.card_errors=[],s.ccProcessing.success.cardDataGood=!0,s.ccProcessing.errors.thereWereErrors=!1,a(t))},unsupportedBrowserDetected:function(){},inputEventReceived:function(e){e.eventType},paymentFormLoaded:function(){}}}),c.paymentForm.build()}).catch(function(e){console.log(e)})}}}function stateService(e){return{shipingSameAsBilling:!0,productSelection:{addAProductBtn:{classes:{btn:!0,"btn-success":!0,"btn-warning":!1},visible:!0},removeLastProductBtn:{classes:{btn:!0,"btn-success":!1,"btn-warning":!1,"btn-danger":!0},visible:!1},headerStyle:{color:"rgb(51,51,51)"},promoCode:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}}},contactInfo:{firstname:{classes:{"form-control":!0,"is-valid":!1,"is-invalid":!1},addressed:!1,isValid:!1,isInvalid:!1}},infoBoxes:{flavorDefs:!1,termsConds:!1},sectionsAddressed:{productSelection:!1,singleShippingAddress:!1,contactInfo:!1,termsConds:!1},sectionsCompleted:{productSelection:!0,singleShippingAddress:!0,contactInfo:!0,termsConds:!1},sectionHeaders:{productSelection:{showError:!1,showCompleted:!1},singleShippingAddress:{showError:!1,showCompleted:!1},contactInfo:{showError:!1,showCompleted:!1},termsConds:{showError:!1,showCompleted:!1}},checkCompletness:function(){var t=this,n=!0;Object.keys(t.sectionsCompleted).forEach(function(e){0==t.sectionsCompleted[e]&&(n=!1)}),t.submissionBtn["btn-secondary"]=n?(readyForSubmission=!0,t.submissionBtn["btn-success"]=!0,!1):(readyForSubmission=!1,t.submissionBtn["btn-success"]=!1,!0)},readyForSubmission:!1,submissionBtn:{btn:!0,"btn-block":!0,"btn-success":!1,"btn-secondary":!0},contactInput:{first:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}},last:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}},phone:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}},email:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}}},singleAddressInput:{street:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}},zip:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}},city:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}},state:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}}},ccProcessing:{errors:{thereWereErrors:!1,cardNoNotValid:!1,cardCVVNotValid:!1,cardDateNotValid:!1,cardZipNotValid:!1,list:[]},success:{cardDataGood:!1}}}}function submissionService(r){this.submit=function(e){return new Promise(function(t,n){r({method:"POST",url:"/subscription-application-submission",headers:{"Content-Type":"application/json"},data:e}).then(function(e){console.log("got this response",e),t(e)},function(e){n(e)})})}}function userDataService(){return{name:{first:"",last:""},contact:{email:"",phone:""},shippingDestination:{street:"",city:"",state:"",zip:""},billingAddress:{street:"",city:"",state:"",zip:""},card:{nonce:"",last4:"",type:"",errors:[]},promoCode:"",orderNo:"",orderDate:"",order:[],tender:{discounts:0,shipping:0,total:0},agreedToTerms:!1}}function validationService(e,t){function n(e){var t=!1;return 0<e.length&&(t=!0),t}return{physicalAddresses:{street:n,zip:function(e){return/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)},city:function(e){return/^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$/.test(e)},state:function(e){return/^((A[LKZR])|(C[AOT])|(D[EC])|(FL)|(GA)|(HI)|(I[DLNA])|(K[SY])|(LA)|(M[EDAINSOT])|(N[EVHJMYCD])|(O[HKR])|(PA)|(RI)|(S[CD])|(T[NX])|(UT)|(V[TA])|(W[AVIY]))$/.test(e)}},contact:{first:n,last:n,phone:function(e){return/^[2-9]\d{2}-\d{3}-\d{4}$/.test(e)},email:function(e){return/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/.test(e)}},termsAndCond:function(){console.log("validating terms and conditions"),e.sectionsAddressed.termsConds=!0,e.sectionsCompleted.termsConds=t.agreedToTerms,e.sectionsCompleted.termsConds?(e.sectionHeaders.termsConds.showError=!1,e.sectionHeaders.termsConds.showCompleted=!0):(e.sectionHeaders.termsConds.showError=!0,e.sectionHeaders.termsConds.showCompleted=!1)}}}function zipcomplete(){this.handleResp=function(e){e.error_msg?console.log(e.error_msg):"city"in e&&(container.find("input[name='city']").val(e.city),container.find("input[name='state']").val(e.state))},this.checkZip=function(e){var t=e.substring(0,5);5==t.length&&/^[0-9]+$/.test(t)&&console.log("checking zip",t)}}angular.module("ansub").controller("mainController",mainController),mainController.$inject=["$scope","$log","$location","submissionService","userDataService","stateService","squareService"],angular.module("ansub").controller("successController",successController),successController.$inject=["$scope","$log","$routeParams"],angular.module("ansub").directive("billingAddress",billingAddress),angular.module("ansub").directive("billingInput",billingInput),angular.module("ansub").directive("contactInput",contactInput),angular.module("ansub").directive("frequencySelection",frequencySelection),angular.module("ansub").directive("productSelection",productSelection),angular.module("ansub").directive("shipDest",shipDest),angular.module("ansub").directive("singleAddressInput",singleAddressInput),angular.module("ansub").directive("subTermsCond",subTermsCond),angular.module("ansub").config(config),angular.module("ansub").service("errorHandlingService",errorHandlingService),errorHandlingService.$inject=["$rootScope","stateService"],angular.module("ansub").service("modalService",modalService),modalService.$inject=["$uibModal"],angular.module("ansub").service("serverService",serverService),serverService.$inject=["$http"],angular.module("ansub").service("squareService",squareService),squareService.$inject=["$rootScope","$location","serverService","userDataService","errorHandlingService","stateService"],angular.module("ansub").service("stateService",stateService),stateService.$inject=["userDataService"],angular.module("ansub").service("submissionService",submissionService),submissionService.$inject=["$http"],angular.module("ansub").service("userDataService",userDataService),userDataService.$inject=[],angular.module("ansub").service("validationService",validationService),validationService.$inject=["stateService","userDataService"],angular.module("ansub").service("zipcomplete",zipcomplete),zipcomplete.$inject=[];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvd2ViYXBwLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9tYWluLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL3N1Y2Nlc3MuY29udHJvbGxlci5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9iaWxsaW5nQWRkcmVzcy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvYmlsbGluZ0lucHV0LmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jb250YWN0SW5wdXQuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2ZyZXF1ZW5jeVNlbGVjdGlvbi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcHJvZHVjdFNlbGVjdGlvbi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2hpcERlc3QuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NpbmdsZUFkZHJlc3NJbnB1dC5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc3VidGVybXNjb25kLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvcm91dGVzL3JvdXRlcy5jb25maWcuanMiLCJzY3JpcHRzL3NlcnZpY2VzL2Vycm9ySGFuZGxpbmcuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvbW9yZGFscy5zZXJ2aWNlLmpzIiwic2NyaXB0cy9zZXJ2aWNlcy9zZXJ2ZXIuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvc3F1YXJlLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3N0YXRlLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3N1Ym1pc3Npb25TZXJpdmNlLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3VzZXJEYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3ZhbGlkYXRpb24uc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvemlwY29tcGxldGUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhaE51dHMiLCJhbmd1bGFyIiwibW9kdWxlIiwibWFpbkNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9nIiwiJGxvY2F0aW9uIiwic3VibWlzc2lvblNlcnZpY2UiLCJ1c2VyRGF0YVNlcnZpY2UiLCJzdGF0ZVNlcnZpY2UiLCJzcXVhcmVTZXJ2aWNlIiwidXNlckRhdGEiLCJzdGF0ZSIsIiRvbiIsImNvbnNvbGUiLCJsb2ciLCJpbml0Iiwic3VjY2Vzc0NvbnRyb2xsZXIiLCIkcm91dGVQYXJhbXMiLCJjb25maXJtYXRpb25Db2RlIiwiYmlsbGluZ0FkZHJlc3MiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInRlbXBsYXRlVXJsIiwicmVwbGFjZSIsInNjb3BlIiwibGluayIsImxpbmtGdW5jIiwiY29udHJvbGxlciIsImJpbGxpbmdBZGRyZXNzQ29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJlbCIsImF0dHIiLCJjdHJsIiwidGhpcyIsIiRpbmplY3QiLCJiaWxsaW5nSW5wdXQiLCJiaWxsaW5nSW5wdXRDb250cm9sbGVyIiwiY29udGFjdElucHV0IiwiY29udGFjdElucHV0dENvbnRyb2xsZXIiLCJ2YWxpZGF0aW9uU2VydmljZSIsInNlbGYiLCJ2YWxpZGF0ZSIsImZpZWxkIiwidmFsdWUiLCJpc1ZhbGlkIiwiY29udGFjdCIsImlucHV0IiwiZnJlcXVlbmN5U2VsZWN0aW9uIiwiZnJlcXVlbmN5U2VsZWN0aW9uQ29udHJvbGxlciIsImZyZXF1ZW5jaWVzIiwic3RhcnRzIiwibW9udGgiLCJxdWFydGVyIiwieWVhciIsInNlbGVjdGVkRnJlcXVlbmN5Iiwic3RhcnRzSW4iLCJwcm9kdWN0U2VsZWN0aW9uIiwicHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIiLCJzZXJ2ZXJTZXJ2aWNlIiwiaW5mb0JveGVzIiwiZmxhdm9yRGVmcyIsImRvd25sb2FkIiwicHJvZHVjdExpc3QiLCJ0aGVuIiwicyIsImZsYXZvcnMiLCIkYXBwbHkiLCJjYXRjaCIsImUiLCJvcmRlckxpc3QiLCJvcmRlciIsInByb2R1Y3RQcmljZSIsInRlbmRlciIsInByb2R1Y3RPYmplY3QiLCJpZCIsInNxcklkIiwic3FWYXJJZCIsImZsYXZvciIsIm1peGZsdnJDb3VudCIsIm1peGZsdnJzIiwic3JwZWMiLCJuYW1lIiwic2VsZWN0ZWQiLCJjbGFzc2VzIiwibGlzdC1ncm91cC1pdGVtIiwiYWN0aXZlIiwic3JhbG0iLCJzcmNzaCIsInNycGVhIiwiY25wZWMiLCJjbmFsbSIsImRycGVjIiwibWl4Rmx2cnNTZWxlY3RlZCIsIm1peCIsInN1bU9yZGVyIiwidG90YWwiLCJsZW5ndGgiLCJkaXNjb3VudHMiLCJhZGRBUHJvZHVjdCIsIm5vT2ZQcm9kdWN0cyIsInB1c2giLCJPYmplY3QiLCJjcmVhdGUiLCJhZGRBUHJvZHVjdEJ0biIsInZpc2libGUiLCJyZW1vdmVMYXN0UHJvZHVjdEJ0biIsImkiLCJyZW1vdmVMYXN0UHJvZHVjdCIsInJlbW92ZUluZGV4Iiwic3BsaWNlIiwicmVtb3ZlQVByb2R1Y3QiLCJ2YWxpZGF0ZVByb2R1Y3RzIiwiY291bnRNaXhGbGF2b3JzIiwiZmxhdm9yT2JqZWN0IiwiY291bnRlciIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwidXBkYXRlU2hvcHBpbmdDYXJ0IiwicHJvZHVjdCIsInZhcmlhdGlvbnMiLCJidWlsZEZsYXZvckxpc3QiLCJjaGVja1Byb21vQ29kZSIsImNvZGUiLCJnZXQiLCJwcm9tb0NvZGUiLCJzaGlwRGVzdCIsInRlbXBsYXRlIiwic2hpcERlc3RDb250cm9sbGVyIiwiemlwY29tcGxldGUiLCJ6aXBDaGVjayIsInNpbmdsZUFkZHJlc3NJbnB1dCIsImFkZHJlc3MiLCJzaW5nbGVBZGRyZXNzSW5wdXRDb250cm9sbGVyIiwicGh5c2ljYWxBZGRyZXNzZXMiLCJ1cGRhdGVCaWxsaW5nQWRkcmVzcyIsInNoaXBpbmdTYW1lQXNCaWxsaW5nIiwic3RyZWV0Iiwic2hpcHBpbmdEZXN0aW5hdGlvbiIsInppcCIsImNpdHkiLCJzdWJUZXJtc0NvbmQiLCJzdWJUZXJtc0NvbmRDb250cm9sbGVyIiwic3F1YXJlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsImhhc2hQcmVmaXgiLCJ3aGVuIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImVycm9ySGFuZGxpbmdTZXJ2aWNlIiwiJHJvb3RTY29wZSIsImNhcmQiLCJwcm9jZXNzaW5nRXJyb3JzIiwiZXJyb3JzIiwiY2NQcm9jZXNzaW5nIiwibGlzdCIsInRoZXJlV2VyZUVycm9ycyIsInN1Y2Nlc3MiLCJjYXJkRGF0YUdvb2QiLCJjbGVhckVycm9ycyIsImNhcmROb05vdFZhbGlkIiwiY2FyZENWVk5vdFZhbGlkIiwiY2FyZERhdGVOb3RWYWxpZCIsImNhcmRaaXBOb3RWYWxpZCIsIm1vZGFsU2VydmljZSIsIiR1aWJNb2RhbCIsIm1vZGFsRGVmYXVsdHMiLCJiYWNrZHJvcCIsImtleWJvYXJkIiwibW9kYWxGYWRlIiwibW9kYWxPcHRpb25zIiwiY2xvc2VCdXR0b25UZXh0IiwiYWN0aW9uQnV0dG9uVGV4dCIsImhlYWRlclRleHQiLCJib2R5VGV4dCIsInNob3dNb2RhbCIsImN1c3RvbU1vZGFsRGVmYXVsdHMiLCJjdXN0b21Nb2RhbE9wdGlvbnMiLCJzaG93IiwidGVtcE1vZGFsRGVmYXVsdHMiLCJ0ZW1wTW9kYWxPcHRpb25zIiwiZXh0ZW5kIiwiJG1vZGFsSW5zdGFuY2UiLCJvayIsInJlc3VsdCIsImNsb3NlIiwiZGlzbWlzcyIsIiRtb2RhbCIsIm9wZW4iLCIkaHR0cCIsImNoYXJnZUNhcmQiLCJ1cmwiLCJkYXRhIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJtZXRob2QiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwicmVzcG9uc2UiLCJlcnJvciIsInNxckFwcElkIiwic3FyUHJkY3RMaXN0IiwiX2NoYXJnZUNhcmRXaXRoTm9uY2UiLCJub25jZSIsIm5ld1BhdGgiLCJwYXRoIiwic3VibWl0Rm9ybSIsInBheW1lbnRGb3JtIiwicmVxdWVzdENhcmROb25jZSIsInNxQXBwIiwiU3FQYXltZW50Rm9ybSIsImFwcGxpY2F0aW9uSWQiLCJpbnB1dENsYXNzIiwiaW5wdXRTdHlsZXMiLCJmb250U2l6ZSIsInBhZGRpbmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJjYXJkTnVtYmVyIiwiZWxlbWVudElkIiwicGxhY2Vob2xkZXIiLCJjdnYiLCJleHBpcmF0aW9uRGF0ZSIsInBvc3RhbENvZGUiLCJjYWxsYmFja3MiLCJjYXJkTm9uY2VSZXNwb25zZVJlY2VpdmVkIiwiY2FyZERhdGEiLCJjYXJkX2Vycm9ycyIsInVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkIiwiaW5wdXRFdmVudFJlY2VpdmVkIiwiaW5wdXRFdmVudCIsImV2ZW50VHlwZSIsInBheW1lbnRGb3JtTG9hZGVkIiwiYnVpbGQiLCJidG4iLCJidG4tc3VjY2VzcyIsImJ0bi13YXJuaW5nIiwiYnRuLWRhbmdlciIsImhlYWRlclN0eWxlIiwiY29sb3IiLCJ3YXMtdmFsaWRhdGVkIiwibmVlZHMtdmFsaWRhdGlvbiIsImlzLXZhbGlkIiwiaXMtaW52YWxpZCIsImNvbnRhY3RJbmZvIiwiZmlyc3RuYW1lIiwiZm9ybS1jb250cm9sIiwiYWRkcmVzc2VkIiwiaXNJbnZhbGlkIiwidGVybXNDb25kcyIsInNlY3Rpb25zQWRkcmVzc2VkIiwic2luZ2xlU2hpcHBpbmdBZGRyZXNzIiwic2VjdGlvbnNDb21wbGV0ZWQiLCJzZWN0aW9uSGVhZGVycyIsInNob3dFcnJvciIsInNob3dDb21wbGV0ZWQiLCJjaGVja0NvbXBsZXRuZXNzIiwibm9GbGFncyIsInN1Ym1pc3Npb25CdG4iLCJyZWFkeUZvclN1Ym1pc3Npb24iLCJidG4tYmxvY2siLCJidG4tc2Vjb25kYXJ5IiwiZmlyc3QiLCJsYXN0IiwicGhvbmUiLCJlbWFpbCIsInN1Ym1pdCIsImxhc3Q0IiwidHlwZSIsIm9yZGVyTm8iLCJvcmRlckRhdGUiLCJzaGlwcGluZyIsImFncmVlZFRvVGVybXMiLCJpc1ZhbGlkU3RyaW5nIiwiYVN0cmluZyIsInRlc3QiLCJ0ZXJtc0FuZENvbmQiLCJoYW5kbGVSZXNwIiwiZXJyb3JfbXNnIiwiY29udGFpbmVyIiwiZmluZCIsInZhbCIsImNoZWNrWmlwIiwiZW50ZXJlZFppcCIsInppcGNvZGUiLCJzdWJzdHJpbmciLCJzZXJ2aWNlIl0sIm1hcHBpbmdzIjoic0RBRUEsSUFBQUEsT0FBQUMsUUFBQUMsT0FBQSxRQUFBLENBQUEsVUFBQSxpQkNHQSxTQUFBQyxlQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUtBTixFQUFBTyxTQUFBSCxFQUNBSixFQUFBUSxNQUFBSCxFQUVBTCxFQUFBUyxJQUFBLHFCQUFBLFdBRUFDLFFBQUFDLElBQUEsc0JBQ0FMLEVBQUFNLFNDWEEsU0FBQUMsa0JBQUFiLEVBQUFDLEVBQUFhLEdBSUFkLEVBQUFlLGlCQUFBRCxFQUFBQyxpQkFHQUwsUUFBQUMsSUFBQSxvQkFBQUcsRUFBQUMsaUJBQUFmLEVBQUFlLGtCQ1RBLFNBQUFDLHdEQUVBLElBQUFDLEVBQUEsQ0FDQUMsU0FBQSxPQUNBQyxZQUFBLDJCQUNBQyxTQUFBLEVBQ0FDLE1BQUEsR0FDQUMsS0FBQUMsRUFDQUMsV0FBQUMsRUFDQUMsYUFBQSxLQUNBQyxrQkFBQSxHQUlBLFNBQUFKLEVBQUFGLEVBQUFPLEVBQUFDLEVBQUFDLElBS0EsU0FBQUwsRUFBQXpCLEVBQUFDLEVBQUFHLEVBQUFDLEdBRUEwQixLQUdBeEIsU0FBQUgsRUFIQTJCLEtBSUF2QixNQUFBSCxFQU1BLE9BZkFvQixFQUFBTyxRQUFBLENBQUEsU0FBQSxPQUFBLGtCQUFBLGdCQWVBZixFQy9CQSxTQUFBZ0Isc0RBRUEsSUFBQWhCLEVBQUEsQ0FDQUMsU0FBQSxPQUNBQyxZQUFBLHlCQUNBQyxTQUFBLEVBQ0FDLE1BQUEsR0FDQUMsS0FBQUMsRUFDQUMsV0FBQVUsRUFDQVIsYUFBQSxLQUNBQyxrQkFBQSxHQUlBLFNBQUFKLEVBQUFGLEVBQUFPLEVBQUFDLEVBQUFDLElBS0EsU0FB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QSxRQ1BBakosUUFBQUMsT0FBQSxTQUFBZ1MsUUFBQSx1QkFBQXpJLHNCQUdBQSxxQkFBQXJILFFBQUEsQ0FBQSxhQUFBLGdCQ0hBbkMsUUFBQUMsT0FBQSxTQUFBZ1MsUUFBQSxlQUFBMUgsY0FHQUEsYUFBQXBJLFFBQUEsQ0FBQSxhQ0hBbkMsUUFBQUMsT0FBQSxTQUFBZ1MsUUFBQSxnQkFBQXRPLGVBR0FBLGNBQUF4QixRQUFBLENBQUEsU0NIQW5DLFFBQUFDLE9BQUEsU0FBQWdTLFFBQUEsZ0JBQUF4UixlQUdBQSxjQUFBMEIsUUFBQSxDQUFBLGFBQUEsWUFBQSxnQkFBQSxrQkFBQSx1QkFBQSxnQkNIQW5DLFFBQUFDLE9BQUEsU0FBQWdTLFFBQUEsZUFBQXpSLGNBR0FBLGFBQUEyQixRQUFBLENBQUEsbUJDSEFuQyxRQUFBQyxPQUFBLFNBQUFnUyxRQUFBLG9CQUFBM1IsbUJBR0FBLGtCQUFBNkIsUUFBQSxDQUFBLFNDSEFuQyxRQUFBQyxPQUFBLFNBQUFnUyxRQUFBLGtCQUFBMVIsaUJBR0FBLGdCQUFBNEIsUUFBQSxHQ0hBbkMsUUFBQUMsT0FBQSxTQUFBZ1MsUUFBQSxvQkFBQXpQLG1CQUdBQSxrQkFBQUwsUUFBQSxDQUFBLGVBQUEsbUJDSEFuQyxRQUFBQyxPQUFBLFNBQUFnUyxRQUFBLGNBQUEvSixhQUdBQSxZQUFBL0YsUUFBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL2RlZmluZSB0aGUgbW9kdWxlXG5cbnZhciBhaE51dHMgPSBhbmd1bGFyLm1vZHVsZSgnYW5zdWInLCBbJ25nUm91dGUnLCAndWkuYm9vdHN0cmFwJ10pOyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmNvbnRyb2xsZXIoJ21haW5Db250cm9sbGVyJywgbWFpbkNvbnRyb2xsZXIpO1xuXG5cdG1haW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRsb2cnLCAnJGxvY2F0aW9uJywgJ3N1Ym1pc3Npb25TZXJ2aWNlJywgJ3VzZXJEYXRhU2VydmljZScsICdzdGF0ZVNlcnZpY2UnLCAnc3F1YXJlU2VydmljZSddO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBtYWluQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgc3VibWlzc2lvblNlcnZpY2UsIHVzZXJEYXRhU2VydmljZSwgc3RhdGVTZXJ2aWNlLCBzcXVhcmVTZXJ2aWNlKSB7XG5cdFx0Ly9ub3RpZnkgcHJvZ3Jlc3NcblxuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdC8vZGVmaW5lIHVzZXJkYXRhIG1vZGVsIHZhcmlhYmxlXG5cdFx0JHNjb3BlLnVzZXJEYXRhID0gdXNlckRhdGFTZXJ2aWNlO1xuXHRcdCRzY29wZS5zdGF0ZSA9IHN0YXRlU2VydmljZTtcblxuXHRcdCRzY29wZS4kb24oJyR2aWV3Q29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xuXHRcdCAgICAvL2NhbGwgaXQgaGVyZVxuXHRcdCAgICBjb25zb2xlLmxvZygnJHZpZXdDb250ZW50TG9hZGVkJyk7XG5cdFx0ICAgIHNxdWFyZVNlcnZpY2UuaW5pdCgpO1xuXHRcdH0pO1xuXG5cdFx0XG5cdFx0XG5cdFx0Lyp2YXIgcmVjaXBpYW50UHJvZmlsZSA9IHtcblx0XHRcdG5hbWU6IHtcblx0XHRcdFx0Zmlyc3Q6IFwiXCIsXG5cdFx0XHRcdGxhc3Q6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRhZGRyZXNzOiB7XG5cdFx0XHRcdHN0cmVldDE6IFwiXCIsXG5cdFx0XHRcdHN0cmVldDI6IFwiXCIsXG5cdFx0XHRcdHN0cmVldDM6IFwiXCIsXG5cdFx0XHRcdGNpdHk6IFwiXCIsXG5cdFx0XHRcdHN0YXRlOiBcIlwiLFxuXHRcdFx0XHR6aXA6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRjb250YWN0OiB7fSxcblx0XHRcdHJlbGF0aW9uc2hpcDogXCJcIlxuXHRcdH07XG5cblx0XHR2YXIgc2hpcHBpbmdTY2hlZHVsZXMgPSB7XG5cdFx0XHRcInllYXJseVwiOiBbXG5cdFx0XHRcdHsgaWQ6IDEsIG5hbWU6IFwiVHJlYXRcIiwgc2hpcERheTogXCJcIiwgYmlsbERheTogXCJcIiB9XG5cdFx0XHRdLFxuXHRcdFx0XCJxdWFydGVybHlcIjogW1xuXHRcdFx0XHR7IGlkOiAxLCBuYW1lOiBcIldpbnRlclwiLCBzaGlwRGF5OiBcIlwiLCBiaWxsRGF5OiBcIlwiIH0sXG5cdFx0XHRcdHsgaWQ6IDIsIG5hbWU6IFwiU3ByaW5nXCIsIHNoaXBEYXk6IFwiXCIsIGJpbGxEYXk6IFwiXCIgfSxcblx0XHRcdFx0eyBpZDogMywgbmFtZTogXCJTdW1tZXJcIiwgc2hpcERheTogXCJcIiwgYmlsbERheTogXCJcIiB9LFxuXHRcdFx0XHR7IGlkOiA0LCBuYW1lOiBcIkZhbGxcIiwgc2hpcERheTogXCJcIiwgYmlsbERheTogXCJcIiB9XG5cdFx0XHRdLFxuXHRcdFx0XCJtb250aGx5XCI6IFtcblx0XHRcdFx0eyBpZDogMSwgbmFtZTogXCJKYW51YXJ5XCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogMiwgbmFtZTogXCJGZWJydWFyeVwiLCBzaGlwRGF5OiBcIjNyZFwiLCBiaWxsRGF5OiBcIjFzdFwiIH0sXG5cdFx0XHRcdHsgaWQ6IDMsIG5hbWU6IFwiTWFyY2hcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiA0LCBuYW1lOiBcIkFwcmlsXCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogNSwgbmFtZTogXCJNYXlcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiA2LCBuYW1lOiBcIkp1bmVcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiA3LCBuYW1lOiBcIkp1bHlcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiA4LCBuYW1lOiBcIkF1Z3VzdFwiLCBzaGlwRGF5OiBcIjNyZFwiLCBiaWxsRGF5OiBcIjFzdFwiIH0sXG5cdFx0XHRcdHsgaWQ6IDksIG5hbWU6IFwiU2VwdGVtYmVyXCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogMTAsIG5hbWU6IFwiT2N0b2JlclwiLCBzaGlwRGF5OiBcIjNyZFwiLCBiaWxsRGF5OiBcIjFzdFwiIH0sXG5cdFx0XHRcdHsgaWQ6IDExLCBuYW1lOiBcIk5vdmVtYmVyXCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogMTIsIG5hbWU6IFwiRGVjZW1iZXJcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9XG5cdFx0XHRdLFxuXHRcdFx0XCJ3ZWVrbHlcIjogd2Vla2x5R2VuZXJhdG9yKClcblxuXHRcdH1cblx0XHRcblx0XHR2YXIgc2hpcHBpbmdPY2N1cmFuY2UgPSB7XG5cdFx0XHRpZDogMCxcblx0XHRcdG5hbWU6IFwiXCIsXG5cdFx0XHRkYXRlOiBcIlwiXG5cdFx0fTtcblxuXHRcdGZ1bmN0aW9uIHdlZWtseUdlbmVyYXRvcigpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIGFsbFdlZWtzID0gW107XG5cblx0XHRcdGZvcih2YXIgaSA9IDE7IGkgPD0gNTI7IGkrKykge1xuXHRcdFx0XHR2YXIgd2Vla05hbWUgPSBcIldlZWsgXCIgKyBpO1xuXHRcdFx0XHRhbGxXZWVrcy5wdXNoKHsgaWQ6IGksIG5hbWU6IHdlZWtOYW1lLCBzaGlwRGF5OiBcIlR1ZXNkYXlcIiwgYmlsbERheTogXCJGcmlkYXlcIiB9KTtcblx0XHRcdH07XG5cblx0XHRcdHJldHVybiBhbGxXZWVrcztcblx0XHR9OyovXG5cblx0XHQvL2RlZmluZSBmbGF2b3IgdmFyaWFibGVzXG5cdFx0Lyokc2NvcGUuZmxhdm9ycz0gW1xuXHRcdFx0eyBuYW1lOiAnU2VjcmV0IFJlY2lwZSBQZWNhbnMnLCBkZXNjcmlwdGlvbjogXCIgXCIgfSxcblx0XHRcdHsgbmFtZTogJ1NlY3JldCBSZWNpcGUgQWxtb25kcycsIGRlc2NyaXB0aW9uOiBcIiBcIiB9LFxuXHRcdFx0eyBuYW1lOiAnU2VjcmV0IFJlY2lwZSBDYXNoZXdzJywgZGVzY3JpcHRpb246IFwiIFwiIH0sXG5cdFx0XHR7IG5hbWU6ICdTZWNyZXQgUmVjaXBlIFBlYW51dHMnLCBkZXNjcmlwdGlvbjogXCIgXCIgfSxcblx0XHRcdHsgbmFtZTogJ0Npbm5hbW9uIFBlY2FucycsIGRlc2NyaXB0aW9uOiBcIiBcIiB9LFxuXHRcdFx0eyBuYW1lOiAnQ2lubmFtb24gQWxtb25kcycsIGRlc2NyaXB0aW9uOiBcIiBcIiB9LFxuXHRcdFx0eyBuYW1lOiAnRHJ1bmtlbiBQZWNhbnMnLCBkZXNjcmlwdGlvbjogXCIgXCIgfSxcblx0XHRcdHsgbmFtZTogJ01peC1JdC1VcCcsIGRlc2NyaXB0aW9uOiBcIiBcIiB9XG5cdFx0XTtcblxuXHRcdCRzY29wZS5vcmRlclNjaGVkdWxlID0gW1xuXHRcdFx0eyBpZDogMSB9XG5cdFx0XTsqL1xuXG5cdFx0XG5cblx0XHQvL2RlZmluZSBzdGF0ZSB2YXJpYWJsZXNcblx0XHQvKiRzY29wZS5zdGF0ZSA9IHtcblx0XHRcdHRlbXBSZWNpcGlhbnQ6IHtcblx0XHRcdFx0bmFtZToge1xuXHRcdFx0XHRcdGZpcnN0OiBcIlwiLFxuXHRcdFx0XHRcdGxhc3Q6IFwiXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0YWRkcmVzczoge1xuXHRcdFx0XHRcdHN0cmVldDE6IFwiXCIsXG5cdFx0XHRcdFx0c3RyZWV0MjogXCJcIixcblx0XHRcdFx0XHRzdHJlZXQzOiBcIlwiLFxuXHRcdFx0XHRcdGNpdHk6IFwiXCIsXG5cdFx0XHRcdFx0c3RhdGU6IFwiXCIsXG5cdFx0XHRcdFx0emlwOiBcIlwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbnRhY3Q6IHtcblx0XHRcdFx0XHRlbWFpbDogXCJcIixcblx0XHRcdFx0XHRwaG9uZTogXCJcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZWxhdGlvbnNoaXA6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRvcmRlcjoge1xuXHRcdFx0XHRxdHk6IFwiMVwiLFxuXHRcdFx0XHR2aXNpYmlsaXR5OiB7XG5cdFx0XHRcdFx0b25lOiB0cnVlLFxuXHRcdFx0XHRcdHR3bzogZmFsc2UsXG5cdFx0XHRcdFx0dGhyZWU6IGZhbHNlLFxuXHRcdFx0XHRcdGZvdXI6IGZhbHNlLFxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZnJlcXVlbmN5OiB7XG5cdFx0XHRcdHZhbHVlOiAnbW9udGhseSdcblx0XHRcdH0sXG5cdFx0XHRzaGlwcGluZ0Rlc3RpbmF0aW9uczogXCIxXCIsXG5cdFx0XHRyZWNpcGllbnRzQm94OiBcIjFcIixcblx0XHRcdHJlY2lwaWFudFNlbGVjdGVkOiB7XG5cdFx0XHRcdHN0YXRlOiBmYWxzZSxcblx0XHRcdFx0aWQ6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRzdWJUeXBlOiB7fSxcblx0XHRcdHNlbGVjdGVkUmVjaXBpYW50OiAwLFxuXHRcdFx0ZXJyb3JzOiB7XG5cdFx0XHRcdG1pc3NpbmdSZXF1aXJlZDogZmFsc2Vcblx0XHRcdH1cblx0XHR9XG5cblx0XHQkc2NvcGUuc3RhdGVUZXN0ID0gc3RhdGVTZXJ2aWNlXG5cblx0XHQvL2xvY2FsIGZ1bmN0aW9uc1xuXHRcdGZ1bmN0aW9uIGFkZFRvUmVjaXBpYW50TGlzdChyZWxhdGlvbnNoaXApIHtcblx0XHRcdFxuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgbmV3UmVjaXBpYW50ID0gT2JqZWN0LmNyZWF0ZShyZWNpcGlhbnRQcm9maWxlKTtcblx0XHRcdHZhciBleGlzdHNBbHJlYWR5ID0gZmFsc2U7XG5cdFx0XHR2YXIgZW50cnlJbmRleCA9IDA7XG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdC8vMS4gY2hlY2sgZm9yIHRoZSByZWxhdGlvbnNoaXBcblx0XHRcdCRzY29wZS51c2VyRGF0YS5yZWNpcGlhbnRMaXN0LmZvckVhY2goZnVuY3Rpb24ocmVjaXBpYW50KSB7XG5cdFx0XHRcdGlmKHJlY2lwaWFudC5yZWxhdGlvbnNoaXAgPT0gcmVsYXRpb25zaGlwKSB7XG5cdFx0XHRcdFx0ZXhpc3RzQWxyZWFkeSA9IHRydWU7XG5cdFx0XHRcdFx0ZW50cnlJbmRleCA9IGk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdGkrKztcblx0XHRcdH0pO1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdhZGRpbmcnLCByZWxhdGlvbnNoaXAsICd0byByZWNpcGlhbnQgbGlzdCcsICRzY29wZS51c2VyRGF0YS5yZWNpcGlhbnRMaXN0LCBcImFscmVhZHkgRXhpc3RzP1wiLCBleGlzdHNBbHJlYWR5KTtcblxuXHRcdFx0Ly9pZiByZWxhdGlvbnNoaXAgZG9lc24ndCBleGlzdCB5ZXQsIGFkZCBpdFxuXHRcdFx0aWYoIWV4aXN0c0FscmVhZHkpIHtcblx0XHRcdFx0bmV3UmVjaXBpYW50LnJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcDtcblx0XHRcdFx0JHNjb3BlLnVzZXJEYXRhLnJlY2lwaWFudExpc3QucHVzaChuZXdSZWNpcGlhbnQpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvL3JldHVybiByZXN1bHRcblx0XHRcdHJldHVybiBlbnRyeUluZGV4O1xuXHRcdH07XG5cblx0XHRmdW5jdGlvbiByZW1vdmVGcm9tUmVjaXBpYW50TGlzdChyZWxhdGlvbnNoaXApIHtcblx0XHRcdFxuXHRcdFx0Ly9jb25zb2xlLmxvZygncmVtb3ZpbmcnLCByZWxhdGlvbnNoaXAsICd0byByZWNpcGlhbnQgbGlzdCcpO1xuXG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsc1xuXHRcdFx0dmFyIGkgPSAwO1xuXG5cdFx0XHQvL2l0ZXJhdGUgdGhyb3VnaCBhcnJheVxuXHRcdFx0JHNjb3BlLnVzZXJEYXRhLnJlY2lwaWFudExpc3QuZm9yRWFjaChmdW5jdGlvbihyZWNpcGlhbnQpIHtcblx0XHRcdFx0aWYocmVjaXBpYW50LnJlbGF0aW9uc2hpcCA9PSByZWxhdGlvbnNoaXApIHtcblx0XHRcdFx0XHQkc2NvcGUudXNlckRhdGEucmVjaXBpYW50TGlzdC5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aSsrO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vcmV0dXJuIHJlc3VsdFxuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fTtcblxuXHRcdGZ1bmN0aW9uIHNlbGVjdFJlY2lwaWFudChpbmRleCkge1xuXG5cdFx0XHQkc2NvcGUuc3RhdGUuc2VsZWN0ZWRSZWNpcGlhbnQgPSBpbmRleDtcblx0XHR9O1xuXG5cdFx0Ly92aWV3IG1vZGVsIGZ1bmN0aW9uc1xuXHRcdC8vVVBEQVRFIE9SREVSIFZJU0lCSUxJVFlcblx0XHQkc2NvcGUudXBkYXRlT3JkZXJWaXNpYmxpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFsZXNcblx0XHRcdHZhciBoYXNoID0ge1wib25lXCI6IDEsIFwidHdvXCI6IDIsIFwidGhyZWVcIjogMywgXCJmb3VyXCI6IDR9O1xuXHRcdFx0XHRcblx0XHRcdC8vaXRlcmF0ZSB0aHJvdWdoIHZhbHVlc1xuXHRcdFx0T2JqZWN0LmtleXMoJHNjb3BlLnN0YXRlLm9yZGVyLnZpc2liaWxpdHkpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdGlmKGhhc2hba2V5XSA8PSB2YWx1ZSkgJHNjb3BlLnN0YXRlLm9yZGVyLnZpc2liaWxpdHlba2V5XSA9IHRydWVcblx0XHRcdFx0XHRlbHNlICRzY29wZS5zdGF0ZS5vcmRlci52aXNpYmlsaXR5W2tleV0gPSBmYWxzZVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vY29uc29sZS5sb2coJ2NoZWNraW5nIHZhbHVlcycsIHZhbHVlLCAkc2NvcGUuc3RhdGUub3JkZXIudmlzaWJpbGl0eSk7XG5cdFx0XHRcblx0XHR9O1xuXG5cdFx0Ly9VUERBVEUgRlJFUVVFTkNZXG5cdFx0JHNjb3BlLnVwZGF0ZUZyZXF1ZW5jeSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHQkc2NvcGUudXNlckRhdGEuc2hpcHBpbmdTY2hlZHVsZSA9IHNoaXBwaW5nU2NoZWR1bGVzW3ZhbHVlXTtcblx0XHR9O1xuXG5cdFx0Ly9VUERBVEUgT1JERVIgU0NIRURVTEVcblx0XHQkc2NvcGUudXBkYXRlT3JkZXJTY2hlZHVsZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR9XG5cblx0XHQvL1VQREFURSBUSEUgU1VCU0NSSVBUSU9OIFRZUEVcblx0XHQkc2NvcGUudXBkYXRlU3ViVHlwZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHZhciB1cGRhdGVJbmRleCA9IDA7XG5cdFx0XHQkc2NvcGUudXNlckRhdGEuc3ViVHlwZSA9IHZhbHVlO1xuXG5cdFx0XHRpZih2YWx1ZT09XCJteXNlbGZcIikge1xuXHRcdFx0XHQvLyRzY29wZS5zdGF0ZS5yZWNpcGllbnRzQm94ID0gXCIxMFwiO1xuXHRcdFx0XHRhZGRUb1JlY2lwaWFudExpc3QoXCJNeXNlbGZcIik7XG5cdFx0XHRcdHJlbW92ZUZyb21SZWNpcGlhbnRMaXN0KFwiU29tZW9uZVwiKTtcblx0XHRcdFx0c2VsZWN0UmVjaXBpYW50KDApO1xuXHRcdFx0fSBlbHNlIGlmKHZhbHVlPT1cIm90aGVyc1wiKSB7XG5cdFx0XHRcdC8vJHNjb3BlLnN0YXRlLnJlY2lwaWVudHNCb3ggPSBcIjEwXCI7XG5cdFx0XHRcdHVwZGF0ZUluZGV4ID0gYWRkVG9SZWNpcGlhbnRMaXN0KFwiU29tZW9uZVwiKTtcblx0XHRcdFx0cmVtb3ZlRnJvbVJlY2lwaWFudExpc3QoXCJNeXNlbGZcIik7XG5cdFx0XHRcdHNlbGVjdFJlY2lwaWFudCgwKTtcblx0XHRcdH0gZWxzZSBpZih2YWx1ZT09XCJib3RoXCIpIHtcblx0XHRcdFx0Ly8kc2NvcGUuc3RhdGUucmVjaXBpZW50c0JveCA9IFwiMTBcIjtcblx0XHRcdFx0dXBkYXRlSW5kZXggPSBhZGRUb1JlY2lwaWFudExpc3QoXCJNeXNlbGZcIik7XG5cdFx0XHRcdGFkZFRvUmVjaXBpYW50TGlzdChcIlNvbWVvbmVcIik7XG5cdFx0XHRcdHNlbGVjdFJlY2lwaWFudCgwKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0JHNjb3BlLnNlbGVjdFJlY2lwaWFudCA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0XHRzZWxlY3RSZWNpcGlhbnQoaW5kZXgpO1xuXHRcdFx0JHNjb3BlLnN0YXRlLnRlbXBSZWNpcGlhbnQgPSAkc2NvcGUudXNlckRhdGEucmVjaXBpYW50TGlzdFtpbmRleF07XG5cdFx0fTtcblxuXHRcdCRzY29wZS51cGRhdGVSZWNpcGlhbnRWYWx1ZXMgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmRleCA9ICRzY29wZS5zdGF0ZS5zZWxlY3RlZFJlY2lwaWFudDtcblx0XHRcdCRzY29wZS51c2VyRGF0YS5yZWNpcGlhbnRMaXN0W2luZGV4XSA9ICRzY29wZS5zdGF0ZS50ZW1wUmVjaXBpYW50O1xuXHRcdH07Ki9cblx0XHRcblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5jb250cm9sbGVyKCdzdWNjZXNzQ29udHJvbGxlcicsIHN1Y2Nlc3NDb250cm9sbGVyKTtcblxuc3VjY2Vzc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICckcm91dGVQYXJhbXMnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdWNjZXNzQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRyb3V0ZVBhcmFtcykge1xuXHRcblxuXHQvL2RlZmluZSBsb2NhbCB2YXJhaWJsZXNcblx0JHNjb3BlLmNvbmZpcm1hdGlvbkNvZGUgPSAkcm91dGVQYXJhbXMuY29uZmlybWF0aW9uQ29kZTtcblxuXHQvL25vdGlmeSBwcm9ncmVzc1xuXHRjb25zb2xlLmxvZygnc3VjY2VzcyBjb250cm9sZXInLCAkcm91dGVQYXJhbXMuY29uZmlybWF0aW9uQ29kZSwgJHNjb3BlLmNvbmZpcm1hdGlvbkNvZGUpO1xufTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ2JpbGxpbmdBZGRyZXNzJywgYmlsbGluZ0FkZHJlc3MpO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBiaWxsaW5nQWRkcmVzcygpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvYmlsbGluZ0FkZHJlc3MuaHRtJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge30sXG5cdFx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRcdGNvbnRyb2xsZXI6IGJpbGxpbmdBZGRyZXNzQ29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7fVxuXHRcdFxuXHRcdGJpbGxpbmdBZGRyZXNzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICd1c2VyRGF0YVNlcnZpY2UnLCAnc3RhdGVTZXJ2aWNlJ107XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBiaWxsaW5nQWRkcmVzc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCB1c2VyRGF0YVNlcnZpY2UsIHN0YXRlU2VydmljZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vZGVmaW5lIHZpZXdtb2RlbCB2YWx1ZXNcblx0XHRcdHNlbGYudXNlckRhdGEgPSB1c2VyRGF0YVNlcnZpY2U7XG5cdFx0XHRzZWxmLnN0YXRlID0gc3RhdGVTZXJ2aWNlO1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdpbiBiaWxsaW5nIEFEZHJlc3MgY29udHJvbGxlcicsIHNlbGYuc3RhdGUuc2hpcGluZ1NhbWVBc0JpbGxpbmcpO1xuXG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHRcdFxuXHR9OyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmRpcmVjdGl2ZSgnYmlsbGluZ0lucHV0JywgYmlsbGluZ0lucHV0KTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gYmlsbGluZ0lucHV0KCkge1xuXHRcdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9iaWxsaW5nSW5wdXQuaHRtJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge30sXG5cdFx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRcdGNvbnRyb2xsZXI6IGJpbGxpbmdJbnB1dENvbnRyb2xsZXIsXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdFx0fTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge31cblx0XHRcblx0XHRiaWxsaW5nSW5wdXRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3VzZXJEYXRhU2VydmljZScsICdzdGF0ZVNlcnZpY2UnXTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIGJpbGxpbmdJbnB1dENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCB1c2VyRGF0YVNlcnZpY2UsIHN0YXRlU2VydmljZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0XHQvL2RlZmluZSB2aWV3bW9kZWwgdmFsdWVzXG5cdFx0XHR2bS51c2VyRGF0YSA9IHVzZXJEYXRhU2VydmljZTtcblx0XHRcdHZtLnN0YXRlID0gc3RhdGVTZXJ2aWNlO1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdpbiBjb250YWN0SW5wdXR0Q29udHJvbGxlcicpO1xuXG5cdFx0XHQvL3doZW4gdGhlIHZpZXcgaGFzIGxvYWRlZCwgdGhlbiBpbml0IHRoZSBzcXVhcmUgZmllbGRzXG5cdFx0XHQkc2NvcGUuJG9uKCckdmlld0NvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcblx0XHRcdCAgICAvL2NhbGwgaXQgaGVyZVxuXHRcdFx0ICAgIGNvbnNvbGUubG9nKCckdmlld0NvbnRlbnRMb2FkZWQnKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ2NvbnRhY3RJbnB1dCcsIGNvbnRhY3RJbnB1dCk7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGNvbnRhY3RJbnB1dCgpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvY29udGFjdElucHV0Lmh0bScsXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdFx0c2NvcGU6IHt9LFxuXHRcdFx0bGluazogbGlua0Z1bmMsXG5cdFx0XHRjb250cm9sbGVyOiBjb250YWN0SW5wdXR0Q29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7fVxuXHRcdFxuXHRcdGNvbnRhY3RJbnB1dHRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3VzZXJEYXRhU2VydmljZScsICdzdGF0ZVNlcnZpY2UnLCAndmFsaWRhdGlvblNlcnZpY2UnXTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIGNvbnRhY3RJbnB1dHRDb250cm9sbGVyKCRzY29wZSwgJGxvZywgdXNlckRhdGFTZXJ2aWNlLCBzdGF0ZVNlcnZpY2UsIHZhbGlkYXRpb25TZXJ2aWNlKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0Ly9kZWZpbmUgdmlld21vZGVsIHZhbHVlc1xuXHRcdFx0c2VsZi51c2VyRGF0YSA9IHVzZXJEYXRhU2VydmljZTtcblx0XHRcdHNlbGYuc3RhdGUgPSBzdGF0ZVNlcnZpY2U7XG5cblx0XHRcdC8vY29uc29sZS5sb2coJ2luIGNvbnRhY3RJbnB1dHRDb250cm9sbGVyJyk7XG5cdFx0XHRzZWxmLnZhbGlkYXRlID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdnb3QgdGhlc2UnLCBmaWVsZCwgdmFsdWUpO1xuXG5cdFx0XHRcdHZhciBpc1ZhbGlkID0gdmFsaWRhdGlvblNlcnZpY2UuY29udGFjdFtmaWVsZF0odmFsdWUpO1xuXG5cdFx0XHRcdC8vc2V0IGlucHV0IHZhbHVlXG5cdFx0XHRcdGlmKGlzVmFsaWQpIHtcblx0XHRcdFx0XHRzZWxmLnN0YXRlLmNvbnRhY3RJbnB1dFtmaWVsZF0uaW5wdXRbJ2lzLXZhbGlkJ10gPSB0cnVlO1xuXHRcdFx0XHRcdHNlbGYuc3RhdGUuY29udGFjdElucHV0W2ZpZWxkXS5pbnB1dFtcImlzLWludmFsaWRcIl0gPSBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWxmLnN0YXRlLmNvbnRhY3RJbnB1dFtmaWVsZF0uaW5wdXRbJ2lzLXZhbGlkJ10gPSBmYWxzZTtcblx0XHRcdFx0XHRzZWxmLnN0YXRlLmNvbnRhY3RJbnB1dFtmaWVsZF0uaW5wdXRbXCJpcy1pbnZhbGlkXCJdID0gdHJ1ZTtcblx0XHRcdFx0fTtcblxuXHRcdFx0fTtcblxuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ2ZyZXF1ZW5jeVNlbGVjdGlvbicsIGZyZXF1ZW5jeVNlbGVjdGlvbik7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGZyZXF1ZW5jeVNlbGVjdGlvbigpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZnJlcXVlbmN5U2VsZWN0aW9uLmh0bScsXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdFx0c2NvcGU6IHt9LFxuXHRcdFx0bGluazogbGlua0Z1bmMsXG5cdFx0XHRjb250cm9sbGVyOiBmcmVxdWVuY3lTZWxlY3Rpb25Db250cm9sbGVyLFxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHRcdH07XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHt9XG5cdFx0XG5cdFx0ZnJlcXVlbmN5U2VsZWN0aW9uQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gZnJlcXVlbmN5U2VsZWN0aW9uQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlc1xuXHRcdFx0c2VsZi5mcmVxdWVuY2llcyA9IFtcblx0XHRcdFx0XCJtb250aFwiLFxuXHRcdFx0XHRcInF1YXJ0ZXJcIixcblx0XHRcdFx0XCJ5ZWFyXCJcblx0XHRcdF07XG5cblx0XHRcdHNlbGYuc3RhcnRzID0ge1xuXHRcdFx0XHRtb250aDogW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl0sXG5cdFx0XHRcdHF1YXJ0ZXI6IFtcIldpbnRlclwiLCBcIlNwcmluZ1wiLCBcIlN1bW1lclwiLCBcIkZhbGxcIl0sXG5cdFx0XHRcdHllYXI6IFtcIjIwMThcIiwgXCIyMDE5XCIsIFwiMjAyMFwiXVxuXHRcdFx0fVxuXG5cdFx0XHRzZWxmLnNlbGVjdGVkRnJlcXVlbmN5ID0gJyc7XG5cdFx0XHRzZWxmLnN0YXJ0c0luID0gJyc7XG5cblx0XHRcdC8vY29uc29sZS5sb2coJ2luIGZyZXF1ZW5jeVNlbGVjdGlvbkNvbnRyb2xsZXInKTtcblxuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ3Byb2R1Y3RTZWxlY3Rpb24nLCBwcm9kdWN0U2VsZWN0aW9uKTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gcHJvZHVjdFNlbGVjdGlvbigpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvcHJvZHVjdFNlbGVjdGlvbi5odG0nLFxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRcdHNjb3BlOiB7XG5cdFx0XHR9LFxuXHRcdFx0bGluazogbGlua0Z1bmMsXG5cdFx0XHRjb250cm9sbGVyOiBwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cdFx0fVxuXHRcdFxuXHRcdHByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3VzZXJEYXRhU2VydmljZScsICdzdGF0ZVNlcnZpY2UnLCAnc3F1YXJlU2VydmljZScsICdzZXJ2ZXJTZXJ2aWNlJ107XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlcigkc2NvcGUsICRsb2csIHVzZXJEYXRhU2VydmljZSwgc3RhdGVTZXJ2aWNlLCBzcXVhcmVTZXJ2aWNlLCBzZXJ2ZXJTZXJ2aWNlKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZXNcblx0XHRcdHNlbGYudXNlckRhdGEgPSB1c2VyRGF0YVNlcnZpY2U7XG5cdFx0XHRzZWxmLnN0YXRlID0gc3RhdGVTZXJ2aWNlLnByb2R1Y3RTZWxlY3Rpb247XG5cdFx0XHRzZWxmLnN0YXRlWydpbmZvQm94J10gPSBzdGF0ZVNlcnZpY2UuaW5mb0JveGVzLmZsYXZvckRlZnM7XG5cblx0XHRcdC8vIGRvbmxvYWQgcmVzb3VyY2VzXG5cdFx0XHRzcXVhcmVTZXJ2aWNlLmRvd25sb2FkLnByb2R1Y3RMaXN0KClcblx0XHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocyl7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ2dvdCB0aGlzIHByb2R1Y3QgbGlzdCcsIHMpO1xuXHRcdFx0XHRzZWxmLmZsYXZvcnMgPSBzO1xuXHRcdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdwcm9kdWN0IGxpc3QgZXJyb3IsICcsIGUpO1xuXHRcdFx0fSk7XG5cblxuXG5cdFx0XHRzZWxmLm9yZGVyTGlzdCA9IHVzZXJEYXRhU2VydmljZS5vcmRlcjtcblxuXHRcdFx0c2VsZi5wcm9kdWN0UHJpY2UgPSAxNjk5O1xuXG5cdFx0XHRzZWxmLm9yZGVyID0gdXNlckRhdGFTZXJ2aWNlLnRlbmRlcjtcblxuXG5cdFx0XHR2YXIgcHJvZHVjdE9iamVjdCA9IHsgXG5cdFx0XHRcdGlkOiAxLCBcblx0XHRcdFx0c3FySWQ6IFwiXCIsXG5cdFx0XHRcdHNxVmFySWQ6IFwiXCIsXG5cdFx0XHRcdGZsYXZvcjogXCJcIiwgXG5cdFx0XHRcdG1peGZsdnJDb3VudDogMCxcblx0XHRcdFx0bWl4Zmx2cnM6IHtcblx0XHRcdFx0XHRzcnBlYzogeyBpZDogXCJzcnBlY1wiLCBuYW1lOiBcIlNSIFBlY2Fuc1wiLCBzZWxlY3RlZDpmYWxzZSwgY2xhc3Nlczp7XCJsaXN0LWdyb3VwLWl0ZW1cIjogdHJ1ZSwgXCJhY3RpdmVcIjogZmFsc2V9IH0sXG5cdFx0XHRcdFx0c3JhbG06IHsgaWQ6IFwic3JhbG1cIiwgbmFtZTogXCJTUiBBbG1vbmRzXCIsIHNlbGVjdGVkOmZhbHNlLCBjbGFzc2VzOntcImxpc3QtZ3JvdXAtaXRlbVwiOiB0cnVlLCBcImFjdGl2ZVwiOiBmYWxzZX0gIH0sXG5cdFx0XHRcdFx0c3Jjc2g6IHsgaWQ6IFwic3Jjc2hcIiwgbmFtZTogXCJTUiBDYXNoZXdzXCIsIHNlbGVjdGVkOmZhbHNlLCBjbGFzc2VzOntcImxpc3QtZ3JvdXAtaXRlbVwiOiB0cnVlLCBcImFjdGl2ZVwiOiBmYWxzZX0gIH0sXG5cdFx0XHRcdFx0c3JwZWE6IHsgaWQ6IFwic3JwZWFcIiwgbmFtZTogXCJTUiBQZWFudXRzXCIsIHNlbGVjdGVkOmZhbHNlLCBjbGFzc2VzOntcImxpc3QtZ3JvdXAtaXRlbVwiOiB0cnVlLCBcImFjdGl2ZVwiOiBmYWxzZX0gIH0sXG5cdFx0XHRcdFx0Y25wZWM6IHsgaWQ6IFwiY25wZWNcIiwgbmFtZTogXCJDaW4gUGVjYW5zXCIsIHNlbGVjdGVkOmZhbHNlLCBjbGFzc2VzOntcImxpc3QtZ3JvdXAtaXRlbVwiOiB0cnVlLCBcImFjdGl2ZVwiOiBmYWxzZX0gIH0sXG5cdFx0XHRcdFx0Y25hbG06IHsgaWQ6IFwiY25hbG1cIiwgbmFtZTogXCJDaW4gQWxtb25kc1wiLCBzZWxlY3RlZDpmYWxzZSwgY2xhc3Nlczp7XCJsaXN0LWdyb3VwLWl0ZW1cIjogdHJ1ZSwgXCJhY3RpdmVcIjogZmFsc2V9ICB9LFxuXHRcdFx0XHRcdGRycGVjOiB7IGlkOiBcImRycGVjXCIsIG5hbWU6IFwiRHJ1bmsgUGVjYW5zXCIsIHNlbGVjdGVkOmZhbHNlLCBjbGFzc2VzOntcImxpc3QtZ3JvdXAtaXRlbVwiOiB0cnVlLCBcImFjdGl2ZVwiOiBmYWxzZX0gIH1cblx0XHRcdFx0fSxcblx0XHRcdFx0bWl4Rmx2cnNTZWxlY3RlZDogW10sXG5cdFx0XHRcdG1peDogXCJcIlxuXHRcdFx0fTtcblxuXHRcdFx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZXNcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gcHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXInKTtcblxuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgZnVuY3Rpb25zXG5cdFx0XHRmdW5jdGlvbiBzdW1PcmRlcigpIHtcblxuXHRcdFx0XHRzZWxmLm9yZGVyLnRvdGFsID0gKHNlbGYub3JkZXJMaXN0Lmxlbmd0aCAqIHNlbGYucHJvZHVjdFByaWNlKSAtIHNlbGYub3JkZXIuZGlzY291bnRzO1xuXHRcdFx0XHRpZihzZWxmLm9yZGVyTGlzdC5sZW5ndGggPT0gNCkgc2VsZi5vcmRlci50b3RhbCA9IHNlbGYub3JkZXIudG90YWwgLSBzZWxmLnByb2R1Y3RQcmljZTtcblx0XHRcdH07XG5cblx0XHRcdC8vZGVmaW5lIHZpZXcgbW9kZWwgZnVuY3Rpb25zXG5cdFx0XHQvL0FERCBBIFBST0RVQ1QgQlVUVE9OXG5cdFx0XHRzZWxmLmFkZEFQcm9kdWN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmVsc1xuXHRcdFx0XHR2YXIgbm9PZlByb2R1Y3RzID0gc2VsZi5vcmRlckxpc3QubGVuZ3RoO1xuXG5cdFx0XHRcdC8vaWYgdGhlcmUgaXMgcm9vbSBhZGQgYW5vdGhlciBwcm9kdWN0XG5cdFx0XHRcdGlmKG5vT2ZQcm9kdWN0cyA8IDQpIHNlbGYub3JkZXJMaXN0LnB1c2goT2JqZWN0LmNyZWF0ZShwcm9kdWN0T2JqZWN0KSk7XG5cblx0XHRcdFx0Ly9pZiB0aGlzIGlzIHRoZSBsYXN0IGF2YWlsYWJsZSBzbG90IGhpZGUgdGhlIGFkZCBidXR0b25cblx0XHRcdFx0aWYobm9PZlByb2R1Y3RzID09IDMpIHNlbGYuc3RhdGUuYWRkQVByb2R1Y3RCdG4udmlzaWJsZSA9IGZhbHNlO1xuXG5cdFx0XHRcdC8vaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBwcm9kdWN0IGFkZCB0aGUgcmVtb3ZlIGJ1dHRvblxuXHRcdFx0XHRpZihub09mUHJvZHVjdHMgPiAwKSBzZWxmLnN0YXRlLnJlbW92ZUxhc3RQcm9kdWN0QnRuLnZpc2libGUgPSB0cnVlO1xuXG5cdFx0XHRcdC8vbWFrZSBzdXJlIHRoZSBpZCdzIGFyZSBjb3JyZWN0XG5cdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPD0gbm9PZlByb2R1Y3RzOyBpKyspIHtcblx0XHRcdFx0XHRzZWxmLm9yZGVyTGlzdFtpXS5pZCA9IGkgKyAxXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvL2NhbGN1bGF0ZSBtb25leVxuXHRcdFx0XHQvL2lmKG5vT2ZQcm9kdWN0cyA9PSAzKSBzZWxmLm9yZGVyLmRpc2NvdW50cyA9IHNlbGYucHJvZHVjdFByaWNlO1xuXG5cdFx0XHRcdHN1bU9yZGVyKCk7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ2FkZGluZyBhIHByb2R1Y3QnKTtcblx0XHRcdH07XG5cblx0XHRcdC8vUkVNT1ZFIExBU1QgUFJPRFVDVCBCVVRUT05cblx0XHRcdHNlbGYucmVtb3ZlTGFzdFByb2R1Y3QgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHRcdHZhciBub09mUHJvZHVjdHMgPSBzZWxmLm9yZGVyTGlzdC5sZW5ndGg7XG5cdFx0XHRcdHZhciByZW1vdmVJbmRleCA9IG5vT2ZQcm9kdWN0cyAtIDE7XG5cblx0XHRcdFx0Ly9pZiB0aGVyZSBhcmUgYXQgbGVhc3QgdHdvIHByb2R1Y3RzLCByZW1vdmUgb25lXG5cdFx0XHRcdGlmKG5vT2ZQcm9kdWN0cyA+IDEpIHNlbGYub3JkZXJMaXN0LnNwbGljZShyZW1vdmVJbmRleCwgMSk7XG5cblx0XHRcdFx0Ly9pZiBkb3duIHRvIG9uZSBpdGVtLCBoaWRlIHRoZSByZW1vdmUgYnV0dG9uXG5cdFx0XHRcdGlmKG5vT2ZQcm9kdWN0cyA9PSAyKSBzZWxmLnN0YXRlLnJlbW92ZUxhc3RQcm9kdWN0QnRuLnZpc2libGUgPSBmYWxzZTtcblxuXHRcdFx0XHQvL2JyaW5nIHRoZSBhZGQgYnV0dG9uIGJhY2tcblx0XHRcdFx0c2VsZi5zdGF0ZS5hZGRBUHJvZHVjdEJ0bi52aXNpYmxlID0gdHJ1ZTtcblxuXHRcdFx0XHQvL2NhbGN1bGF0ZSBtb25leVxuXHRcdFx0XHRpZihub09mUHJvZHVjdHMgPT0gNCkgc2VsZi5vcmRlci5kaXNjb3VudHMgPSAwO1xuXG5cdFx0XHRcdHN1bU9yZGVyKCk7XG5cblx0XHRcdFx0Ly9jb25zb2xlLmxvZygncmVtb3ZpbmcgcHJvZHVjdCcsIG5vT2ZQcm9kdWN0cyk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvL1JFTU9WRSBBIFBST0RVQ1QgQlVUVE9OXG5cdFx0XHRzZWxmLnJlbW92ZUFQcm9kdWN0ID0gZnVuY3Rpb24oaWQpIHtcblx0XHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHRcdHZhciBub09mUHJvZHVjdHMgPSBzZWxmLm9yZGVyTGlzdC5sZW5ndGg7XG5cdFx0XHRcdHZhciByZW1vdmVJbmRleCA9IGlkIC0gMTtcblxuXHRcdFx0XHQvL2lmIHRoZXJlIGFyZSBhdCBsZWFzdCB0d28gcHJvZHVjdHMsIHJlbW92ZSBvbmVcblx0XHRcdFx0aWYobm9PZlByb2R1Y3RzID4gMSkgc2VsZi5vcmRlckxpc3Quc3BsaWNlKHJlbW92ZUluZGV4LCAxKTtcblxuXHRcdFx0XHQvL21ha2Ugc3VyZSB0aGUgaWQncyBhcmUgY29ycmVjdFxuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDw9IChzZWxmLm9yZGVyTGlzdC5sZW5ndGggLSAxKTsgaSsrKSB7XG5cdFx0XHRcdFx0c2VsZi5vcmRlckxpc3RbaV0uaWQgPSBpICsgMVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3VtT3JkZXIoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly9WQUxJREFURSBUSEUgUFJPRFVDVFMgV0hFTiBDSEFOR0VEXG5cdFx0XHRzZWxmLnZhbGlkYXRlUHJvZHVjdHMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHZhbGlkID0gZmFsc2U7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coXCJ2YWxpZGF0ZWluZyBwcm9kdWN0c1wiKTtcblxuXHRcdFx0XHRpZih2YWxpZCkgc2VsZi5zdGF0ZS5oZWFkZXJTdHlsZS5jb2xvciA9IFwicmdiKDAsMTY1LDEyOClcIlxuXHRcdFx0fVxuXG5cdFx0XHQvL1xuXHRcdFx0c2VsZi5jb3VudE1peEZsYXZvcnMgPSBmdW5jdGlvbihmbGF2b3JPYmplY3QpIHtcblx0XHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHRcdHZhciBjb3VudGVyID0gMDtcblxuXHRcdFx0XHQvL2l0ZXJhdGUgdGhyb2d1aCBvYmplY3Rcblx0XHRcdFx0T2JqZWN0LmtleXMoZmxhdm9yT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XHRcdGlmKGZsYXZvck9iamVjdFtrZXldLnNlbGVjdGVkKSBjb3VudGVyKytcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuIGNvdW50ZXI7XG5cdFx0XHR9O1xuXG5cdFx0XHRzZWxmLnVwZGF0ZVNob3BwaW5nQ2FydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCd1cGRhdGluZyBzaG9wcGluZyBjYXJ0Jyk7XG5cdFx0XHRcdC8vc2VsZi51c2VyRGF0YS5vcmRlciA9IHNlbGYub3JkZXJMaXN0O1xuXHRcdFx0XHQvL2l0ZXJhdGUgb3ZlciBwcm9kdWN0c1xuXHRcdFx0XHRzZWxmLm9yZGVyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHByb2R1Y3QpIHtcblxuXHRcdFx0XHRcdC8vaXRlcmF0ZSBvdmVyIGFsbCBmbGF2b3JzXG5cdFx0XHRcdFx0c2VsZi5mbGF2b3JzLmZvckVhY2goZnVuY3Rpb24oZmxhdm9yKSB7XG5cdFx0XHRcdFx0XHQvL29ubHkgaWYgdGhlIHByb2R1Y3QgaXMgYSBtYXRjaFxuXHRcdFx0XHRcdFx0aWYoZmxhdm9yLm5hbWUgPT0gcHJvZHVjdC5mbGF2b3IpIHtcblx0XHRcdFx0XHRcdFx0cHJvZHVjdC5zcXJJZCA9IGZsYXZvci5pZDtcblxuXHRcdFx0XHRcdFx0XHRpZihwcm9kdWN0LmlkIDwgNCkgcHJvZHVjdC5zcVZhcklkID0gZmxhdm9yLnZhcmlhdGlvbnNbMF0uaWRcblx0XHRcdFx0XHRcdFx0ZWxzZSBwcm9kdWN0LnNxVmFySWQgPSBmbGF2b3IudmFyaWF0aW9uc1sxXS5pZFxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSlcblxuXG5cdFx0XHRcdC8vY29uc29sZS5sb2coc2VsZi5vcmRlckxpc3QpO1xuXG5cdFx0XHR9O1xuXG5cdFx0XHRzZWxmLmJ1aWxkRmxhdm9yTGlzdCA9IGZ1bmN0aW9uKGlkKSB7XG5cdFx0XHRcdC8vY2xlYW4gdGhlIGxpc3Rcblx0XHRcdFx0c2VsZi5vcmRlckxpc3RbaWRdLm1peEZsdnJzU2VsZWN0ZWQgPSBbXTtcblxuXHRcdFx0XHQvL25vdGlmeSBwcm9ncmVzc1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdidWlsaWRuZyBhIGZsYXZvciBsaXN0JywgaWQsIHNlbGYub3JkZXJMaXN0KTtcblxuXHRcdFx0XHQvL2l0cmF0ZSB0aHJvdWdoIGZsYXZvcnMsIGFkZCB0byBsaXN0IHdoZW4gdHJ1ZVxuXHRcdFx0XHRPYmplY3Qua2V5cyhzZWxmLm9yZGVyTGlzdFtpZF0ubWl4Zmx2cnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cblx0XHRcdFx0XHRpZihzZWxmLm9yZGVyTGlzdFtpZF0ubWl4Zmx2cnNba2V5XS5zZWxlY3RlZClcblx0XHRcdFx0XHRcdHNlbGYub3JkZXJMaXN0W2lkXS5taXhGbHZyc1NlbGVjdGVkLnB1c2goc2VsZi5vcmRlckxpc3RbaWRdLm1peGZsdnJzW2tleV0ubmFtZSk7XG5cdFx0XHRcdH0pO1xuXG5cblxuXHRcdFx0fTtcblxuXHRcdFx0Ly9jaGVjayBQcm9tbyBDb2RlXG5cdFx0XHRzZWxmLmNoZWNrUHJvbW9Db2RlID0gZnVuY3Rpb24oY29kZSkge1xuXHRcdFx0XHQvL1xuXHRcdFx0XHRzZXJ2ZXJTZXJ2aWNlLmdldC5jaGVja1Byb21vQ29kZShjb2RlKVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbiBzdWNjZXNzKGlzVmFsaWQpIHtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCd0aGlzIGNvZGUgaXMgZ29vZD8nLCBpc1ZhbGlkLCBzZWxmLnN0YXRlKTtcblxuXHRcdFx0XHRcdGlmKGlzVmFsaWQpIHtcblx0XHRcdFx0XHRcdHNlbGYuc3RhdGUucHJvbW9Db2RlLmlucHV0Wyd3YXMtdmFsaWRhdGVkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRzZWxmLnN0YXRlLnByb21vQ29kZS5pbnB1dFsnbmVlZHMtdmFsaWRhdGlvbiddID0gZmFsc2Vcblx0XHRcdFx0XHRcdHNlbGYuc3RhdGUucHJvbW9Db2RlLmlucHV0Wydpcy12YWxpZCddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHNlbGYuc3RhdGUucHJvbW9Db2RlLmlucHV0Wydpcy1pbnZhbGlkJ10gPSBmYWxzZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5zdGF0ZS5wcm9tb0NvZGUuaW5wdXRbJ3dhcy12YWxpZGF0ZWQnXSA9IHRydWVcblx0XHRcdFx0XHRcdHNlbGYuc3RhdGUucHJvbW9Db2RlLmlucHV0WyduZWVkcy12YWxpZGF0aW9uJ10gPSBmYWxzZVxuXHRcdFx0XHRcdFx0c2VsZi5zdGF0ZS5wcm9tb0NvZGUuaW5wdXRbJ2lzLXZhbGlkJ10gPSBmYWxzZTtcblx0XHRcdFx0XHRcdHNlbGYuc3RhdGUucHJvbW9Db2RlLmlucHV0Wydpcy1pbnZhbGlkJ10gPSB0cnVlO1xuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKHNlbGYuc3RhdGUpO1xuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHkoKTtcblxuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ0Vycm9yJywgZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly9zdGFydCB0aGlzIGJ5IGFkZGluZyBhIHByb2R1Y3QgdG8gdGhlIG9yZGVyIGxpc3Rcblx0XHRcdHNlbGYub3JkZXJMaXN0LnB1c2goT2JqZWN0LmNyZWF0ZShwcm9kdWN0T2JqZWN0KSk7XG5cblx0XHRcdHN1bU9yZGVyKCk7XG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHRcdFxuXHR9OyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmRpcmVjdGl2ZSgnc2hpcERlc3QnLCBzaGlwRGVzdCk7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIHNoaXBEZXN0KCkge1xuXHRcdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdFx0dGVtcGxhdGU6ICc8ZGl2PnRlc3Rpbmc8L2Rpdj4nLFxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRcdHNjb3BlOiB7fSxcblx0XHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdFx0Y29udHJvbGxlcjogc2hpcERlc3RDb250cm9sbGVyLFxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHRcdH07XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHt9XG5cdFx0XG5cdFx0c2hpcERlc3RDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3ppcGNvbXBsZXRlJ107XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBzaGlwRGVzdENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCB6aXBjb21wbGV0ZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHNlbGYuemlwQ2hlY2sgPSB6aXBjb21wbGV0ZTtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gc2hpcERlc3RDb250cm9sbGVyJyk7XG5cblxuXHRcdH1cblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XG5cdH0iLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ3NpbmdsZUFkZHJlc3NJbnB1dCcsIHNpbmdsZUFkZHJlc3NJbnB1dCk7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIHNpbmdsZUFkZHJlc3NJbnB1dCgpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3Mvc2luZ2xlQWRkcmVzc0lucHV0Lmh0bScsXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdFx0c2NvcGU6IHtcblx0XHRcdFx0YWRkcmVzczogXCI9XCJcblx0XHRcdH0sXG5cdFx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRcdGNvbnRyb2xsZXI6IHNpbmdsZUFkZHJlc3NJbnB1dENvbnRyb2xsZXIsXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdFx0fTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge31cblx0XHRcblx0XHRzaW5nbGVBZGRyZXNzSW5wdXRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3VzZXJEYXRhU2VydmljZScsICdzdGF0ZVNlcnZpY2UnLCAndmFsaWRhdGlvblNlcnZpY2UnXTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIHNpbmdsZUFkZHJlc3NJbnB1dENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCB1c2VyRGF0YVNlcnZpY2UsIHN0YXRlU2VydmljZSwgdmFsaWRhdGlvblNlcnZpY2UpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQvL2RlZmluZSB2aWV3bW9kZWwgdmFsdWVzXG5cdFx0XHRzZWxmLnVzZXJEYXRhID0gdXNlckRhdGFTZXJ2aWNlO1xuXHRcdFx0c2VsZi5zdGF0ZSA9IHN0YXRlU2VydmljZVxuXHRcdFx0Y29uc29sZS5sb2coJ2luIHNpbmdsZUFkZHJlc3NJbnB1dENvbnRyb2xsZXInLCB2YWxpZGF0aW9uU2VydmljZSk7XG5cblx0XHRcdHNlbGYudmFsaWRhdGUgPSBmdW5jdGlvbihmaWVsZCwgdmFsdWUpIHtcblx0XHRcdFx0dmFyIGlzVmFsaWQgPSB2YWxpZGF0aW9uU2VydmljZS5waHlzaWNhbEFkZHJlc3Nlc1tmaWVsZF0odmFsdWUpO1xuXG5cdFx0XHRcdC8vc2V0IGlucHV0IHZhbHVlXG5cdFx0XHRcdGlmKGlzVmFsaWQpIHtcblx0XHRcdFx0XHRzZWxmLnN0YXRlLnNpbmdsZUFkZHJlc3NJbnB1dFtmaWVsZF0uaW5wdXRbJ2lzLXZhbGlkJ10gPSB0cnVlO1xuXHRcdFx0XHRcdHNlbGYuc3RhdGUuc2luZ2xlQWRkcmVzc0lucHV0W2ZpZWxkXS5pbnB1dFtcImlzLWludmFsaWRcIl0gPSBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWxmLnN0YXRlLnNpbmdsZUFkZHJlc3NJbnB1dFtmaWVsZF0uaW5wdXRbJ2lzLXZhbGlkJ10gPSBmYWxzZTtcblx0XHRcdFx0XHRzZWxmLnN0YXRlLnNpbmdsZUFkZHJlc3NJbnB1dFtmaWVsZF0uaW5wdXRbXCJpcy1pbnZhbGlkXCJdID0gdHJ1ZTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvL21hcmsgYXMgdmFsaWRhdGVkIC8vIG9ubHkgYXBwbGllcyBpZiB3ZSdyZSBub3QgZG9pbmcgZnVydGhlciB2YWxpZGF0aW9uXG5cdFx0XHRcdC8vc2VsZi5zdGF0ZS5zaW5nbGVBZGRyZXNzSW5wdXRbZmllbGRdLmZpZWxkWyd3YXMtdmFsaWRhdGVkJ10gPSB0cnVlO1xuXHRcdFx0XHQvL3NlbGYuc3RhdGUuc2luZ2xlQWRkcmVzc0lucHV0W2ZpZWxkXS5maWVsZFtcIm5lZWRzLXZhbGlkYXRpb25cIl0gPSBmYWxzZTtcblxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKGZpZWxkLCBcImlzIHZhbGlkPzpcIiwgaXNWYWxpZCk7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coc2VsZi5zdGF0ZS5zaW5nbGVBZGRyZXNzSW5wdXRbZmllbGRdKTtcblx0XHRcdH07XG5cdFx0XHRcblx0XHRcdHNlbGYudXBkYXRlQmlsbGluZ0FkZHJlc3MgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYoc2VsZi5zdGF0ZS5zaGlwaW5nU2FtZUFzQmlsbGluZykge1xuXHRcdFx0XHRcdHNlbGYudXNlckRhdGEuYmlsbGluZ0FkZHJlc3Muc3RyZWV0ID0gc2VsZi51c2VyRGF0YS5zaGlwcGluZ0Rlc3RpbmF0aW9uLnN0cmVldFxuXHRcdFx0XHRcdHNlbGYudXNlckRhdGEuYmlsbGluZ0FkZHJlc3MuemlwID0gc2VsZi51c2VyRGF0YS5zaGlwcGluZ0Rlc3RpbmF0aW9uLnppcFxuXHRcdFx0XHRcdHNlbGYudXNlckRhdGEuYmlsbGluZ0FkZHJlc3MuY2l0eSA9IHNlbGYudXNlckRhdGEuc2hpcHBpbmdEZXN0aW5hdGlvbi5jaXR5XG5cdFx0XHRcdFx0c2VsZi51c2VyRGF0YS5iaWxsaW5nQWRkcmVzcy5zdGF0ZSA9IHNlbGYudXNlckRhdGEuc2hpcHBpbmdEZXN0aW5hdGlvbi5zdGF0ZVxuXHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHR9O1xuXG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHRcdFxuXHR9OyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmRpcmVjdGl2ZSgnc3ViVGVybXNDb25kJywgc3ViVGVybXNDb25kKTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gc3ViVGVybXNDb25kKCkge1xuXHRcdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9zdWJUZXJtc0NvbmQuaHRtJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge1xuXHRcdFx0fSxcblx0XHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdFx0Y29udHJvbGxlcjogc3ViVGVybXNDb25kQ29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cdFx0fVxuXHRcdFxuXHRcdHN1YlRlcm1zQ29uZENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJGxvY2F0aW9uJywgJ3N0YXRlU2VydmljZScsICd1c2VyRGF0YVNlcnZpY2UnLCAndmFsaWRhdGlvblNlcnZpY2UnLCAnc3VibWlzc2lvblNlcnZpY2UnLCAnc3F1YXJlU2VydmljZSddO1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gc3ViVGVybXNDb25kQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgc3RhdGVTZXJ2aWNlLCB1c2VyRGF0YVNlcnZpY2UsIHZhbGlkYXRpb25TZXJ2aWNlLCBzdWJtaXNzaW9uU2VydmljZSwgc3F1YXJlU2VydmljZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdFx0XHRzZWxmLnN0YXRlID0gc3RhdGVTZXJ2aWNlO1xuXHRcdFx0c2VsZi51c2VyRGF0YSA9IHVzZXJEYXRhU2VydmljZTtcblx0XHRcdHNlbGYudmFsaWRhdGUgPSB2YWxpZGF0aW9uU2VydmljZTtcblx0XHRcdHNlbGYuc3F1YXJlID0gc3F1YXJlU2VydmljZTtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gc3ViVGVybXNDb25kQ29udHJvbGxlcicpO1xuXHRcdFx0LypzZWxmLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnc3VibWl0dGlnIHRoZSBmb3JtJyk7XG5cblx0XHRcdFx0Ly9zdWJtaXQgdGhlIGZvcm1cblx0XHRcdFx0c3VibWlzc2lvblNlcnZpY2Uuc3VibWl0KHNlbGYudXNlckRhdGEpXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0XHRcdHZhciBuZXdQYXRoID0gJy9zdWNjZXNzLycgKyBzLmRhdGE7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIHBhdGggYmFjaycsIG5ld1BhdGgpXG5cdFx0XHRcdFx0JGxvY2F0aW9uLnBhdGgobmV3UGF0aCk7XG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseSgpO1xuXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCd0aGVyZSB3YXMgYW4gZXJyb3InLCBlKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9Ki9cblxuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCIvKlxuKlx0Uk9VVEVTLUNPTkZJR1xuKlxuKlx0VGhpcyBtb2R1bGUgc2V0cyB1cCBhbGwgdGhlIHJlcXVpcmVkIGFuZ3VsYXIgcm91dGVzIGZvciB0aGlzIHdlYiBhcHAuXG4qL1xuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2Fuc3ViJylcbiAgICAuY29uZmlnKGNvbmZpZyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXHQkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTtcbiAgICAkcm91dGVQcm92aWRlclxuXHQvL1BVQkxJQyBST1VURVNcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9tb250aGx5U3ViLmh0bScsICAgICAgLy8ndmlld3MvbW9udGhseVN1Yi5odG0nXG4gICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcicsICAgICAgICAgICAvLydtYWluQ29udHJvbGxlcidcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL3N1Y2Nlc3MvOmNvbmZpcm1hdGlvbkNvZGUnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvc3VjY2Vzcy5odG0nLCAgICAgIC8vJ3ZpZXdzL3N1Y2Nlc3MuaHRtbCdcbiAgICAgICAgY29udHJvbGxlcjogJ3N1Y2Nlc3NDb250cm9sbGVyJywgICAgICAgICAgIC8vJ3N1Y2Nlc3MnXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG5cdC5vdGhlcndpc2Uoe1xuICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICB9KTtcbn1cblxuLypcbiogICBSRVFVSVJFRCBGVU5DVElPTlNcbipcbiovXG5cblxuIiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnZXJyb3JIYW5kbGluZ1NlcnZpY2UnLCBlcnJvckhhbmRsaW5nU2VydmljZSk7XG5cdFx0XG4vKiBAbmdJbmplY3QgKi9cbmVycm9ySGFuZGxpbmdTZXJ2aWNlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnc3RhdGVTZXJ2aWNlJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZXJyb3JIYW5kbGluZ1NlcnZpY2UoJHJvb3RTY29wZSwgc3RhdGVTZXJ2aWNlKSB7XG5cdC8vZGVmaW5lIGxvY2FsIHZhcmFpYmxlc1xuXHR2YXIgZXJyb3JIYW5kbGluZyA9IHtcblx0XHRjYXJkOiB7XG5cdFx0XHRwcm9jZXNzaW5nRXJyb3JzOiBjYXJkUHJvY2Vzc2luZ0Vycm9yc1xuXHRcdH0sXG5cdFx0Y2xlYXJFcnJvcnM6IGNsZWFyRXJyb3JzXG5cdH07XG5cblx0ZnVuY3Rpb24gY2xlYXJFcnJvcnMoKSB7XG5cdFx0c3RhdGVTZXJ2aWNlLmNjUHJvY2Vzc2luZyA9IHtcblx0XHRcdGVycm9yczoge1xuXHRcdFx0XHR0aGVyZVdlcmVFcnJvcnM6IGZhbHNlLFxuXHRcdFx0XHRjYXJkTm9Ob3RWYWxpZDogZmFsc2UsXG5cdFx0XHRcdGNhcmRDVlZOb3RWYWxpZDogZmFsc2UsXG5cdFx0XHRcdGNhcmREYXRlTm90VmFsaWQ6IGZhbHNlLFxuXHRcdFx0XHRjYXJkWmlwTm90VmFsaWQ6IGZhbHNlLFxuXHRcdFx0XHRsaXN0OiBbXVxuXHRcdFx0fSxcblx0XHRcdHN1Y2Nlc3M6IHtcblx0XHRcdFx0Y2FyZERhdGFHb29kOiBmYWxzZVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvL1xuXHRmdW5jdGlvbiBjYXJkUHJvY2Vzc2luZ0Vycm9ycyhlcnJvcnMpIHtcblx0XHQvL2hhbmRkbGVzIGFyZSB0aGUgZXJyb3JzIHdpdGggdGhlIGNhcmRcblx0XHRjb25zb2xlLmxvZyhcIkVuY291bnRlcmVkIGVycm9yczpcIiwgZXJyb3JzKTtcblxuXHRcdC8vYWRkIHRoZSBlcnJvcnMgdG8gdGhlIGxpc3Rcblx0XHRzdGF0ZVNlcnZpY2UuY2NQcm9jZXNzaW5nLmVycm9ycy5saXN0ID0gZXJyb3JzO1xuXG5cdFx0c3RhdGVTZXJ2aWNlLmNjUHJvY2Vzc2luZy5lcnJvcnMudGhlcmVXZXJlRXJyb3JzID0gdHJ1ZTtcblx0XHRzdGF0ZVNlcnZpY2UuY2NQcm9jZXNzaW5nLnN1Y2Nlc3MuY2FyZERhdGFHb29kID0gZmFsc2U7XG5cblx0XHRjb25zb2xlLmxvZygnc3RhdGVTZXJ2aWNlLmNjUHJvY2Vzc2luZycsIHN0YXRlU2VydmljZS5jY1Byb2Nlc3NpbmcpO1xuXHRcdCRyb290U2NvcGUuJGFwcGx5KCk7XG5cdH1cblxuXHRyZXR1cm4gZXJyb3JIYW5kbGluZztcbn07XHQiLCJcdGFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLnNlcnZpY2UoJ21vZGFsU2VydmljZScsIG1vZGFsU2VydmljZSk7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdG1vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnXTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciBtb2RhbERlZmF1bHRzID0ge1xuICAgICAgICAgICAgYmFja2Ryb3A6IHRydWUsXG4gICAgICAgICAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICAgICAgICAgIG1vZGFsRmFkZTogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvbW9kYWwuaHRtJ1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBtb2RhbE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjbG9zZUJ1dHRvblRleHQ6ICdDbG9zZScsXG4gICAgICAgICAgICBhY3Rpb25CdXR0b25UZXh0OiAnT0snLFxuICAgICAgICAgICAgaGVhZGVyVGV4dDogJ1Byb2NlZWQ/JyxcbiAgICAgICAgICAgIGJvZHlUZXh0OiAnUGVyZm9ybSB0aGlzIGFjdGlvbj8nXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zaG93TW9kYWwgPSBmdW5jdGlvbiAoY3VzdG9tTW9kYWxEZWZhdWx0cywgY3VzdG9tTW9kYWxPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIWN1c3RvbU1vZGFsRGVmYXVsdHMpIGN1c3RvbU1vZGFsRGVmYXVsdHMgPSB7fTtcbiAgICAgICAgICAgIGN1c3RvbU1vZGFsRGVmYXVsdHMuYmFja2Ryb3AgPSAnc3RhdGljJztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3coY3VzdG9tTW9kYWxEZWZhdWx0cywgY3VzdG9tTW9kYWxPcHRpb25zKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNob3cgPSBmdW5jdGlvbiAoY3VzdG9tTW9kYWxEZWZhdWx0cywgY3VzdG9tTW9kYWxPcHRpb25zKSB7XG4gICAgICAgICAgICAvL0NyZWF0ZSB0ZW1wIG9iamVjdHMgdG8gd29yayB3aXRoIHNpbmNlIHdlJ3JlIGluIGEgc2luZ2xldG9uIHNlcnZpY2VcbiAgICAgICAgICAgIHZhciB0ZW1wTW9kYWxEZWZhdWx0cyA9IHt9O1xuICAgICAgICAgICAgdmFyIHRlbXBNb2RhbE9wdGlvbnMgPSB7fTtcblxuICAgICAgICAgICAgLy9NYXAgYW5ndWxhci11aSBtb2RhbCBjdXN0b20gZGVmYXVsdHMgdG8gbW9kYWwgZGVmYXVsdHMgZGVmaW5lZCBpbiBzZXJ2aWNlXG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0ZW1wTW9kYWxEZWZhdWx0cywgbW9kYWxEZWZhdWx0cywgY3VzdG9tTW9kYWxEZWZhdWx0cyk7XG5cbiAgICAgICAgICAgIC8vTWFwIG1vZGFsLmh0bWwgJHNjb3BlIGN1c3RvbSBwcm9wZXJ0aWVzIHRvIGRlZmF1bHRzIGRlZmluZWQgaW4gc2VydmljZVxuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQodGVtcE1vZGFsT3B0aW9ucywgbW9kYWxPcHRpb25zLCBjdXN0b21Nb2RhbE9wdGlvbnMpO1xuXG4gICAgICAgICAgICBpZiAoIXRlbXBNb2RhbERlZmF1bHRzLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICB0ZW1wTW9kYWxEZWZhdWx0cy5jb250cm9sbGVyID0gZnVuY3Rpb24gKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1vZGFsT3B0aW9ucyA9IHRlbXBNb2RhbE9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RhbE9wdGlvbnMub2sgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5jbG9zZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubW9kYWxPcHRpb25zLmNsb3NlID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gJG1vZGFsLm9wZW4odGVtcE1vZGFsRGVmYXVsdHMpLnJlc3VsdDtcbiAgICAgICAgfTtcblx0XHRcblx0fTtcdCIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLnNlcnZpY2UoJ3NlcnZlclNlcnZpY2UnLCBzZXJ2ZXJTZXJ2aWNlKTtcblx0XHRcbi8qIEBuZ0luamVjdCAqL1xuc2VydmVyU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlcnZlclNlcnZpY2UoJGh0dHApIHtcblx0Ly9kZWZpbmUgbG9jYWwgdmFyYWlibGVzXG5cdHZhciBzZXJ2ZXJTZXJ2aWNlID0ge1xuXHRcdGNoYXJnZUNhcmQ6IGNoYXJnZUNhcmQsXG5cdFx0Z2V0OiB7XG5cdFx0XHRzcXJBcHBJZDogZ2V0U3FyQXBwSWQsXG5cdFx0XHRzcXJQcmRjdExpc3Q6IGdldFNxclByZGN0TGlzdCxcblx0XHRcdGNoZWNrUHJvbW9Db2RlOiBjaGVja1Byb21vQ29kZVxuXHRcdH1cblx0fTtcblxuXHQvL2NoYXJnZSBhIGNyZWRpdCBjYXJkXG5cdGZ1bmN0aW9uIGNoYXJnZUNhcmQodXJsLCBkYXRhKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRcblx0XHRcdCRodHRwKHtcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdHVybDogdXJsLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRhdGE6IGRhdGFcblx0XHRcdH0pLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdnb3QgdGhpcyByZXNwb25zZScsIHJlc3BvbnNlKTtcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XG5cdFx0XHR9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKGVycm9yKSB7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9KTtcblx0XHR9KTtcdFx0XHRcblx0fTtcblxuXHQvL2dldHN0IHRoZSByZXF1aXJlZCBjb2RlXG5cdGZ1bmN0aW9uIGdldFNxckFwcElkKCkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFxuXHRcdC8vbG9nIHByb2dyZXNzXG5cdFx0Ly8kbG9nLmluZm8oJ3NlbmRpbmcgZnJvbSBzcXInKTtcblx0XHRcblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdFxuXHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICcvYXBpL3NxdWFyZUlkJ1xuXHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXHRcdH0pO1x0XG5cdH07XG5cblx0ZnVuY3Rpb24gZ2V0U3FyUHJkY3RMaXN0KCkge1xuXG5cdFx0Ly9yZXR1cm4gYXN5bmMgd29ya1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICcvYXBpL3Byb2R1Y3RMaXN0J1xuXHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGNoZWNrUHJvbW9Db2RlKGNvZGUpIHtcblxuXHRcdC8vcmV0dXJuIGFzeW5jIHdvcmtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCRodHRwKHtcblx0XHRcdFx0bWV0aG9kOiBcIkdFVFwiLFxuXHRcdFx0XHR1cmw6ICcvYXBpL2NoZWNrX3Byb21vQ29kZT9jb2RlPScgKyBjb2RlXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZygnZ290IHRoaXMgcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9O1xuXG5cdHJldHVybiBzZXJ2ZXJTZXJ2aWNlO1xufTtcdCIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLnNlcnZpY2UoJ3NxdWFyZVNlcnZpY2UnLCBzcXVhcmVTZXJ2aWNlKTtcblx0XHRcbi8qIEBuZ0luamVjdCAqL1xuc3F1YXJlU2VydmljZS4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsICdzZXJ2ZXJTZXJ2aWNlJywgJ3VzZXJEYXRhU2VydmljZScsICdlcnJvckhhbmRsaW5nU2VydmljZScsICdzdGF0ZVNlcnZpY2UnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzcXVhcmVTZXJ2aWNlKCRyb290U2NvcGUsICRsb2NhdGlvbiwgc2VydmVyU2VydmljZSwgdXNlckRhdGFTZXJ2aWNlLCBlcnJvckhhbmRsaW5nU2VydmljZSwgc3RhdGVTZXJ2aWNlKSB7XG5cdC8vZGVmaW5lIGxvY2FsIHZhcmFpYmxlc1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0dmFyIHNxdWFyZVNlcnZpY2UgPSB7XG5cdFx0X2NoYXJnZUNhcmRXaXRoTm9uY2U6IF9jaGFyZ2VDYXJkV2l0aE5vbmNlLFxuXHRcdHN1Ym1pdEZvcm06IHN1Ym1pdEZvcm0sXG5cdFx0ZG93bmxvYWQ6IHtcblx0XHRcdHByb2R1Y3RMaXN0OiBkb3dubG9hZFByb2R1Y3RMaXN0XG5cdFx0fSxcblx0XHRpbml0OiBpbml0XG5cdH07XG5cblx0Ly9jaGFyZ2UgY2FyZCB3aXRoIG5vbmNlXG5cdGZ1bmN0aW9uIF9jaGFyZ2VDYXJkV2l0aE5vbmNlKG5vbmNlKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIHVybCA9ICcvYXBpL2NoYXJnZV9jYXJkJztcblx0XHR1c2VyRGF0YVNlcnZpY2UuY2FyZC5ub25jZSA9IG5vbmNlO1xuXG5cdFx0Ly9wYXNzIHRoZSBkYXRhIHRvIHRoZSBzZXJ2ZXJcblx0XHRzZXJ2ZXJTZXJ2aWNlLmNoYXJnZUNhcmQodXJsLCB1c2VyRGF0YVNlcnZpY2UpXG5cdFx0LnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhzKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHZhciBuZXdQYXRoID0gJy9zdWNjZXNzLycgKyBzLmRhdGE7XG5cblx0XHRcdC8vbG9nIHByb2dyZXNzXG5cdFx0XHRjb25zb2xlLmxvZygnZ290IHRoaXMgcGF0aCBiYWNrJywgbmV3UGF0aCk7XG5cblx0XHRcdC8vcmUtcm91dGUgdGhlIHBhZ2Vcblx0XHRcdCRsb2NhdGlvbi5wYXRoKG5ld1BhdGgpO1xuXHRcdFx0JHJvb3RTY29wZS4kYXBwbHkoKTtcblxuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdFcnJvcjonLGUpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdC8vc3VibWl0cyB0aGUgZm9ybSBmb3IgdXNcblx0ZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHtcblx0XHQvL25vdGlmeSBwcm9ncmVzc1xuXHRcdGNvbnNvbGUubG9nKCdzdWJtaXR0aW5nIGZvcm0nKTtcblxuXHRcdC8vY2xlYXIgZXJyb3IgaGFuZGxpbmdcblx0XHRlcnJvckhhbmRsaW5nU2VydmljZS5jbGVhckVycm9ycygpO1xuXG5cdFx0Ly9zdWJtaXQgdGhlIGZvcm1cblx0XHRzZWxmLnBheW1lbnRGb3JtLnJlcXVlc3RDYXJkTm9uY2UoKTtcblx0fTtcblxuXHRmdW5jdGlvbiBkb3dubG9hZFByb2R1Y3RMaXN0KCkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdC8vaXQgdGhlIHNlcnZlciBcblx0XHRcdHNlcnZlclNlcnZpY2UuZ2V0LnNxclByZGN0TGlzdCgpXG5cdFx0XHQudGhlbihmdW5jdGlvbiBzdWNjZXNzKHMpIHtcblx0XHRcdFx0cmVzb2x2ZShzKTtcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblx0XHRcdFx0cmVqZWN0KGUpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9O1xuXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cblx0XHQvL2NvbGxlY3QgdGhlIHNxdWFyZUFwcElkXG5cdFx0c2VydmVyU2VydmljZS5nZXQuc3FyQXBwSWQoKVxuXHRcdC50aGVuKGZ1bmN0aW9uKHNxQXBwKSB7XG5cblx0XHRcdHNlbGYucGF5bWVudEZvcm0gPSBuZXcgU3FQYXltZW50Rm9ybSh7XG5cdFx0ICAgIGFwcGxpY2F0aW9uSWQ6IHNxQXBwLmlkLFxuXHRcdCAgICBpbnB1dENsYXNzOiAnc3EtaW5wdXQnLFxuXHRcdCAgICBpbnB1dFN0eWxlczogW1xuXHRcdCAgICAgIHtcblx0XHQgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICBcdHBhZGRpbmc6ICc3cHggMTJweCcsXG4gICAgICAgICAgICBcdGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiXG5cdFx0ICAgICAgfVxuXHRcdCAgICBdLFxuXHRcdCAgICBjYXJkTnVtYmVyOiB7XG5cdFx0ICAgICAgZWxlbWVudElkOiAnc3EtY2FyZC1udW1iZXInLFxuXHRcdCAgICAgIHBsYWNlaG9sZGVyOiAn4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKIg4oCi4oCi4oCi4oCiJ1xuXHRcdCAgICB9LFxuXHRcdCAgICBjdnY6IHtcblx0XHQgICAgICBlbGVtZW50SWQ6ICdzcS1jdnYnLFxuXHRcdCAgICAgIHBsYWNlaG9sZGVyOiAnQ1ZWJ1xuXHRcdCAgICB9LFxuXHRcdCAgICBleHBpcmF0aW9uRGF0ZToge1xuXHRcdCAgICAgIGVsZW1lbnRJZDogJ3NxLWV4cGlyYXRpb24tZGF0ZScsXG5cdFx0ICAgICAgcGxhY2Vob2xkZXI6ICdNTS9ZWSdcblx0XHQgICAgfSxcblx0XHQgICAgcG9zdGFsQ29kZToge1xuXHRcdCAgICAgIGVsZW1lbnRJZDogJ3NxLXBvc3RhbC1jb2RlJ1xuXHRcdCAgICB9LFxuXHRcdCAgICBjYWxsYmFja3M6IHtcblxuXHRcdFx0ICAgICAgLy8gQ2FsbGVkIHdoZW4gdGhlIFNxUGF5bWVudEZvcm0gY29tcGxldGVzIGEgcmVxdWVzdCB0byBnZW5lcmF0ZSBhIGNhcmRcblx0XHRcdCAgICAgIC8vIG5vbmNlLCBldmVuIGlmIHRoZSByZXF1ZXN0IGZhaWxlZCBiZWNhdXNlIG9mIGFuIGVycm9yLlxuXHRcdFx0ICAgICAgY2FyZE5vbmNlUmVzcG9uc2VSZWNlaXZlZDogZnVuY3Rpb24oZXJyb3JzLCBub25jZSwgY2FyZERhdGEpIHtcblx0XHRcdCAgICAgICAgaWYgKGVycm9ycykge1xuXHRcdFx0ICAgICAgICAgIFxuXHRcdFx0ICAgICAgICAgIGVycm9ySGFuZGxpbmdTZXJ2aWNlLmNhcmQucHJvY2Vzc2luZ0Vycm9ycyhlcnJvcnMpXG5cdFx0XHQgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkVuY291bnRlcmVkIGVycm9yczpcIiwgZXJyb3JzKTtcblx0XHRcdCAgICAgICAgICAvL3VzZXJEYXRhU2VydmljZS5jYXJkLmVycm9ycyA9IGVycm9ycztcblx0ICAgICAgICAgICAgXHQgIC8vc2VsZi5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblx0ICAgICAgICAgICAgXHQgIC8vJHNjb3BlLiRhcHBseSgpOyAvLyByZXF1aXJlZCBzaW5jZSB0aGlzIGlzIG5vdCBhbiBhbmd1bGFyIGZ1bmN0aW9uXG5cblx0XHRcdCAgICAgICAgLy8gTm8gZXJyb3JzIG9jY3VycmVkLiBFeHRyYWN0IHRoZSBjYXJkIG5vbmNlLlxuXHRcdFx0ICAgICAgICB9IGVsc2Uge1xuXHRcdFx0ICAgICAgICAgIHNlbGYuY2FyZF9lcnJvcnMgPSBbXTtcblx0XHRcdCAgICAgICAgICAvLyBEZWxldGUgdGhpcyBsaW5lIGFuZCB1bmNvbW1lbnQgdGhlIGxpbmVzIGJlbG93IHdoZW4geW91J3JlIHJlYWR5XG5cdFx0XHQgICAgICAgICAgLy8gdG8gc3RhcnQgc3VibWl0dGluZyBub25jZXMgdG8geW91ciBzZXJ2ZXIuXG5cdFx0XHQgICAgICAgICAgLy9hbGVydCgnTm9uY2UgcmVjZWl2ZWQ6ICcgKyBub25jZSk7XG5cblx0XHRcdCAgICAgICAgICAvL25vdGlmeSBDQyBTdWNjZXNzLCBhbmQgd2FpdGluZyB0aW1lXG5cdFx0XHQgICAgICAgICAgc3RhdGVTZXJ2aWNlLmNjUHJvY2Vzc2luZy5zdWNjZXNzLmNhcmREYXRhR29vZCA9IHRydWU7XG5cdFx0XHQgICAgICAgICAgc3RhdGVTZXJ2aWNlLmNjUHJvY2Vzc2luZy5lcnJvcnMudGhlcmVXZXJlRXJyb3JzID0gZmFsc2U7XG5cblx0XHRcdCAgICAgICAgICBfY2hhcmdlQ2FyZFdpdGhOb25jZShub25jZSk7XG5cblx0XHRcdCAgICAgICAgICAvKlxuXHRcdFx0ICAgICAgICAgICAgVGhlc2UgbGluZXMgYXNzaWduIHRoZSBnZW5lcmF0ZWQgY2FyZCBub25jZSB0byBhIGhpZGRlbiBpbnB1dFxuXHRcdFx0ICAgICAgICAgICAgZmllbGQsIHRoZW4gc3VibWl0IHRoYXQgZmllbGQgdG8geW91ciBzZXJ2ZXIuXG5cdFx0XHQgICAgICAgICAgICBVbmNvbW1lbnQgdGhlbSB3aGVuIHlvdSdyZSByZWFkeSB0byB0ZXN0IG91dCBzdWJtaXR0aW5nIG5vbmNlcy5cblxuXHRcdFx0ICAgICAgICAgICAgWW91J2xsIGFsc28gbmVlZCB0byBzZXQgdGhlIGFjdGlvbiBhdHRyaWJ1dGUgb2YgdGhlIGZvcm0gZWxlbWVudFxuXHRcdFx0ICAgICAgICAgICAgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHNhbXBsZSwgdG8gY29ycmVzcG9uZCB0byB0aGUgVVJMIHlvdSB3YW50IHRvXG5cdFx0XHQgICAgICAgICAgICBzdWJtaXQgdGhlIG5vbmNlIHRvLlxuXHRcdFx0ICAgICAgICAgICovXG5cdFx0XHQgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQtbm9uY2UnKS52YWx1ZSA9IG5vbmNlO1xuXHRcdFx0ICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub25jZS1mb3JtJykuc3VibWl0KCk7XG5cblx0XHRcdCAgICAgICAgfVxuXHRcdFx0ICAgICAgfSxcblxuXHRcdFx0ICAgICAgdW5zdXBwb3J0ZWRCcm93c2VyRGV0ZWN0ZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgICAgICAvLyBGaWxsIGluIHRoaXMgY2FsbGJhY2sgdG8gYWxlcnQgYnV5ZXJzIHdoZW4gdGhlaXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLlxuXHRcdFx0ICAgICAgfSxcblxuXHRcdFx0ICAgICAgLy8gRmlsbCBpbiB0aGVzZSBjYXNlcyB0byByZXNwb25kIHRvIHZhcmlvdXMgZXZlbnRzIHRoYXQgY2FuIG9jY3VyIHdoaWxlIGFcblx0XHRcdCAgICAgIC8vIGJ1eWVyIGlzIHVzaW5nIHRoZSBwYXltZW50IGZvcm0uXG5cdFx0XHQgICAgICBpbnB1dEV2ZW50UmVjZWl2ZWQ6IGZ1bmN0aW9uKGlucHV0RXZlbnQpIHtcblx0XHRcdCAgICAgICAgc3dpdGNoIChpbnB1dEV2ZW50LmV2ZW50VHlwZSkge1xuXHRcdFx0ICAgICAgICAgIGNhc2UgJ2ZvY3VzQ2xhc3NBZGRlZCc6XG5cdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0ICAgICAgICAgICAgYnJlYWs7XG5cdFx0XHQgICAgICAgICAgY2FzZSAnZm9jdXNDbGFzc1JlbW92ZWQnOlxuXHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0ICAgICAgICAgIGNhc2UgJ2Vycm9yQ2xhc3NBZGRlZCc6XG5cdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0ICAgICAgICAgICAgYnJlYWs7XG5cdFx0XHQgICAgICAgICAgY2FzZSAnZXJyb3JDbGFzc1JlbW92ZWQnOlxuXHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0ICAgICAgICAgIGNhc2UgJ2NhcmRCcmFuZENoYW5nZWQnOlxuXHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0ICAgICAgICAgIGNhc2UgJ3Bvc3RhbENvZGVDaGFuZ2VkJzpcblx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdCAgICAgICAgfVxuXHRcdFx0ICAgICAgfSxcblxuXHRcdFx0ICAgICAgcGF5bWVudEZvcm1Mb2FkZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgICAgICAvLyBGaWxsIGluIHRoaXMgY2FsbGJhY2sgdG8gcGVyZm9ybSBhY3Rpb25zIGFmdGVyIHRoZSBwYXltZW50IGZvcm0gaXNcblx0XHRcdCAgICAgICAgLy8gZG9uZSBsb2FkaW5nIChzdWNoIGFzIHNldHRpbmcgdGhlIHBvc3RhbCBjb2RlIGZpZWxkIHByb2dyYW1tYXRpY2FsbHkpLlxuXHRcdFx0ICAgICAgICAvLyBwYXltZW50Rm9ybS5zZXRQb3N0YWxDb2RlKHNlbGYudXNlckRhdGEuYmlsbGluZ0FkZHJlc3MuemlwKTtcblxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH1cblx0XHRcdH0pO1xuXHQgICAgXHRzZWxmLnBheW1lbnRGb3JtLmJ1aWxkKCk7XG4gICAgXHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgIFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgXHR9KTtcblxuXHR9XG5cblx0cmV0dXJuIHNxdWFyZVNlcnZpY2U7XG59O1x0IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnc3RhdGVTZXJ2aWNlJywgc3RhdGVTZXJ2aWNlKTtcblx0XHRcbi8qIEBuZ0luamVjdCAqL1xuc3RhdGVTZXJ2aWNlLiRpbmplY3QgPSBbJ3VzZXJEYXRhU2VydmljZSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlU2VydmljZSh1c2VyRGF0YVNlcnZpY2UpIHtcblx0Ly9kZWZpbmUgbG9jYWwgdmFyYWlibGVzXG5cdHZhciBzdGF0ZSA9IHtcblx0XHRzaGlwaW5nU2FtZUFzQmlsbGluZzogdHJ1ZSxcblx0XHRwcm9kdWN0U2VsZWN0aW9uOiB7XG5cdFx0XHRhZGRBUHJvZHVjdEJ0bjoge1xuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0J2J0bic6IHRydWUsXG5cdFx0XHRcdFx0J2J0bi1zdWNjZXNzJzogdHJ1ZSxcblx0XHRcdFx0XHQnYnRuLXdhcm5pbmcnOiBmYWxzZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR2aXNpYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0cmVtb3ZlTGFzdFByb2R1Y3RCdG46IHtcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdCdidG4nOiB0cnVlLFxuXHRcdFx0XHRcdCdidG4tc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0XHRcdCdidG4td2FybmluZyc6IGZhbHNlLFxuXHRcdFx0XHRcdCdidG4tZGFuZ2VyJzogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdGhlYWRlclN0eWxlOiB7XG5cdFx0XHRcdGNvbG9yOiBcInJnYig1MSw1MSw1MSlcIlxuXHRcdFx0fSxcblx0XHRcdHByb21vQ29kZToge1xuXHRcdFx0XHRmaWVsZDoge1xuXHRcdFx0XHRcdFwid2FzLXZhbGlkYXRlZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcIm5lZWRzLXZhbGlkYXRpb25cIjogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRcdFwiaXMtdmFsaWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJpcy1pbnZhbGlkXCI6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdGNvbnRhY3RJbmZvOiB7XG5cdFx0XHRmaXJzdG5hbWU6IHtcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFwiZm9ybS1jb250cm9sXCI6IHRydWUsXG5cdFx0XHRcdFx0XCJpcy12YWxpZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcImlzLWludmFsaWRcIjogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0YWRkcmVzc2VkOiBmYWxzZSxcblx0XHRcdFx0aXNWYWxpZDogZmFsc2UsXG5cdFx0XHRcdGlzSW52YWxpZDogZmFsc2Vcblx0XHRcdH1cblx0XHR9LFxuXHRcdGluZm9Cb3hlczoge1xuXHRcdFx0Zmxhdm9yRGVmczogZmFsc2UsXG5cdFx0XHR0ZXJtc0NvbmRzOiBmYWxzZVxuXHRcdH0sXG5cdFx0c2VjdGlvbnNBZGRyZXNzZWQ6IHtcblx0XHRcdHByb2R1Y3RTZWxlY3Rpb246IGZhbHNlLFxuXHRcdFx0c2luZ2xlU2hpcHBpbmdBZGRyZXNzOiBmYWxzZSxcblx0XHRcdGNvbnRhY3RJbmZvOiBmYWxzZSxcblx0XHRcdHRlcm1zQ29uZHM6IGZhbHNlXG5cdFx0fSxcblx0XHRzZWN0aW9uc0NvbXBsZXRlZDoge1xuXHRcdFx0cHJvZHVjdFNlbGVjdGlvbjogdHJ1ZSxcblx0XHRcdHNpbmdsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcblx0XHRcdGNvbnRhY3RJbmZvOiB0cnVlLFxuXHRcdFx0dGVybXNDb25kczogZmFsc2Vcblx0XHR9LFxuXHRcdHNlY3Rpb25IZWFkZXJzOiB7XG5cdFx0XHRwcm9kdWN0U2VsZWN0aW9uOiB7XG5cdFx0XHRcdHNob3dFcnJvcjogZmFsc2UsXG5cdFx0XHRcdHNob3dDb21wbGV0ZWQ6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0c2luZ2xlU2hpcHBpbmdBZGRyZXNzOiB7XG5cdFx0XHRcdHNob3dFcnJvcjogZmFsc2UsXG5cdFx0XHRcdHNob3dDb21wbGV0ZWQ6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0Y29udGFjdEluZm86IHtcblx0XHRcdFx0c2hvd0Vycm9yOiBmYWxzZSxcblx0XHRcdFx0c2hvd0NvbXBsZXRlZDogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR0ZXJtc0NvbmRzOiB7XG5cdFx0XHRcdHNob3dFcnJvcjogZmFsc2UsXG5cdFx0XHRcdHNob3dDb21wbGV0ZWQ6IGZhbHNlXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRjaGVja0NvbXBsZXRuZXNzOiBjaGVja0NvbXBsZXRuZXNzLFxuXHRcdHJlYWR5Rm9yU3VibWlzc2lvbjogZmFsc2UsXG5cdFx0c3VibWlzc2lvbkJ0bjoge1xuXHRcdFx0XCJidG5cIjogdHJ1ZSxcblx0XHRcdFwiYnRuLWJsb2NrXCI6IHRydWUsXG5cdFx0XHRcImJ0bi1zdWNjZXNzXCI6IGZhbHNlLFxuXHRcdFx0XCJidG4tc2Vjb25kYXJ5XCI6IHRydWVcblx0XHR9LFxuXHRcdGNvbnRhY3RJbnB1dDoge1xuXHRcdFx0Zmlyc3Q6IHtcblx0XHRcdFx0ZmllbGQ6IHtcblx0XHRcdFx0XHRcIndhcy12YWxpZGF0ZWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJuZWVkcy12YWxpZGF0aW9uXCI6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0aW5wdXQ6IHtcblx0XHRcdFx0XHRcImlzLXZhbGlkXCI6IGZhbHNlLFxuXHRcdFx0XHRcdFwiaXMtaW52YWxpZFwiOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bGFzdDoge1xuXHRcdFx0XHRmaWVsZDoge1xuXHRcdFx0XHRcdFwid2FzLXZhbGlkYXRlZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcIm5lZWRzLXZhbGlkYXRpb25cIjogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRcdFwiaXMtdmFsaWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJpcy1pbnZhbGlkXCI6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRwaG9uZToge1xuXHRcdFx0XHRmaWVsZDoge1xuXHRcdFx0XHRcdFwid2FzLXZhbGlkYXRlZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcIm5lZWRzLXZhbGlkYXRpb25cIjogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRcdFwiaXMtdmFsaWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJpcy1pbnZhbGlkXCI6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRlbWFpbDoge1xuXHRcdFx0XHRmaWVsZDoge1xuXHRcdFx0XHRcdFwid2FzLXZhbGlkYXRlZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcIm5lZWRzLXZhbGlkYXRpb25cIjogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRcdFwiaXMtdmFsaWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJpcy1pbnZhbGlkXCI6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0fSxcblx0XHRzaW5nbGVBZGRyZXNzSW5wdXQ6IHtcblx0XHRcdHN0cmVldDoge1xuXHRcdFx0XHRmaWVsZDoge1xuXHRcdFx0XHRcdFwid2FzLXZhbGlkYXRlZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcIm5lZWRzLXZhbGlkYXRpb25cIjogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRcdFwiaXMtdmFsaWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJpcy1pbnZhbGlkXCI6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR6aXA6IHtcblx0XHRcdFx0ZmllbGQ6IHtcblx0XHRcdFx0XHRcIndhcy12YWxpZGF0ZWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJuZWVkcy12YWxpZGF0aW9uXCI6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0aW5wdXQ6IHtcblx0XHRcdFx0XHRcImlzLXZhbGlkXCI6IGZhbHNlLFxuXHRcdFx0XHRcdFwiaXMtaW52YWxpZFwiOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Y2l0eToge1xuXHRcdFx0XHRmaWVsZDoge1xuXHRcdFx0XHRcdFwid2FzLXZhbGlkYXRlZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcIm5lZWRzLXZhbGlkYXRpb25cIjogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRcdFwiaXMtdmFsaWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJpcy1pbnZhbGlkXCI6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRzdGF0ZToge1xuXHRcdFx0XHRmaWVsZDoge1xuXHRcdFx0XHRcdFwid2FzLXZhbGlkYXRlZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcIm5lZWRzLXZhbGlkYXRpb25cIjogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRcdFwiaXMtdmFsaWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJpcy1pbnZhbGlkXCI6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdGNjUHJvY2Vzc2luZzoge1xuXHRcdFx0ZXJyb3JzOiB7XG5cdFx0XHRcdHRoZXJlV2VyZUVycm9yczogZmFsc2UsXG5cdFx0XHRcdGNhcmROb05vdFZhbGlkOiBmYWxzZSxcblx0XHRcdFx0Y2FyZENWVk5vdFZhbGlkOiBmYWxzZSxcblx0XHRcdFx0Y2FyZERhdGVOb3RWYWxpZDogZmFsc2UsXG5cdFx0XHRcdGNhcmRaaXBOb3RWYWxpZDogZmFsc2UsXG5cdFx0XHRcdGxpc3Q6IFtdXG5cdFx0XHR9LFxuXHRcdFx0c3VjY2Vzczoge1xuXHRcdFx0XHRjYXJkRGF0YUdvb2Q6IGZhbHNlXG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdGZ1bmN0aW9uIHRlcm1zQ29uZHNBcmVHb29kKCkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFxuXG5cdFx0cmV0dXJuIHVzZXJEYXRhU2VydmljZS5hZ3JlZWRUb1Rlcm1zO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hlY2tDb21wbGV0bmVzcygpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0dmFyIG5vRmxhZ3MgPSB0cnVlO1xuXG5cdFx0Ly9pdGVyYXRlIHRocm91Z2ggcmVxdWlybm1lbnRzXG5cdFx0T2JqZWN0LmtleXMoc2VsZi5zZWN0aW9uc0NvbXBsZXRlZCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdGlmKHNlbGYuc2VjdGlvbnNDb21wbGV0ZWRba2V5XSA9PSBmYWxzZSkgbm9GbGFncyA9IGZhbHNlO1xuXHRcdH0pO1xuXG5cdFx0aWYobm9GbGFncykge1xuXHRcdFx0cmVhZHlGb3JTdWJtaXNzaW9uID0gdHJ1ZTtcblx0XHRcdHNlbGYuc3VibWlzc2lvbkJ0bltcImJ0bi1zdWNjZXNzXCJdID0gdHJ1ZTtcblx0XHRcdHNlbGYuc3VibWlzc2lvbkJ0bltcImJ0bi1zZWNvbmRhcnlcIl0gPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVhZHlGb3JTdWJtaXNzaW9uID0gZmFsc2U7XG5cdFx0XHRzZWxmLnN1Ym1pc3Npb25CdG5bXCJidG4tc3VjY2Vzc1wiXSA9IGZhbHNlO1xuXHRcdFx0c2VsZi5zdWJtaXNzaW9uQnRuW1wiYnRuLXNlY29uZGFyeVwiXSA9IHRydWU7XG5cdFx0fTtcblx0fVx0XG5cblx0cmV0dXJuIHN0YXRlO1xufTtcdCIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLnNlcnZpY2UoJ3N1Ym1pc3Npb25TZXJ2aWNlJywgc3VibWlzc2lvblNlcnZpY2UpO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRzdWJtaXNzaW9uU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBzdWJtaXNzaW9uU2VydmljZSgkaHR0cCkge1xuXHRcdC8vY29uc29sZS5sb2coJ3RoaXMgaXMgdGhlIHN1Ym1pc3Npb24gc2VydmljZScpO1xuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdHNlbGYuc3VibWl0ID0gZnVuY3Rpb24odXNlckRhdGEpIHtcblx0XHRcdC8vY29uc29sZS5sb2coJ3N1Ym1pdHRpbmcnLCB1c2VyRGF0YSk7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRcdC8vdHJ5IFBPU1Rcblx0XHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHRcdHVybDogJy9zdWJzY3JpcHRpb24tYXBwbGljYXRpb24tc3VibWlzc2lvbicsXG5cdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZGF0YTogdXNlckRhdGFcblx0XHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdnb3QgdGhpcyByZXNwb25zZScsIHJlc3BvbnNlKTtcblx0XHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikge1xuXHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHR9O1xuXG5cdH07IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgndXNlckRhdGFTZXJ2aWNlJywgdXNlckRhdGFTZXJ2aWNlKTtcblx0XHRcbi8qIEBuZ0luamVjdCAqL1xudXNlckRhdGFTZXJ2aWNlLiRpbmplY3QgPSBbXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB1c2VyRGF0YVNlcnZpY2UoKSB7XG5cdC8vZGVmaW5lIGxvY2FsIHZhcmFpYmxlc1xuXHR2YXIgdXNlckRhdGEgPSB7XG5cdFx0bmFtZToge1xuXHRcdFx0Zmlyc3Q6IFwiXCIsXG5cdFx0XHRsYXN0OiBcIlwiXG5cdFx0fSxcblx0XHRjb250YWN0OiB7XG5cdFx0XHRlbWFpbDogXCJcIixcblx0XHRcdHBob25lOiBcIlwiXG5cdFx0fSxcblx0XHRzaGlwcGluZ0Rlc3RpbmF0aW9uOiB7XG5cdFx0XHRzdHJlZXQ6IFwiXCIsXG5cdFx0XHRjaXR5OiBcIlwiLFxuXHRcdFx0c3RhdGU6IFwiXCIsXG5cdFx0XHR6aXA6IFwiXCJcblx0XHR9LFxuXHRcdGJpbGxpbmdBZGRyZXNzOiB7XG5cdFx0XHRzdHJlZXQ6IFwiXCIsXG5cdFx0XHRjaXR5OiBcIlwiLFxuXHRcdFx0c3RhdGU6IFwiXCIsXG5cdFx0XHR6aXA6IFwiXCJcblx0XHR9LFxuXHRcdGNhcmQ6IHtcblx0XHRcdC8vY2FyZF9udW1iZXI6IFwiXCIsXG5cdFx0XHQvL2N2djogXCJcIixcblx0XHRcdC8vZXhwaXJhdGlvbl9kYXRlOiBcIlwiLFxuXHRcdFx0Ly9wb3N0YWxfY29kZTogXCJcIixcblx0XHRcdG5vbmNlOiBcIlwiLFxuXHRcdFx0bGFzdDQ6IFwiXCIsXG5cdFx0XHR0eXBlOiBcIlwiLFxuXHRcdFx0ZXJyb3JzOiBbXVxuXHRcdH0sXG5cdFx0cHJvbW9Db2RlOiBcIlwiLFxuXHRcdG9yZGVyTm86IFwiXCIsXG5cdFx0b3JkZXJEYXRlOiBcIlwiLFxuXHRcdG9yZGVyOiBbXSxcblx0XHR0ZW5kZXI6IHtcblx0XHRcdGRpc2NvdW50czogMCxcblx0XHRcdHNoaXBwaW5nOiAwLFxuXHRcdFx0dG90YWw6IDBcblx0XHR9LFxuXHRcdGFncmVlZFRvVGVybXM6IGZhbHNlXG5cdH07XG5cblx0cmV0dXJuIHVzZXJEYXRhO1xufTtcdCIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLnNlcnZpY2UoJ3ZhbGlkYXRpb25TZXJ2aWNlJywgdmFsaWRhdGlvblNlcnZpY2UpO1xuXHRcdFxuLyogQG5nSW5qZWN0ICovXG52YWxpZGF0aW9uU2VydmljZS4kaW5qZWN0ID0gWydzdGF0ZVNlcnZpY2UnLCAndXNlckRhdGFTZXJ2aWNlJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gdmFsaWRhdGlvblNlcnZpY2Uoc3RhdGVTZXJ2aWNlLCB1c2VyRGF0YVNlcnZpY2UpIHtcblx0Ly9kZWZpbmUgbG9jYWwgdmFyYWlibGVzXG5cdHZhciB2YWxpZGF0aW9uID0ge1xuXHRcdHBoeXNpY2FsQWRkcmVzc2VzOiB7XG5cdFx0XHRzdHJlZXQ6IGlzVmFsaWRTdHJpbmcsXG5cdFx0XHR6aXA6IGlzVmFsaWRaaXAsXG5cdFx0XHRjaXR5OiBpc1ZhbGlkQ2l0eSxcblx0XHRcdHN0YXRlOiBpc1ZhbGlkU3RhdGVcblx0XHR9LFxuXHRcdGNvbnRhY3Q6IHtcblx0XHRcdGZpcnN0OiBpc1ZhbGlkU3RyaW5nLFxuXHRcdFx0bGFzdDogaXNWYWxpZFN0cmluZyxcblx0XHRcdHBob25lOiBpc1ZhbGlkUGhvbmUsXG5cdFx0XHRlbWFpbDogaXN2YWxpZEVtYWlsXG5cdFx0fSxcblx0XHR0ZXJtc0FuZENvbmQ6IHRlcm1zQW5kQ29uZFxuXHR9O1xuXG5cdGZ1bmN0aW9uIGlzVmFsaWRTdHJpbmcoYVN0cmluZykge1xuXHRcdHZhciBpc1ZhbGlkID0gZmFsc2U7XG5cblx0XHRpZiAoYVN0cmluZy5sZW5ndGggPiAwKSBpc1ZhbGlkID0gdHJ1ZTtcblxuXHRcdHJldHVybiBpc1ZhbGlkO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGlzVmFsaWRaaXAoYVN0cmluZykge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdC8vdmFyIGVycm9yTWVzc2FnZSA9IFwiXCI7XG5cblx0XHQvL3ZhciBpc1ZhbGlkID0gLyheXFxkezV9JCl8KF5cXGR7NX0tXFxkezR9JCkvLnRlc3QoYVN0cmluZyk7XG5cblx0XHQvL2lmKCFpc1ZhbGlkKSBlcnJvck1lc3NhZ2UrPSBcIlRoYXQgZG9lc24ndCBsb29rIGxpa2UgYSB2YWxpZCB6aXBjb2RlLCBwbGVhc2UgdHJ5IGFnYWluXCI7XG5cblx0XHQvL3JldHVybiB7dmFsaWQ6IGlzVmFsaWQsIG1lc3NhZ2U6IGVycm9yTWVzc2FnZX07XG5cdFx0cmV0dXJuIC8oXlxcZHs1fSQpfCheXFxkezV9LVxcZHs0fSQpLy50ZXN0KGFTdHJpbmcpO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGlzVmFsaWRDaXR5KGFTdHJpbmcpIHtcblx0XHRyZXR1cm4gL15bYS16QS1aXSsoPzpbXFxzLV1bYS16QS1aXSspKiQvLnRlc3QoYVN0cmluZyk7XG5cdH07XG5cblx0ZnVuY3Rpb24gaXNWYWxpZFN0YXRlKGFTdHJpbmcpIHtcblx0XHRyZXR1cm4gL14oKEFbTEtaUl0pfChDW0FPVF0pfChEW0VDXSl8KEZMKXwoR0EpfChISSl8KElbRExOQV0pfChLW1NZXSl8KExBKXwoTVtFREFJTlNPVF0pfChOW0VWSEpNWUNEXSl8KE9bSEtSXSl8KFBBKXwoUkkpfChTW0NEXSl8KFRbTlhdKXwoVVQpfChWW1RBXSl8KFdbQVZJWV0pKSQvLnRlc3QoYVN0cmluZylcblx0fTtcblxuXHRmdW5jdGlvbiBpc1ZhbGlkUGhvbmUoYVN0cmluZykge1xuXHRcdHJldHVybiAvXlsyLTldXFxkezJ9LVxcZHszfS1cXGR7NH0kLy50ZXN0KGFTdHJpbmcpO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGlzdmFsaWRFbWFpbChhU3RyaW5nKSB7XG5cdFx0cmV0dXJuIC9eKFthLXpBLVowLTlfXFwtXFwuXSspQChbYS16QS1aMC05X1xcLVxcLl0rKVxcLihbYS16QS1aXXsyLDV9KSQvLnRlc3QoYVN0cmluZylcblx0fTtcblxuXHRmdW5jdGlvbiB0ZXJtc0FuZENvbmQoKSB7XG5cdFx0Y29uc29sZS5sb2coJ3ZhbGlkYXRpbmcgdGVybXMgYW5kIGNvbmRpdGlvbnMnKTtcblx0XHQvL21ha2Ugc3VyZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBpcyBtYXJrZWQgYXMgYWRkcmVzc2VkXG5cdFx0c3RhdGVTZXJ2aWNlLnNlY3Rpb25zQWRkcmVzc2VkLnRlcm1zQ29uZHMgPSB0cnVlO1xuXG5cdFx0Ly9zZWN0aW9uIGNvbWxldGVuZXNzIGlzIGEgcmVmbGVjdGlvbiBvZiB0aGUgYWdyZWVtZW50IHN0YXR1c1xuXHRcdHN0YXRlU2VydmljZS5zZWN0aW9uc0NvbXBsZXRlZC50ZXJtc0NvbmRzID0gdXNlckRhdGFTZXJ2aWNlLmFncmVlZFRvVGVybXM7XG5cblx0XHQvL3RvZ2dsZSBjb21wbGV0bmVzc1xuXHRcdGlmKHN0YXRlU2VydmljZS5zZWN0aW9uc0NvbXBsZXRlZC50ZXJtc0NvbmRzKSB7XG5cdFx0XHRzdGF0ZVNlcnZpY2Uuc2VjdGlvbkhlYWRlcnMudGVybXNDb25kcy5zaG93RXJyb3IgPSBmYWxzZTtcblx0XHRcdHN0YXRlU2VydmljZS5zZWN0aW9uSGVhZGVycy50ZXJtc0NvbmRzLnNob3dDb21wbGV0ZWQgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdGF0ZVNlcnZpY2Uuc2VjdGlvbkhlYWRlcnMudGVybXNDb25kcy5zaG93RXJyb3IgPSB0cnVlO1xuXHRcdFx0c3RhdGVTZXJ2aWNlLnNlY3Rpb25IZWFkZXJzLnRlcm1zQ29uZHMuc2hvd0NvbXBsZXRlZCA9IGZhbHNlO1xuXHRcdH07XG5cblx0fTtcblxuXHRyZXR1cm4gdmFsaWRhdGlvbjtcbn07XHQiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5zZXJ2aWNlKCd6aXBjb21wbGV0ZScsIHppcGNvbXBsZXRlKTtcblx0XHRcbi8qIEBuZ0luamVjdCAqL1xuemlwY29tcGxldGUuJGluamVjdCA9IFtdO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHppcGNvbXBsZXRlKCkge1xuXHQvL2RlZmluZSBsb2NhbCB2YXJhaWJsZXNcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR2YXIgY2xpZW50S2V5ID0gXCJtU2FqVllEOHVyRlNPalczdHVKZmhkblNqTXJldmttZ2xYNDBXMmJ6MTJLbTRjVks1dllacG9nUWdUY2ZwNmp3XCI7XG5cdHZhciBjYWNoZSA9IHt9O1xuXHQvL3ZhciBjb250YWluZXIgPSAkKFwiI2V4YW1wbGUxXCIpO1xuXHQvL3ZhciBlcnJvckRpdiA9IGNvbnRhaW5lci5maW5kKFwiZGl2LnRleHQtZXJyb3JcIik7XG5cblx0Ly9sb2NhbCBmdW5jdGlvbiBcblx0c2VsZi5oYW5kbGVSZXNwID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdC8vIENoZWNrIGZvciBlcnJvclxuXHRcdGlmIChkYXRhLmVycm9yX21zZylcblx0XHRcdGNvbnNvbGUubG9nKGRhdGEuZXJyb3JfbXNnKTtcblx0XHRcdC8vZXJyb3JEaXYudGV4dChkYXRhLmVycm9yX21zZyk7XG5cdFx0ZWxzZSBpZiAoXCJjaXR5XCIgaW4gZGF0YSlcblx0XHR7XG5cdFx0XHQvLyBTZXQgY2l0eSBhbmQgc3RhdGVcblx0XHRcdGNvbnRhaW5lci5maW5kKFwiaW5wdXRbbmFtZT0nY2l0eSddXCIpLnZhbChkYXRhLmNpdHkpO1xuXHRcdFx0Y29udGFpbmVyLmZpbmQoXCJpbnB1dFtuYW1lPSdzdGF0ZSddXCIpLnZhbChkYXRhLnN0YXRlKTtcblx0XHR9IFxuXHR9O1xuXG5cdC8vemlwIGNoZWNrZXJcblx0c2VsZi5jaGVja1ppcCA9IGZ1bmN0aW9uKGVudGVyZWRaaXApIHtcblx0XHR2YXIgemlwY29kZSA9IGVudGVyZWRaaXAuc3Vic3RyaW5nKDAsIDUpOyBcblxuXHRcdGlmICh6aXBjb2RlLmxlbmd0aCA9PSA1ICYmIC9eWzAtOV0rJC8udGVzdCh6aXBjb2RlKSkge1xuXG5cdFx0XHRjb25zb2xlLmxvZygnY2hlY2tpbmcgemlwJywgemlwY29kZSk7XG5cdFx0fVx0XG5cdFx0XG5cdH07XG59O1x0Il19
