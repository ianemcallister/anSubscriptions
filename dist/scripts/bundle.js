config.$inject=["$routeProvider","$locationProvider"];var ahNuts=angular.module("ansub",["ngRoute","ui.bootstrap"]);function mainController(e,t,n,r,i,s,o){e.userData=i,e.state=s,o.init()}function successController(e,t,n){e.confirmationCode=n.confirmationCode,console.log("success controler",n.confirmationCode,e.confirmationCode)}function billingAddress(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/billingAddress.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n,r){this.userData=n,this.state=r}return n.$inject=["$scope","$log","userDataService","stateService"],e}function billingInput(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/billingInput.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n,r){this.userData=n,this.state=r}return n.$inject=["$scope","$log","userDataService","stateService"],e}function contactInput(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/contactInput.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n,r){this.userData=n,this.state=r}return n.$inject=["$scope","$log","userDataService","stateService"],e}function frequencySelection(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/frequencySelection.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t){this.frequencies=["month","quarter","year"],this.starts={month:["January","February","March","April","May","June","July","August","September","October","November","December"],quarter:["Winter","Spring","Summer","Fall"],year:["2018","2019","2020"]},this.selectedFrequency="",this.startsIn=""}return n.$inject=["$scope","$log"],e}function productSelection(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/productSelection.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(t,e,n,r,i){var s=this;s.userData=n,s.state=r.productSelection,s.state.infoBox=r.infoBoxes.flavorDefs,i.download.productList().then(function(e){s.flavors=e,t.$apply()}).catch(function(e){console.log("product list error, ",e)}),s.orderList=n.order,s.productPrice=1699,s.order=n.tender;var o={id:1,sqrId:"",sqVarId:"",flavor:"",mixflvrCount:0,mixflvrs:{srpec:{id:"srpec",name:"SR Pecans",selected:!1,classes:{"list-group-item":!0,active:!1}},sralm:{id:"sralm",name:"SR Almonds",selected:!1,classes:{"list-group-item":!0,active:!1}},srcsh:{id:"srcsh",name:"SR Cashews",selected:!1,classes:{"list-group-item":!0,active:!1}},srpea:{id:"srpea",name:"SR Peanuts",selected:!1,classes:{"list-group-item":!0,active:!1}},cnpec:{id:"cnpec",name:"Cin Pecans",selected:!1,classes:{"list-group-item":!0,active:!1}},cnalm:{id:"cnalm",name:"Cin Almonds",selected:!1,classes:{"list-group-item":!0,active:!1}},drpec:{id:"drpec",name:"Drunk Pecans",selected:!1,classes:{"list-group-item":!0,active:!1}}},mixFlvrsSelected:[],mix:""};function c(){s.order.total=s.orderList.length*s.productPrice-s.order.discounts,4==s.orderList.length&&(s.order.total=s.order.total-s.productPrice)}s.addAProduct=function(){var e=s.orderList.length;e<4&&s.orderList.push(Object.create(o)),3==e&&(s.state.addAProductBtn.visible=!1),0<e&&(s.state.removeLastProductBtn.visible=!0);for(var t=0;t<=e;t++)s.orderList[t].id=t+1;c()},s.removeLastProduct=function(){var e=s.orderList.length,t=e-1;1<e&&s.orderList.splice(t,1),2==e&&(s.state.removeLastProductBtn.visible=!1),s.state.addAProductBtn.visible=!0,4==e&&(s.order.discounts=0),c()},s.removeAProduct=function(e){var t=e-1;1<s.orderList.length&&s.orderList.splice(t,1);for(var n=0;n<=s.orderList.length-1;n++)s.orderList[n].id=n+1;c()},s.validateProducts=function(){},s.countMixFlavors=function(t){var n=0;return Object.keys(t).forEach(function(e){t[e].selected&&n++}),n},s.updateShoppingCart=function(){s.orderList.forEach(function(t){s.flavors.forEach(function(e){e.name==t.flavor&&(t.sqrId=e.id,t.id<4?t.sqVarId=e.variations[0].id:t.sqVarId=e.variations[1].id)})}),console.log(s.orderList)},s.buildFlavorList=function(t){s.orderList[t].mixFlvrsSelected=[],Object.keys(s.orderList[t].mixflvrs).forEach(function(e){s.orderList[t].mixflvrs[e].selected&&s.orderList[t].mixFlvrsSelected.push(s.orderList[t].mixflvrs[e].name)})},s.orderList.push(Object.create(o)),c()}return n.$inject=["$scope","$log","userDataService","stateService","squareService"],e}function shipDest(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",template:"<div>testing</div>",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n){this.zipCheck=n}return n.$inject=["$scope","$log","zipcomplete"],e}function singleAddressInput(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/singleAddressInput.htm",replace:!0,scope:{address:"="},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n,r,i){var s=this;s.userData=n,s.state=r,console.log("in singleAddressInputController",i),s.validate=function(e,t){var n=i.physicalAddresses[e](t);s.state.singleAddressInput[e].input["is-invalid"]=n?!(s.state.singleAddressInput[e].input["is-valid"]=!0):!(s.state.singleAddressInput[e].input["is-valid"]=!1),console.log(e,"is valid?:",n)},s.updateBillingAddress=function(){s.state.shipingSameAsBilling&&(s.userData.billingAddress.street=s.userData.shippingDestination.street,s.userData.billingAddress.zip=s.userData.shippingDestination.zip,s.userData.billingAddress.city=s.userData.shippingDestination.city,s.userData.billingAddress.state=s.userData.shippingDestination.state)}}return n.$inject=["$scope","$log","userDataService","stateService","validationService"],e}function subTermsCond(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/subTermsCond.htm",replace:!0,scope:{},link:t,controller:n,controllerAs:"vm",bindToController:!0};function t(e,t,n,r){}function n(e,t,n,r,i,s,o,c){this.state=r,this.userData=i,this.validate=s,this.square=c}return n.$inject=["$scope","$log","$location","stateService","userDataService","validationService","submissionService","squareService"],e}function config(e,t){t.hashPrefix(""),e.when("/",{templateUrl:"views/monthlySub.htm",controller:"mainController",controllerAs:"vm"}).when("/success/:confirmationCode",{templateUrl:"views/success.htm",controller:"successController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}function errorHandlingService(){return{}}function modalService(e){var i={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:"partials/modal.htm"},s={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?"};this.showModal=function(e,t){return e||(e={}),e.backdrop="static",this.show(e,t)},this.show=function(e,t){var n={},r={};return angular.extend(n,i,e),angular.extend(r,s,t),n.controller||(n.controller=function(e,t){e.modalOptions=r,e.modalOptions.ok=function(e){t.close(e)},e.modalOptions.close=function(e){t.dismiss("cancel")}}),$modal.open(n).result}}function serverService(i){return{chargeCard:function(e,r){return new Promise(function(t,n){i({method:"POST",url:e,headers:{"Content-Type":"application/json"},data:r}).then(function(e){console.log("got this response",e),t(e.data)},function(e){n(e)})})},get:{sqrAppId:function(){return new Promise(function(t,n){i({method:"GET",url:"/api/squareId"}).then(function(e){console.log("got this response",e),t(e.data)},function(e){n(e)})})},sqrPrdctList:function(){return new Promise(function(t,n){i({method:"GET",url:"/api/productList"}).then(function(e){console.log("got this response",e),t(e.data)},function(e){n(e)})})}}}}function squareService(n,r,i,t){var s=this;function o(e){t.card.nonce=e,i.chargeCard("/api/charge_card",t).then(function(e){var t="/success/"+e.data;console.log("got this path back",t),r.path(t),n.$apply()}).catch(function(e){console.log("Error:",e)})}return{_chargeCardWithNonce:o,submitForm:function(){console.log("submitting form"),s.paymentForm.requestCardNonce()},download:{productList:function(){return new Promise(function(t,n){i.get.sqrPrdctList().then(function(e){t(e)}).catch(function(e){n(e)})})}},init:function(){i.get.sqrAppId().then(function(e){s.paymentForm=new SqPaymentForm({applicationId:e.id,inputClass:"sq-input",inputStyles:[{fontSize:"14px",padding:"7px 12px",backgroundColor:"transparent"}],cardNumber:{elementId:"sq-card-number",placeholder:"•••• •••• •••• ••••"},cvv:{elementId:"sq-cvv",placeholder:"CVV"},expirationDate:{elementId:"sq-expiration-date",placeholder:"MM/YY"},postalCode:{elementId:"sq-postal-code"},callbacks:{cardNonceResponseReceived:function(e,t,n){e?(console.log("Encountered errors:",e),s.card_errors=e,s.isProcessing=!1):(s.card_errors=[],o(t))},unsupportedBrowserDetected:function(){},inputEventReceived:function(e){e.eventType},paymentFormLoaded:function(){}}}),s.paymentForm.build()}).catch(function(e){console.log(e)})}}}function stateService(e){return{shipingSameAsBilling:!0,productSelection:{addAProductBtn:{classes:{btn:!0,"btn-success":!0,"btn-warning":!1},visible:!0},removeLastProductBtn:{classes:{btn:!0,"btn-success":!1,"btn-warning":!1,"btn-danger":!0},visible:!1},headerStyle:{color:"rgb(51,51,51)"}},contactInfo:{firstname:{classes:{"form-control":!0,"is-valid":!1,"is-invalid":!1},addressed:!1,isValid:!1,isInvalid:!1}},infoBoxes:{flavorDefs:!1,termsConds:!1},sectionsAddressed:{productSelection:!1,singleShippingAddress:!1,contactInfo:!1,termsConds:!1},sectionsCompleted:{productSelection:!0,singleShippingAddress:!0,contactInfo:!0,termsConds:!1},sectionHeaders:{productSelection:{showError:!1,showCompleted:!1},singleShippingAddress:{showError:!1,showCompleted:!1},contactInfo:{showError:!1,showCompleted:!1},termsConds:{showError:!1,showCompleted:!1}},checkCompletness:function(){var t=this,n=!0;Object.keys(t.sectionsCompleted).forEach(function(e){0==t.sectionsCompleted[e]&&(n=!1)}),t.submissionBtn["btn-secondary"]=n?(readyForSubmission=!0,t.submissionBtn["btn-success"]=!0,!1):(readyForSubmission=!1,t.submissionBtn["btn-success"]=!1,!0)},readyForSubmission:!1,submissionBtn:{btn:!0,"btn-block":!0,"btn-success":!1,"btn-secondary":!0},singleAddressInput:{street:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}},zip:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}},city:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}},state:{field:{"was-validated":!1,"needs-validation":!0},input:{"is-valid":!1,"is-invalid":!1}}}}}function submissionService(r){this.submit=function(e){return new Promise(function(t,n){r({method:"POST",url:"/subscription-application-submission",headers:{"Content-Type":"application/json"},data:e}).then(function(e){console.log("got this response",e),t(e)},function(e){n(e)})})}}function userDataService(){return{name:{first:"",last:""},contact:{email:"",phone:""},shippingDestination:{street:"",city:"",state:"",zip:""},billingAddress:{street:"",city:"",state:"",zip:""},card:{nonce:"",last4:"",type:""},orderNo:"",orderDate:"",order:[],tender:{discounts:0,shipping:0,total:0},agreedToTerms:!1}}function validationService(e,t){return{physicalAddresses:{street:function(e){var t=!1;console.log("street length",e.length),3<e.length&&(t=!0);return t},zip:function(e){return/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)}},termsAndCond:function(){console.log("validating terms and conditions"),e.sectionsAddressed.termsConds=!0,e.sectionsCompleted.termsConds=t.agreedToTerms,e.sectionsCompleted.termsConds?(e.sectionHeaders.termsConds.showError=!1,e.sectionHeaders.termsConds.showCompleted=!0):(e.sectionHeaders.termsConds.showError=!0,e.sectionHeaders.termsConds.showCompleted=!1)}}}function zipcomplete(){this.handleResp=function(e){e.error_msg?console.log(e.error_msg):"city"in e&&(container.find("input[name='city']").val(e.city),container.find("input[name='state']").val(e.state))},this.checkZip=function(e){var t=e.substring(0,5);5==t.length&&/^[0-9]+$/.test(t)&&console.log("checking zip",t)}}angular.module("ansub").controller("mainController",mainController),mainController.$inject=["$scope","$log","$location","submissionService","userDataService","stateService","squareService"],angular.module("ansub").controller("successController",successController),successController.$inject=["$scope","$log","$routeParams"],angular.module("ansub").directive("billingAddress",billingAddress),angular.module("ansub").directive("billingInput",billingInput),angular.module("ansub").directive("contactInput",contactInput),angular.module("ansub").directive("frequencySelection",frequencySelection),angular.module("ansub").directive("productSelection",productSelection),angular.module("ansub").directive("shipDest",shipDest),angular.module("ansub").directive("singleAddressInput",singleAddressInput),angular.module("ansub").directive("subTermsCond",subTermsCond),angular.module("ansub").config(config),angular.module("ansub").service("errorHandlingService",errorHandlingService),errorHandlingService.$inject=[],angular.module("ansub").service("modalService",modalService),modalService.$inject=["$uibModal"],angular.module("ansub").service("serverService",serverService),serverService.$inject=["$http"],angular.module("ansub").service("squareService",squareService),squareService.$inject=["$rootScope","$location","serverService","userDataService"],angular.module("ansub").service("stateService",stateService),stateService.$inject=["userDataService"],angular.module("ansub").service("submissionService",submissionService),submissionService.$inject=["$http"],angular.module("ansub").service("userDataService",userDataService),userDataService.$inject=[],angular.module("ansub").service("validationService",validationService),validationService.$inject=["stateService","userDataService"],angular.module("ansub").service("zipcomplete",zipcomplete),zipcomplete.$inject=[];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvd2ViYXBwLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9tYWluLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL3N1Y2Nlc3MuY29udHJvbGxlci5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9iaWxsaW5nQWRkcmVzcy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvYmlsbGluZ0lucHV0LmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jb250YWN0SW5wdXQuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2ZyZXF1ZW5jeVNlbGVjdGlvbi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcHJvZHVjdFNlbGVjdGlvbi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2hpcERlc3QuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NpbmdsZUFkZHJlc3NJbnB1dC5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc3VidGVybXNjb25kLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvcm91dGVzL3JvdXRlcy5jb25maWcuanMiLCJzY3JpcHRzL3NlcnZpY2VzL2Vycm9ySGFuZGxpbmcuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvbW9yZGFscy5zZXJ2aWNlLmpzIiwic2NyaXB0cy9zZXJ2aWNlcy9zZXJ2ZXIuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvc3F1YXJlLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3N0YXRlLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3N1Ym1pc3Npb25TZXJpdmNlLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3VzZXJEYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL3NlcnZpY2VzL3ZhbGlkYXRpb24uc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvemlwY29tcGxldGUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhaE51dHMiLCJhbmd1bGFyIiwibW9kdWxlIiwibWFpbkNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9nIiwiJGxvY2F0aW9uIiwic3VibWlzc2lvblNlcnZpY2UiLCJ1c2VyRGF0YVNlcnZpY2UiLCJzdGF0ZVNlcnZpY2UiLCJzcXVhcmVTZXJ2aWNlIiwidXNlckRhdGEiLCJzdGF0ZSIsImluaXQiLCJzdWNjZXNzQ29udHJvbGxlciIsIiRyb3V0ZVBhcmFtcyIsImNvbmZpcm1hdGlvbkNvZGUiLCJjb25zb2xlIiwibG9nIiwiYmlsbGluZ0FkZHJlc3MiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInRlbXBsYXRlVXJsIiwicmVwbGFjZSIsInNjb3BlIiwibGluayIsImxpbmtGdW5jIiwiY29udHJvbGxlciIsImJpbGxpbmdBZGRyZXNzQ29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJlbCIsImF0dHIiLCJjdHJsIiwidGhpcyIsIiRpbmplY3QiLCJiaWxsaW5nSW5wdXQiLCJiaWxsaW5nSW5wdXRDb250cm9sbGVyIiwiY29udGFjdElucHV0IiwiY29udGFjdElucHV0dENvbnRyb2xsZXIiLCJmcmVxdWVuY3lTZWxlY3Rpb24iLCJmcmVxdWVuY3lTZWxlY3Rpb25Db250cm9sbGVyIiwiZnJlcXVlbmNpZXMiLCJzdGFydHMiLCJtb250aCIsInF1YXJ0ZXIiLCJ5ZWFyIiwic2VsZWN0ZWRGcmVxdWVuY3kiLCJzdGFydHNJbiIsInByb2R1Y3RTZWxlY3Rpb24iLCJwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlciIsInNlbGYiLCJpbmZvQm94ZXMiLCJmbGF2b3JEZWZzIiwiZG93bmxvYWQiLCJwcm9kdWN0TGlzdCIsInRoZW4iLCJzIiwiZmxhdm9ycyIsIiRhcHBseSIsImNhdGNoIiwiZSIsIm9yZGVyTGlzdCIsIm9yZGVyIiwicHJvZHVjdFByaWNlIiwidGVuZGVyIiwicHJvZHVjdE9iamVjdCIsImlkIiwic3FySWQiLCJzcVZhcklkIiwiZmxhdm9yIiwibWl4Zmx2ckNvdW50IiwibWl4Zmx2cnMiLCJzcnBlYyIsIm5hbWUiLCJzZWxlY3RlZCIsImNsYXNzZXMiLCJsaXN0LWdyb3VwLWl0ZW0iLCJhY3RpdmUiLCJzcmFsbSIsInNyY3NoIiwic3JwZWEiLCJjbnBlYyIsImNuYWxtIiwiZHJwZWMiLCJtaXhGbHZyc1NlbGVjdGVkIiwibWl4Iiwic3VtT3JkZXIiLCJ0b3RhbCIsImxlbmd0aCIsImRpc2NvdW50cyIsImFkZEFQcm9kdWN0Iiwibm9PZlByb2R1Y3RzIiwicHVzaCIsIk9iamVjdCIsImNyZWF0ZSIsImFkZEFQcm9kdWN0QnRuIiwidmlzaWJsZSIsInJlbW92ZUxhc3RQcm9kdWN0QnRuIiwiaSIsInJlbW92ZUxhc3RQcm9kdWN0IiwicmVtb3ZlSW5kZXgiLCJzcGxpY2UiLCJyZW1vdmVBUHJvZHVjdCIsInZhbGlkYXRlUHJvZHVjdHMiLCJjb3VudE1peEZsYXZvcnMiLCJmbGF2b3JPYmplY3QiLCJjb3VudGVyIiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJ1cGRhdGVTaG9wcGluZ0NhcnQiLCJwcm9kdWN0IiwidmFyaWF0aW9ucyIsImJ1aWxkRmxhdm9yTGlzdCIsInNoaXBEZXN0IiwidGVtcGxhdGUiLCJzaGlwRGVzdENvbnRyb2xsZXIiLCJ6aXBjb21wbGV0ZSIsInppcENoZWNrIiwic2luZ2xlQWRkcmVzc0lucHV0IiwiYWRkcmVzcyIsInNpbmdsZUFkZHJlc3NJbnB1dENvbnRyb2xsZXIiLCJ2YWxpZGF0aW9uU2VydmljZSIsInZhbGlkYXRlIiwiZmllbGQiLCJ2YWx1ZSIsImlzVmFsaWQiLCJwaHlzaWNhbEFkZHJlc3NlcyIsImlucHV0IiwidXBkYXRlQmlsbGluZ0FkZHJlc3MiLCJzaGlwaW5nU2FtZUFzQmlsbGluZyIsInN0cmVldCIsInNoaXBwaW5nRGVzdGluYXRpb24iLCJ6aXAiLCJjaXR5Iiwic3ViVGVybXNDb25kIiwic3ViVGVybXNDb25kQ29udHJvbGxlciIsInNxdWFyZSIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJoYXNoUHJlZml4Iiwid2hlbiIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJlcnJvckhhbmRsaW5nU2VydmljZSIsIm1vZGFsU2VydmljZSIsIiR1aWJNb2RhbCIsIm1vZGFsRGVmYXVsdHMiLCJiYWNrZHJvcCIsImtleWJvYXJkIiwibW9kYWxGYWRlIiwibW9kYWxPcHRpb25zIiwiY2xvc2VCdXR0b25UZXh0IiwiYWN0aW9uQnV0dG9uVGV4dCIsImhlYWRlclRleHQiLCJib2R5VGV4dCIsInNob3dNb2RhbCIsImN1c3RvbU1vZGFsRGVmYXVsdHMiLCJjdXN0b21Nb2RhbE9wdGlvbnMiLCJzaG93IiwidGVtcE1vZGFsRGVmYXVsdHMiLCJ0ZW1wTW9kYWxPcHRpb25zIiwiZXh0ZW5kIiwiJG1vZGFsSW5zdGFuY2UiLCJvayIsInJlc3VsdCIsImNsb3NlIiwiZGlzbWlzcyIsIiRtb2RhbCIsIm9wZW4iLCJzZXJ2ZXJTZXJ2aWNlIiwiJGh0dHAiLCJjaGFyZ2VDYXJkIiwidXJsIiwiZGF0YSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibWV0aG9kIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInJlc3BvbnNlIiwiZXJyb3IiLCJnZXQiLCJzcXJBcHBJZCIsInNxclByZGN0TGlzdCIsIiRyb290U2NvcGUiLCJfY2hhcmdlQ2FyZFdpdGhOb25jZSIsIm5vbmNlIiwiY2FyZCIsIm5ld1BhdGgiLCJwYXRoIiwic3VibWl0Rm9ybSIsInBheW1lbnRGb3JtIiwicmVxdWVzdENhcmROb25jZSIsInNxQXBwIiwiU3FQYXltZW50Rm9ybSIsImFwcGxpY2F0aW9uSWQiLCJpbnB1dENsYXNzIiwiaW5wdXRTdHlsZXMiLCJmb250U2l6ZSIsInBhZGRpbmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJjYXJkTnVtYmVyIiwiZWxlbWVudElkIiwicGxhY2Vob2xkZXIiLCJjdnYiLCJleHBpcmF0aW9uRGF0ZSIsInBvc3RhbENvZGUiLCJjYWxsYmFja3MiLCJjYXJkTm9uY2VSZXNwb25zZVJlY2VpdmVkIiwiZXJyb3JzIiwiY2FyZERhdGEiLCJjYXJkX2Vycm9ycyIsImlzUHJvY2Vzc2luZyIsInVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkIiwiaW5wdXRFdmVudFJlY2VpdmVkIiwiaW5wdXRFdmVudCIsImV2ZW50VHlwZSIsInBheW1lbnRGb3JtTG9hZGVkIiwiYnVpbGQiLCJidG4iLCJidG4tc3VjY2VzcyIsImJ0bi13YXJuaW5nIiwiYnRuLWRhbmdlciIsImhlYWRlclN0eWxlIiwiY29sb3IiLCJjb250YWN0SW5mbyIsImZpcnN0bmFtZSIsImZvcm0tY29udHJvbCIsImlzLXZhbGlkIiwiaXMtaW52YWxpZCIsImFkZHJlc3NlZCIsImlzSW52YWxpZCIsInRlcm1zQ29uZHMiLCJzZWN0aW9uc0FkZHJlc3NlZCIsInNpbmdsZVNoaXBwaW5nQWRkcmVzcyIsInNlY3Rpb25zQ29tcGxldGVkIiwic2VjdGlvbkhlYWRlcnMiLCJzaG93RXJyb3IiLCJzaG93Q29tcGxldGVkIiwiY2hlY2tDb21wbGV0bmVzcyIsIm5vRmxhZ3MiLCJzdWJtaXNzaW9uQnRuIiwicmVhZHlGb3JTdWJtaXNzaW9uIiwiYnRuLWJsb2NrIiwiYnRuLXNlY29uZGFyeSIsIndhcy12YWxpZGF0ZWQiLCJuZWVkcy12YWxpZGF0aW9uIiwic3VibWl0IiwiZmlyc3QiLCJsYXN0IiwiY29udGFjdCIsImVtYWlsIiwicGhvbmUiLCJsYXN0NCIsInR5cGUiLCJvcmRlck5vIiwib3JkZXJEYXRlIiwic2hpcHBpbmciLCJhZ3JlZWRUb1Rlcm1zIiwiYVN0cmluZyIsInRlc3QiLCJ0ZXJtc0FuZENvbmQiLCJoYW5kbGVSZXNwIiwiZXJyb3JfbXNnIiwiY29udGFpbmVyIiwiZmluZCIsInZhbCIsImNoZWNrWmlwIiwiZW50ZXJlZFppcCIsInppcGNvZGUiLCJzdWJzdHJpbmciLCJzZXJ2aWNlIl0sIm1hcHBpbmdzIjoic0RBRUEsSUFBQUEsT0FBQUMsUUFBQUMsT0FBQSxRQUFBLENBQUEsVUFBQSxpQkNHQSxTQUFBQyxlQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUtBTixFQUFBTyxTQUFBSCxFQUNBSixFQUFBUSxNQUFBSCxFQUVBQyxFQUFBRyxPQ1JBLFNBQUFDLGtCQUFBVixFQUFBQyxFQUFBVSxHQUlBWCxFQUFBWSxpQkFBQUQsRUFBQUMsaUJBR0FDLFFBQUFDLElBQUEsb0JBQUFILEVBQUFDLGlCQUFBWixFQUFBWSxrQkNUQSxTQUFBRyx3REFFQSxJQUFBQyxFQUFBLENBQ0FDLFNBQUEsT0FDQUMsWUFBQSwyQkFDQUMsU0FBQSxFQUNBQyxNQUFBLEdBQ0FDLEtBQUFDLEVBQ0FDLFdBQUFDLEVBQ0FDLGFBQUEsS0FDQUMsa0JBQUEsR0FJQSxTQUFBSixFQUFBRixFQUFBTyxFQUFBQyxFQUFBQyxJQUtBLFNBQUFMLEVBQUF4QixFQUFBQyxFQUFBRyxFQUFBQyxHQUVBeUIsS0FHQXZCLFNBQUFILEVBSEEwQixLQUlBdEIsTUFBQUgsRUFNQSxPQWZBbUIsRUFBQU8sUUFBQSxDQUFBLFNBQUEsT0FBQSxrQkFBQSxnQkFlQWYsRUMvQkEsU0FBQWdCLHNEQUVBLElBQUFoQixFQUFBLENBQ0FDLFNBQUEsT0FDQUMsWUFBQSx5QkFDQUMsU0FBQSxFQUNBQyxNQUFBLEdBQ0FDLEtBQUFDLEVBQ0FDLFdBQUFVLEVBQ0FSLGFBQUEsS0FDQUMsa0JBQUEsR0FJQSxTQUFBSixFQUFBRixFQUFBTyxFQUFBQyxFQUFBQyxJQUtBLFNBQUFJLEVBQUFqQyxFQUFBQyxFQUFBRyxFQUFBQyxHQUVBeUIsS0FHQXZCLFNBQUFILEVBSEEwQixLQUlBdEIsTUFBQUgsRUFNQSxPQWZBNEIsRUFBQUYsUUFBQSxDQUFBLFNBQUEsT0FBQSxrQkFBQSxnQkFlQWYsRUMvQkEsU0FBQWtCLHNEQUVBLElBQUFsQixFQUFBLENBQ0FDLFNBQUEsT0FDQUMsWUFBQSx5QkFDQUMsU0FBQSxFQUNBQyxNQUFBLEdBQ0FDLEtBQUFDLEVBQ0FDLFdBQUFZLEVBQ0FWLGFBQUEsS0FDQUMsa0JBQUEsR0FJQSxTQUFBSixFQUFBRixFQUFBTyxFQUFBQyxFQUFBQyxJQUtBLFNBQUFNLEVBQUFuQyxFQUFBQyxFQUFBRyxFQUFBQyxHQUVBeUIsS0FHQXZCLFNBQUFILEVBSEEwQixLQUlBdEIsTUFBQUgsRUFNQSxPQWZBOEIsRUFBQUosUUFBQSxDQUFBLFNBQUEsT0FBQSxrQkFBQSxnQkFlQWYsRUMvQkEsU0FBQW9CLDREQUVBLElBQUFwQixFQUFBLENBQ0FDLFNBQUEsT0FDQUMsWUFBQSwrQkFDQUMsU0FBQSxFQUNBQyxNQUFBLEdBQ0FDLEtBQUFDLEVBQ0FDLFdBQUFjLEVBQ0FaLGFBQUEsS0FDQUMsa0JBQUEsR0FJQSxTQUFBSixFQUFBRixFQUFBTyxFQUFBQyxFQUFBQyxJQUtBLFNBQUFRLEVBQUFyQyxFQUFBQyxHQUVBNkIsS0FHQVEsWUFBQSxDQUNBLFFBQ0EsVUFDQSxRQU5BUixLQVNBUyxPQUFBLENBQ0FDLE1BQUEsQ0FBQSxVQUFBLFdBQUEsUUFBQSxRQUFBLE1BQUEsT0FBQSxPQUFBLFNBQUEsWUFBQSxVQUFBLFdBQUEsWUFDQUMsUUFBQSxDQUFBLFNBQUEsU0FBQSxTQUFBLFFBQ0FDLEtBQUEsQ0FBQSxPQUFBLE9BQUEsU0FaQVosS0FlQWEsa0JBQUEsR0FmQWIsS0FnQkFjLFNBQUEsR0FNQSxPQTNCQVAsRUFBQU4sUUFBQSxDQUFBLFNBQUEsUUEyQkFmLEVDM0NBLFNBQUE2QiwwREFFQSxJQUFBN0IsRUFBQSxDQUNBQyxTQUFBLE9BQ0FDLFlBQUEsNkJBQ0FDLFNBQUEsRUFDQUMsTUFBQSxHQUVBQyxLQUFBQyxFQUNBQyxXQUFBdUIsRUFDQXJCLGFBQUEsS0FDQUMsa0JBQUEsR0FJQSxTQUFBSixFQUFBRixFQUFBTyxFQUFBQyxFQUFBQyxJQU1BLFNBQUFpQixFQUFBOUMsRUFBQUMsRUFBQUcsRUFBQUMsRUFBQUMsR0FFQSxJQUFBeUMsRUFBQWpCLEtBR0FpQixFQUFBeEMsU0FBQUgsRUFDQTJDLEVBQUF2QyxNQUFBSCxFQUFBd0MsaUJBQ0FFLEVBQUF2QyxNQUFBLFFBQUFILEVBQUEyQyxVQUFBQyxXQUdBM0MsRUFBQTRDLFNBQUFDLGNBQ0FDLEtBQUEsU0FBQUMsR0FFQU4sRUFBQU8sUUFBQUQsRUFDQXJELEVBQUF1RCxXQUNBQyxNQUFBLFNBQUFDLEdBQ0E1QyxRQUFBQyxJQUFBLHVCQUFBMkMsS0FLQVYsRUFBQVcsVUFBQXRELEVBQUF1RCxNQUVBWixFQUFBYSxhQUFBLEtBRUFiLEVBQUFZLE1BQUF2RCxFQUFBeUQsT0FHQSxJQUFBQyxFQUFBLENBQ0FDLEdBQUEsRUFDQUMsTUFBQSxHQUNBQyxRQUFBLEdBQ0FDLE9BQUEsR0FDQUMsYUFBQSxFQUNBQyxTQUFBLENBQ0FDLE1BQUEsQ0FBQU4sR0FBQSxRQUFBTyxLQUFBLFlBQUFDLFVBQUEsRUFBQUMsUUFBQSxDQUFBQyxtQkFBQSxFQUFBQyxRQUFBLElBQ0FDLE1BQUEsQ0FBQVosR0FBQSxRQUFBTyxLQUFBLGFBQUFDLFVBQUEsRUFBQUMsUUFBQSxDQUFBQyxtQkFBQSxFQUFBQyxRQUFBLElBQ0FFLE1BQUEsQ0FBQWIsR0FBQSxRQUFBTyxLQUFBLGFBQUFDLFVBQUEsRUFBQUMsUUFBQSxDQUFBQyxtQkFBQSxFQUFBQyxRQUFBLElBQ0FHLE1BQUEsQ0FBQWQsR0FBQSxRQUFBTyxLQUFBLGFBQUFDLFVBQUEsRUFBQUMsUUFBQSxDQUFBQyxtQkFBQSxFQUFBQyxRQUFBLElBQ0FJLE1BQUEsQ0FBQWYsR0FBQSxRQUFBTyxLQUFBLGFBQUFDLFVBQUEsRUFBQUMsUUFBQSxDQUFBQyxtQkFBQSxFQUFBQyxRQUFBLElBQ0FLLE1BQUEsQ0FBQWhCLEdBQUEsUUFBQU8sS0FBQSxjQUFBQyxVQUFBLEVBQUFDLFFBQUEsQ0FBQUMsbUJBQUEsRUFBQUMsUUFBQSxJQUNBTSxNQUFBLENBQUFqQixHQUFBLFFBQUFPLEtBQUEsZUFBQUMsVUFBQSxFQUFBQyxRQUFBLENBQUFDLG1CQUFBLEVBQUFDLFFBQUEsS0FFQU8saUJBQUEsR0FDQUMsSUFBQSxJQVFBLFNBQUFDLElBRUFwQyxFQUFBWSxNQUFBeUIsTUFBQXJDLEVBQUFXLFVBQUEyQixPQUFBdEMsRUFBQWEsYUFBQWIsRUFBQVksTUFBQTJCLFVBQ0EsR0FBQXZDLEVBQUFXLFVBQUEyQixTQUFBdEMsRUFBQVksTUFBQXlCLE1BQUFyQyxFQUFBWSxNQUFBeUIsTUFBQXJDLEVBQUFhLGNBS0FiLEVBQUF3QyxZQUFBLFdBRUEsSUFBQUMsRUFBQXpDLEVBQUFXLFVBQUEyQixPQUdBRyxFQUFBLEdBQUF6QyxFQUFBVyxVQUFBK0IsS0FBQUMsT0FBQUMsT0FBQTdCLElBR0EsR0FBQTBCLElBQUF6QyxFQUFBdkMsTUFBQW9GLGVBQUFDLFNBQUEsR0FHQSxFQUFBTCxJQUFBekMsRUFBQXZDLE1BQUFzRixxQkFBQUQsU0FBQSxHQUdBLElBQUEsSUFBQUUsRUFBQSxFQUFBQSxHQUFBUCxFQUFBTyxJQUNBaEQsRUFBQVcsVUFBQXFDLEdBQUFoQyxHQUFBZ0MsRUFBQSxFQU1BWixLQUtBcEMsRUFBQWlELGtCQUFBLFdBRUEsSUFBQVIsRUFBQXpDLEVBQUFXLFVBQUEyQixPQUNBWSxFQUFBVCxFQUFBLEVBR0EsRUFBQUEsR0FBQXpDLEVBQUFXLFVBQUF3QyxPQUFBRCxFQUFBLEdBR0EsR0FBQVQsSUFBQXpDLEVBQUF2QyxNQUFBc0YscUJBQUFELFNBQUEsR0FHQTlDLEVBQUF2QyxNQUFBb0YsZUFBQUMsU0FBQSxFQUdBLEdBQUFMLElBQUF6QyxFQUFBWSxNQUFBMkIsVUFBQSxHQUVBSCxLQU1BcEMsRUFBQW9ELGVBQUEsU0FBQXBDLEdBRUEsSUFDQWtDLEVBQUFsQyxFQUFBLEVBR0EsRUFKQWhCLEVBQUFXLFVBQUEyQixRQUlBdEMsRUFBQVcsVUFBQXdDLE9BQUFELEVBQUEsR0FHQSxJQUFBLElBQUFGLEVBQUEsRUFBQUEsR0FBQWhELEVBQUFXLFVBQUEyQixPQUFBLEVBQUFVLElBQ0FoRCxFQUFBVyxVQUFBcUMsR0FBQWhDLEdBQUFnQyxFQUFBLEVBR0FaLEtBSUFwQyxFQUFBcUQsaUJBQUEsYUFRQXJELEVBQUFzRCxnQkFBQSxTQUFBQyxHQUVBLElBQUFDLEVBQUEsRUFPQSxPQUpBYixPQUFBYyxLQUFBRixHQUFBRyxRQUFBLFNBQUFDLEdBQ0FKLEVBQUFJLEdBQUFuQyxVQUFBZ0MsTUFHQUEsR0FHQXhELEVBQUE0RCxtQkFBQSxXQUlBNUQsRUFBQVcsVUFBQStDLFFBQUEsU0FBQUcsR0FHQTdELEVBQUFPLFFBQUFtRCxRQUFBLFNBQUF2QyxHQUVBQSxFQUFBSSxNQUFBc0MsRUFBQTFDLFNBQ0EwQyxFQUFBNUMsTUFBQUUsRUFBQUgsR0FFQTZDLEVBQUE3QyxHQUFBLEVBQUE2QyxFQUFBM0MsUUFBQUMsRUFBQTJDLFdBQUEsR0FBQTlDLEdBQ0E2QyxFQUFBM0MsUUFBQUMsRUFBQTJDLFdBQUEsR0FBQTlDLFFBT0FsRCxRQUFBQyxJQUFBaUMsRUFBQVcsWUFJQVgsRUFBQStELGdCQUFBLFNBQUEvQyxHQUVBaEIsRUFBQVcsVUFBQUssR0FBQWtCLGlCQUFBLEdBTUFTLE9BQUFjLEtBQUF6RCxFQUFBVyxVQUFBSyxHQUFBSyxVQUFBcUMsUUFBQSxTQUFBQyxHQUVBM0QsRUFBQVcsVUFBQUssR0FBQUssU0FBQXNDLEdBQUFuQyxVQUNBeEIsRUFBQVcsVUFBQUssR0FBQWtCLGlCQUFBUSxLQUFBMUMsRUFBQVcsVUFBQUssR0FBQUssU0FBQXNDLEdBQUFwQyxTQVFBdkIsRUFBQVcsVUFBQStCLEtBQUFDLE9BQUFDLE9BQUE3QixJQUVBcUIsSUFHQSxPQXJNQXJDLEVBQUFmLFFBQUEsQ0FBQSxTQUFBLE9BQUEsa0JBQUEsZUFBQSxpQkFxTUFmLEVDdk5BLFNBQUErRixrREFFQSxJQUFBL0YsRUFBQSxDQUNBQyxTQUFBLE9BQ0ErRixTQUFBLHFCQUNBN0YsU0FBQSxFQUNBQyxNQUFBLEdBQ0FDLEtBQUFDLEVBQ0FDLFdBQUEwRixFQUNBeEYsYUFBQSxLQUNBQyxrQkFBQSxHQUlBLFNBQUFKLEVBQUFGLEVBQUFPLEVBQUFDLEVBQUFDLElBS0EsU0FBQW9GLEVBQUFqSCxFQUFBQyxFQUFBaUgsR0FFQXBGLEtBRUFxRixTQUFBRCxFQU9BLE9BZEFELEVBQUFsRixRQUFBLENBQUEsU0FBQSxPQUFBLGVBY0FmLEVDOUJBLFNBQUFvRyw0REFFQSxJQUFBcEcsRUFBQSxDQUNBQyxTQUFBLE9BQ0FDLFlBQUEsK0JBQ0FDLFNBQUEsRUFDQUMsTUFBQSxDQUNBaUcsUUFBQSxLQUVBaEcsS0FBQUMsRUFDQUMsV0FBQStGLEVBQ0E3RixhQUFBLEtBQ0FDLGtCQUFBLEdBSUEsU0FBQUosRUFBQUYsRUFBQU8sRUFBQUMsRUFBQUMsSUFLQSxTQUFBeUYsRUFBQXRILEVBQUFDLEVBQUFHLEVBQUFDLEVBQUFrSCxHQUVBLElBQUF4RSxFQUFBakIsS0FHQWlCLEVBQUF4QyxTQUFBSCxFQUNBMkMsRUFBQXZDLE1BQUFILEVBQ0FRLFFBQUFDLElBQUEsa0NBQUF5RyxHQUVBeEUsRUFBQXlFLFNBQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUFBQyxFQUFBSixFQUFBSyxrQkFBQUgsR0FBQUMsR0FLQTNFLEVBQUF2QyxNQUFBNEcsbUJBQUFLLEdBQUFJLE1BQUEsY0FGQUYsSUFDQTVFLEVBQUF2QyxNQUFBNEcsbUJBQUFLLEdBQUFJLE1BQUEsYUFBQSxLQUdBOUUsRUFBQXZDLE1BQUE0RyxtQkFBQUssR0FBQUksTUFBQSxhQUFBLEdBUUFoSCxRQUFBQyxJQUFBMkcsRUFBQSxhQUFBRSxJQUlBNUUsRUFBQStFLHFCQUFBLFdBQ0EvRSxFQUFBdkMsTUFBQXVILHVCQUNBaEYsRUFBQXhDLFNBQUFRLGVBQUFpSCxPQUFBakYsRUFBQXhDLFNBQUEwSCxvQkFBQUQsT0FDQWpGLEVBQUF4QyxTQUFBUSxlQUFBbUgsSUFBQW5GLEVBQUF4QyxTQUFBMEgsb0JBQUFDLElBQ0FuRixFQUFBeEMsU0FBQVEsZUFBQW9ILEtBQUFwRixFQUFBeEMsU0FBQTBILG9CQUFBRSxLQUNBcEYsRUFBQXhDLFNBQUFRLGVBQUFQLE1BQUF1QyxFQUFBeEMsU0FBQTBILG9CQUFBekgsUUFPQSxPQTVDQThHLEVBQUF2RixRQUFBLENBQUEsU0FBQSxPQUFBLGtCQUFBLGVBQUEscUJBNENBZixFQzlEQSxTQUFBb0gsc0RBRUEsSUFBQXBILEVBQUEsQ0FDQUMsU0FBQSxPQUNBQyxZQUFBLHlCQUNBQyxTQUFBLEVBQ0FDLE1BQUEsR0FFQUMsS0FBQUMsRUFDQUMsV0FBQThHLEVBQ0E1RyxhQUFBLEtBQ0FDLGtCQUFBLEdBSUEsU0FBQUosRUFBQUYsRUFBQU8sRUFBQUMsRUFBQUMsSUFNQSxTQUFBd0csRUFBQXJJLEVBQUFDLEVBQUFDLEVBQUFHLEVBQUFELEVBQUFtSCxFQUFBcEgsRUFBQUcsR0FFQXdCLEtBR0F0QixNQUFBSCxFQUhBeUIsS0FJQXZCLFNBQUFILEVBSkEwQixLQUtBMEYsU0FBQUQsRUFMQXpGLEtBTUF3RyxPQUFBaEksRUFzQkEsT0FqQ0ErSCxFQUFBdEcsUUFBQSxDQUFBLFNBQUEsT0FBQSxZQUFBLGVBQUEsa0JBQUEsb0JBQUEsb0JBQUEsaUJBaUNBZixFQzVDQSxTQUFBdUgsT0FBQUMsRUFBQUMsR0FDQUEsRUFBQUMsV0FBQSxJQUNBRixFQUVBRyxLQUFBLElBQUEsQ0FDQXpILFlBQUEsdUJBQ0FLLFdBQUEsaUJBQ0FFLGFBQUEsT0FFQWtILEtBQUEsNkJBQUEsQ0FDQXpILFlBQUEsb0JBQ0FLLFdBQUEsb0JBQ0FFLGFBQUEsT0FFQW1ILFVBQUEsQ0FDQUMsV0FBQSxNQ25CQSxTQUFBQyx1QkFNQSxNQUpBLEdDRkEsU0FBQUMsYUFBQUMsR0FFQSxJQUFBQyxFQUFBLENBQ0FDLFVBQUEsRUFDQUMsVUFBQSxFQUNBQyxXQUFBLEVBQ0FsSSxZQUFBLHNCQUdBbUksRUFBQSxDQUNBQyxnQkFBQSxRQUNBQyxpQkFBQSxLQUNBQyxXQUFBLFdBQ0FDLFNBQUEsd0JBR0EzSCxLQUFBNEgsVUFBQSxTQUFBQyxFQUFBQyxHQUdBLE9BRkFELElBQUFBLEVBQUEsSUFDQUEsRUFBQVQsU0FBQSxTQUNBcEgsS0FBQStILEtBQUFGLEVBQUFDLElBR0E5SCxLQUFBK0gsS0FBQSxTQUFBRixFQUFBQyxHQUVBLElBQUFFLEVBQUEsR0FDQUMsRUFBQSxHQW9CQSxPQWpCQWxLLFFBQUFtSyxPQUFBRixFQUFBYixFQUFBVSxHQUdBOUosUUFBQW1LLE9BQUFELEVBQUFWLEVBQUFPLEdBRUFFLEVBQUF2SSxhQUNBdUksRUFBQXZJLFdBQUEsU0FBQXZCLEVBQUFpSyxHQUNBakssRUFBQXFKLGFBQUFVLEVBQ0EvSixFQUFBcUosYUFBQWEsR0FBQSxTQUFBQyxHQUNBRixFQUFBRyxNQUFBRCxJQUVBbkssRUFBQXFKLGFBQUFlLE1BQUEsU0FBQUQsR0FDQUYsRUFBQUksUUFBQSxhQUtBQyxPQUFBQyxLQUFBVCxHQUFBSyxRQzdDQSxTQUFBSyxjQUFBQyxHQThFQSxNQTVFQSxDQUNBQyxXQVFBLFNBQUFDLEVBQUFDLEdBSUEsT0FBQSxJQUFBQyxRQUFBLFNBQUFDLEVBQUFDLEdBRUFOLEVBQUEsQ0FDQU8sT0FBQSxPQUNBTCxJQUFBQSxFQUNBTSxRQUFBLENBQ0FDLGVBQUEsb0JBRUFOLEtBQUFBLElBQ0F4SCxLQUFBLFNBQUErSCxHQUVBdEssUUFBQUMsSUFBQSxvQkFBQXFLLEdBQ0FMLEVBQUFLLEVBQUFQLE9BRUEsU0FBQVEsR0FDQUwsRUFBQUssUUExQkFDLElBQUEsQ0FDQUMsU0ErQkEsV0FPQSxPQUFBLElBQUFULFFBQUEsU0FBQUMsRUFBQUMsR0FFQU4sRUFBQSxDQUNBTyxPQUFBLE1BQ0FMLElBQUEsa0JBQ0F2SCxLQUFBLFNBQUErSCxHQUVBdEssUUFBQUMsSUFBQSxvQkFBQXFLLEdBQ0FMLEVBQUFLLEVBQUFQLE9BRUEsU0FBQVEsR0FDQUwsRUFBQUssUUFoREFHLGFBcURBLFdBR0EsT0FBQSxJQUFBVixRQUFBLFNBQUFDLEVBQUFDLEdBRUFOLEVBQUEsQ0FDQU8sT0FBQSxNQUNBTCxJQUFBLHFCQUNBdkgsS0FBQSxTQUFBK0gsR0FFQXRLLFFBQUFDLElBQUEsb0JBQUFxSyxHQUNBTCxFQUFBSyxFQUFBUCxPQUVBLFNBQUFRLEdBQ0FMLEVBQUFLLFVDekVBLFNBQUE5SyxjQUFBa0wsRUFBQXRMLEVBQUFzSyxFQUFBcEssR0FFQSxJQUFBMkMsRUFBQWpCLEtBWUEsU0FBQTJKLEVBQUFDLEdBR0F0TCxFQUFBdUwsS0FBQUQsTUFBQUEsRUFHQWxCLEVBQUFFLFdBSkEsbUJBSUF0SyxHQUNBZ0QsS0FBQSxTQUFBQyxHQUVBLElBQUF1SSxFQUFBLFlBQUF2SSxFQUFBdUgsS0FHQS9KLFFBQUFDLElBQUEscUJBQUE4SyxHQUdBMUwsRUFBQTJMLEtBQUFELEdBQ0FKLEVBQUFqSSxXQUVBQyxNQUFBLFNBQUFDLEdBQ0E1QyxRQUFBQyxJQUFBLFNBQUEyQyxLQXVJQSxNQXBLQSxDQUNBZ0kscUJBQUFBLEVBQ0FLLFdBZ0NBLFdBQ0FqTCxRQUFBQyxJQUFBLG1CQUNBaUMsRUFBQWdKLFlBQUFDLG9CQWpDQTlJLFNBQUEsQ0FDQUMsWUFtQ0EsV0FFQSxPQUFBLElBQUEwSCxRQUFBLFNBQUFDLEVBQUFDLEdBRUFQLEVBQUFhLElBQUFFLGVBQ0FuSSxLQUFBLFNBQUFDLEdBQ0F5SCxFQUFBekgsS0FDQUcsTUFBQSxTQUFBQyxHQUNBc0gsRUFBQXRILFNBekNBaEQsS0FnREEsV0FHQStKLEVBQUFhLElBQUFDLFdBQ0FsSSxLQUFBLFNBQUE2SSxHQUVBbEosRUFBQWdKLFlBQUEsSUFBQUcsY0FBQSxDQUNBQyxjQUFBRixFQUFBbEksR0FDQXFJLFdBQUEsV0FDQUMsWUFBQSxDQUNBLENBQ0FDLFNBQUEsT0FDQUMsUUFBQSxXQUNBQyxnQkFBQSxnQkFHQUMsV0FBQSxDQUNBQyxVQUFBLGlCQUNBQyxZQUFBLHVCQUVBQyxJQUFBLENBQ0FGLFVBQUEsU0FDQUMsWUFBQSxPQUVBRSxlQUFBLENBQ0FILFVBQUEscUJBQ0FDLFlBQUEsU0FFQUcsV0FBQSxDQUNBSixVQUFBLGtCQUVBSyxVQUFBLENBSUFDLDBCQUFBLFNBQUFDLEVBQUF2QixFQUFBd0IsR0FDQUQsR0FDQXBNLFFBQUFDLElBQUEsc0JBQUFtTSxHQUNBbEssRUFBQW9LLFlBQUFGLEVBQ0FsSyxFQUFBcUssY0FBQSxJQUtBckssRUFBQW9LLFlBQUEsR0FLQTFCLEVBQUFDLEtBaUJBMkIsMkJBQUEsYUFNQUMsbUJBQUEsU0FBQUMsR0FDQUEsRUFBQUMsV0FzQkFDLGtCQUFBLGdCQVFBMUssRUFBQWdKLFlBQUEyQixVQUNBbEssTUFBQSxTQUFBNEgsR0FDQXZLLFFBQUFDLElBQUFzSyxPQ25LQSxTQUFBL0ssYUFBQUQsR0F3SkEsTUF0SkEsQ0FDQTJILHNCQUFBLEVBQ0FsRixpQkFBQSxDQUNBK0MsZUFBQSxDQUNBcEIsUUFBQSxDQUNBbUosS0FBQSxFQUNBQyxlQUFBLEVBQ0FDLGVBQUEsR0FFQWhJLFNBQUEsR0FFQUMscUJBQUEsQ0FDQXRCLFFBQUEsQ0FDQW1KLEtBQUEsRUFDQUMsZUFBQSxFQUNBQyxlQUFBLEVBQ0FDLGNBQUEsR0FFQWpJLFNBQUEsR0FFQWtJLFlBQUEsQ0FDQUMsTUFBQSxrQkFHQUMsWUFBQSxDQUNBQyxVQUFBLENBQ0ExSixRQUFBLENBQ0EySixnQkFBQSxFQUNBQyxZQUFBLEVBQ0FDLGNBQUEsR0FFQUMsV0FBQSxFQUNBM0csU0FBQSxFQUNBNEcsV0FBQSxJQUdBdkwsVUFBQSxDQUNBQyxZQUFBLEVBQ0F1TCxZQUFBLEdBRUFDLGtCQUFBLENBQ0E1TCxrQkFBQSxFQUNBNkwsdUJBQUEsRUFDQVQsYUFBQSxFQUNBTyxZQUFBLEdBRUFHLGtCQUFBLENBQ0E5TCxrQkFBQSxFQUNBNkwsdUJBQUEsRUFDQVQsYUFBQSxFQUNBTyxZQUFBLEdBRUFJLGVBQUEsQ0FDQS9MLGlCQUFBLENBQ0FnTSxXQUFBLEVBQ0FDLGVBQUEsR0FFQUosc0JBQUEsQ0FDQUcsV0FBQSxFQUNBQyxlQUFBLEdBRUFiLFlBQUEsQ0FDQVksV0FBQSxFQUNBQyxlQUFBLEdBRUFOLFdBQUEsQ0FDQUssV0FBQSxFQUNBQyxlQUFBLElBR0FDLGlCQTJEQSxXQUVBLElBQUFoTSxFQUFBakIsS0FDQWtOLEdBQUEsRUFHQXRKLE9BQUFjLEtBQUF6RCxFQUFBNEwsbUJBQUFsSSxRQUFBLFNBQUFDLEdBQ0EsR0FBQTNELEVBQUE0TCxrQkFBQWpJLEtBQUFzSSxHQUFBLEtBTUFqTSxFQUFBa00sY0FBQSxpQkFIQUQsR0FDQUUsb0JBQUEsRUFDQW5NLEVBQUFrTSxjQUFBLGdCQUFBLEdBQ0EsSUFFQUMsb0JBQUEsRUFDQW5NLEVBQUFrTSxjQUFBLGdCQUFBLEdBQ0EsSUEzRUFDLG9CQUFBLEVBQ0FELGNBQUEsQ0FDQXRCLEtBQUEsRUFDQXdCLGFBQUEsRUFDQXZCLGVBQUEsRUFDQXdCLGlCQUFBLEdBRUFoSSxtQkFBQSxDQUNBWSxPQUFBLENBQ0FQLE1BQUEsQ0FDQTRILGlCQUFBLEVBQ0FDLG9CQUFBLEdBRUF6SCxNQUFBLENBQ0F1RyxZQUFBLEVBQ0FDLGNBQUEsSUFHQW5HLElBQUEsQ0FDQVQsTUFBQSxDQUNBNEgsaUJBQUEsRUFDQUMsb0JBQUEsR0FFQXpILE1BQUEsQ0FDQXVHLFlBQUEsRUFDQUMsY0FBQSxJQUdBbEcsS0FBQSxDQUNBVixNQUFBLENBQ0E0SCxpQkFBQSxFQUNBQyxvQkFBQSxHQUVBekgsTUFBQSxDQUNBdUcsWUFBQSxFQUNBQyxjQUFBLElBR0E3TixNQUFBLENBQ0FpSCxNQUFBLENBQ0E0SCxpQkFBQSxFQUNBQyxvQkFBQSxHQUVBekgsTUFBQSxDQUNBdUcsWUFBQSxFQUNBQyxjQUFBLE1DdEhBLFNBQUFsTyxrQkFBQXNLLEdBRUEzSSxLQUVBeU4sT0FBQSxTQUFBaFAsR0FFQSxPQUFBLElBQUFzSyxRQUFBLFNBQUFDLEVBQUFDLEdBRUFOLEVBQUEsQ0FDQU8sT0FBQSxPQUNBTCxJQUFBLHVDQUNBTSxRQUFBLENBQ0FDLGVBQUEsb0JBRUFOLEtBQUFySyxJQUNBNkMsS0FBQSxTQUFBK0gsR0FFQXRLLFFBQUFDLElBQUEsb0JBQUFxSyxHQUNBTCxFQUFBSyxJQUVBLFNBQUFDLEdBQ0FMLEVBQUFLLFFDckJBLFNBQUFoTCxrQkEyQ0EsTUF6Q0EsQ0FDQWtFLEtBQUEsQ0FDQWtMLE1BQUEsR0FDQUMsS0FBQSxJQUVBQyxRQUFBLENBQ0FDLE1BQUEsR0FDQUMsTUFBQSxJQUVBM0gsb0JBQUEsQ0FDQUQsT0FBQSxHQUNBRyxLQUFBLEdBQ0EzSCxNQUFBLEdBQ0EwSCxJQUFBLElBRUFuSCxlQUFBLENBQ0FpSCxPQUFBLEdBQ0FHLEtBQUEsR0FDQTNILE1BQUEsR0FDQTBILElBQUEsSUFFQXlELEtBQUEsQ0FLQUQsTUFBQSxHQUNBbUUsTUFBQSxHQUNBQyxLQUFBLElBRUFDLFFBQUEsR0FDQUMsVUFBQSxHQUNBck0sTUFBQSxHQUNBRSxPQUFBLENBQ0F5QixVQUFBLEVBQ0EySyxTQUFBLEVBQ0E3SyxNQUFBLEdBRUE4SyxlQUFBLEdDeENBLFNBQUEzSSxrQkFBQWxILEVBQUFELEdBcURBLE1BbkRBLENBQ0F3SCxrQkFBQSxDQUNBSSxPQU1BLFNBQUFtSSxHQUNBLElBQUF4SSxHQUFBLEVBRUE5RyxRQUFBQyxJQUFBLGdCQUFBcVAsRUFBQTlLLFFBRUEsRUFBQThLLEVBQUE5SyxTQUFBc0MsR0FBQSxHQUVBLE9BQUFBLEdBWkFPLElBZ0JBLFNBQUFpSSxHQVNBLE1BQUEsNEJBQUFDLEtBQUFELEtBdkJBRSxhQTJCQSxXQUNBeFAsUUFBQUMsSUFBQSxtQ0FFQVQsRUFBQW9PLGtCQUFBRCxZQUFBLEVBR0FuTyxFQUFBc08sa0JBQUFILFdBQUFwTyxFQUFBOFAsY0FHQTdQLEVBQUFzTyxrQkFBQUgsWUFDQW5PLEVBQUF1TyxlQUFBSixXQUFBSyxXQUFBLEVBQ0F4TyxFQUFBdU8sZUFBQUosV0FBQU0sZUFBQSxJQUVBek8sRUFBQXVPLGVBQUFKLFdBQUFLLFdBQUEsRUFDQXhPLEVBQUF1TyxlQUFBSixXQUFBTSxlQUFBLEtDaERBLFNBQUE1SCxjQUVBcEYsS0FPQXdPLFdBQUEsU0FBQTFGLEdBRUFBLEVBQUEyRixVQUNBMVAsUUFBQUMsSUFBQThKLEVBQUEyRixXQUVBLFNBQUEzRixJQUdBNEYsVUFBQUMsS0FBQSxzQkFBQUMsSUFBQTlGLEVBQUF6QyxNQUNBcUksVUFBQUMsS0FBQSx1QkFBQUMsSUFBQTlGLEVBQUFwSyxTQWhCQXNCLEtBcUJBNk8sU0FBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFFLFVBQUEsRUFBQSxHQUVBLEdBQUFELEVBQUF4TCxRQUFBLFdBQUErSyxLQUFBUyxJQUVBaFEsUUFBQUMsSUFBQSxlQUFBK1AsSW5CbENBaFIsUUFBQUMsT0FBQSxTQUFBeUIsV0FBQSxpQkFBQXhCLGdCQUVBQSxlQUFBZ0MsUUFBQSxDQUFBLFNBQUEsT0FBQSxZQUFBLG9CQUFBLGtCQUFBLGVBQUEsaUJDRkFsQyxRQUFBQyxPQUFBLFNBQUF5QixXQUFBLG9CQUFBYixtQkFFQUEsa0JBQUFxQixRQUFBLENBQUEsU0FBQSxPQUFBLGdCQ0ZBbEMsUUFBQUMsT0FBQSxTQUFBa0IsVUFBQSxpQkFBQUQsZ0JDQUFsQixRQUFBQyxPQUFBLFNBQUFrQixVQUFBLGVBQUFnQixjQ0FBbkMsUUFBQUMsT0FBQSxTQUFBa0IsVUFBQSxlQUFBa0IsY0NBQXJDLFFBQUFDLE9BQUEsU0FBQWtCLFVBQUEscUJBQUFvQixvQkNBQXZDLFFBQUFDLE9BQUEsU0FBQWtCLFVBQUEsbUJBQUE2QixrQkNBQWhELFFBQUFDLE9BQUEsU0FBQWtCLFVBQUEsV0FBQStGLFVDQUFsSCxRQUFBQyxPQUFBLFNBQUFrQixVQUFBLHFCQUFBb0csb0JDQUF2SCxRQUFBQyxPQUFBLFNBQUFrQixVQUFBLGVBQUFvSCxjQ0tBdkksUUFDQUMsT0FBQSxTQUNBeUksT0FBQUEsUUNQQTFJLFFBQUFDLE9BQUEsU0FBQWlSLFFBQUEsdUJBQUFqSSxzQkFHQUEscUJBQUEvRyxRQUFBLEdDSEFsQyxRQUFBQyxPQUFBLFNBQUFpUixRQUFBLGVBQUFoSSxjQUdBQSxhQUFBaEgsUUFBQSxDQUFBLGFDSEFsQyxRQUFBQyxPQUFBLFNBQUFpUixRQUFBLGdCQUFBdkcsZUFHQUEsY0FBQXpJLFFBQUEsQ0FBQSxTQ0hBbEMsUUFBQUMsT0FBQSxTQUFBaVIsUUFBQSxnQkFBQXpRLGVBR0FBLGNBQUF5QixRQUFBLENBQUEsYUFBQSxZQUFBLGdCQUFBLG1CQ0hBbEMsUUFBQUMsT0FBQSxTQUFBaVIsUUFBQSxlQUFBMVEsY0FHQUEsYUFBQTBCLFFBQUEsQ0FBQSxtQkNIQWxDLFFBQUFDLE9BQUEsU0FBQWlSLFFBQUEsb0JBQUE1USxtQkFHQUEsa0JBQUE0QixRQUFBLENBQUEsU0NIQWxDLFFBQUFDLE9BQUEsU0FBQWlSLFFBQUEsa0JBQUEzUSxpQkFHQUEsZ0JBQUEyQixRQUFBLEdDSEFsQyxRQUFBQyxPQUFBLFNBQUFpUixRQUFBLG9CQUFBeEosbUJBR0FBLGtCQUFBeEYsUUFBQSxDQUFBLGVBQUEsbUJDSEFsQyxRQUFBQyxPQUFBLFNBQUFpUixRQUFBLGNBQUE3SixhQUdBQSxZQUFBbkYsUUFBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL2RlZmluZSB0aGUgbW9kdWxlXG5cbnZhciBhaE51dHMgPSBhbmd1bGFyLm1vZHVsZSgnYW5zdWInLCBbJ25nUm91dGUnLCAndWkuYm9vdHN0cmFwJ10pOyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmNvbnRyb2xsZXIoJ21haW5Db250cm9sbGVyJywgbWFpbkNvbnRyb2xsZXIpO1xuXG5cdG1haW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRsb2cnLCAnJGxvY2F0aW9uJywgJ3N1Ym1pc3Npb25TZXJ2aWNlJywgJ3VzZXJEYXRhU2VydmljZScsICdzdGF0ZVNlcnZpY2UnLCAnc3F1YXJlU2VydmljZSddO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBtYWluQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgc3VibWlzc2lvblNlcnZpY2UsIHVzZXJEYXRhU2VydmljZSwgc3RhdGVTZXJ2aWNlLCBzcXVhcmVTZXJ2aWNlKSB7XG5cdFx0Ly9ub3RpZnkgcHJvZ3Jlc3NcblxuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdC8vZGVmaW5lIHVzZXJkYXRhIG1vZGVsIHZhcmlhYmxlXG5cdFx0JHNjb3BlLnVzZXJEYXRhID0gdXNlckRhdGFTZXJ2aWNlO1xuXHRcdCRzY29wZS5zdGF0ZSA9IHN0YXRlU2VydmljZTtcblxuXHRcdHNxdWFyZVNlcnZpY2UuaW5pdCgpO1xuXHRcdFxuXHRcdC8qdmFyIHJlY2lwaWFudFByb2ZpbGUgPSB7XG5cdFx0XHRuYW1lOiB7XG5cdFx0XHRcdGZpcnN0OiBcIlwiLFxuXHRcdFx0XHRsYXN0OiBcIlwiXG5cdFx0XHR9LFxuXHRcdFx0YWRkcmVzczoge1xuXHRcdFx0XHRzdHJlZXQxOiBcIlwiLFxuXHRcdFx0XHRzdHJlZXQyOiBcIlwiLFxuXHRcdFx0XHRzdHJlZXQzOiBcIlwiLFxuXHRcdFx0XHRjaXR5OiBcIlwiLFxuXHRcdFx0XHRzdGF0ZTogXCJcIixcblx0XHRcdFx0emlwOiBcIlwiXG5cdFx0XHR9LFxuXHRcdFx0Y29udGFjdDoge30sXG5cdFx0XHRyZWxhdGlvbnNoaXA6IFwiXCJcblx0XHR9O1xuXG5cdFx0dmFyIHNoaXBwaW5nU2NoZWR1bGVzID0ge1xuXHRcdFx0XCJ5ZWFybHlcIjogW1xuXHRcdFx0XHR7IGlkOiAxLCBuYW1lOiBcIlRyZWF0XCIsIHNoaXBEYXk6IFwiXCIsIGJpbGxEYXk6IFwiXCIgfVxuXHRcdFx0XSxcblx0XHRcdFwicXVhcnRlcmx5XCI6IFtcblx0XHRcdFx0eyBpZDogMSwgbmFtZTogXCJXaW50ZXJcIiwgc2hpcERheTogXCJcIiwgYmlsbERheTogXCJcIiB9LFxuXHRcdFx0XHR7IGlkOiAyLCBuYW1lOiBcIlNwcmluZ1wiLCBzaGlwRGF5OiBcIlwiLCBiaWxsRGF5OiBcIlwiIH0sXG5cdFx0XHRcdHsgaWQ6IDMsIG5hbWU6IFwiU3VtbWVyXCIsIHNoaXBEYXk6IFwiXCIsIGJpbGxEYXk6IFwiXCIgfSxcblx0XHRcdFx0eyBpZDogNCwgbmFtZTogXCJGYWxsXCIsIHNoaXBEYXk6IFwiXCIsIGJpbGxEYXk6IFwiXCIgfVxuXHRcdFx0XSxcblx0XHRcdFwibW9udGhseVwiOiBbXG5cdFx0XHRcdHsgaWQ6IDEsIG5hbWU6IFwiSmFudWFyeVwiLCBzaGlwRGF5OiBcIjNyZFwiLCBiaWxsRGF5OiBcIjFzdFwiIH0sXG5cdFx0XHRcdHsgaWQ6IDIsIG5hbWU6IFwiRmVicnVhcnlcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiAzLCBuYW1lOiBcIk1hcmNoXCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogNCwgbmFtZTogXCJBcHJpbFwiLCBzaGlwRGF5OiBcIjNyZFwiLCBiaWxsRGF5OiBcIjFzdFwiIH0sXG5cdFx0XHRcdHsgaWQ6IDUsIG5hbWU6IFwiTWF5XCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogNiwgbmFtZTogXCJKdW5lXCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogNywgbmFtZTogXCJKdWx5XCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfSxcblx0XHRcdFx0eyBpZDogOCwgbmFtZTogXCJBdWd1c3RcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiA5LCBuYW1lOiBcIlNlcHRlbWJlclwiLCBzaGlwRGF5OiBcIjNyZFwiLCBiaWxsRGF5OiBcIjFzdFwiIH0sXG5cdFx0XHRcdHsgaWQ6IDEwLCBuYW1lOiBcIk9jdG9iZXJcIiwgc2hpcERheTogXCIzcmRcIiwgYmlsbERheTogXCIxc3RcIiB9LFxuXHRcdFx0XHR7IGlkOiAxMSwgbmFtZTogXCJOb3ZlbWJlclwiLCBzaGlwRGF5OiBcIjNyZFwiLCBiaWxsRGF5OiBcIjFzdFwiIH0sXG5cdFx0XHRcdHsgaWQ6IDEyLCBuYW1lOiBcIkRlY2VtYmVyXCIsIHNoaXBEYXk6IFwiM3JkXCIsIGJpbGxEYXk6IFwiMXN0XCIgfVxuXHRcdFx0XSxcblx0XHRcdFwid2Vla2x5XCI6IHdlZWtseUdlbmVyYXRvcigpXG5cblx0XHR9XG5cdFx0XG5cdFx0dmFyIHNoaXBwaW5nT2NjdXJhbmNlID0ge1xuXHRcdFx0aWQ6IDAsXG5cdFx0XHRuYW1lOiBcIlwiLFxuXHRcdFx0ZGF0ZTogXCJcIlxuXHRcdH07XG5cblx0XHRmdW5jdGlvbiB3ZWVrbHlHZW5lcmF0b3IoKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHZhciBhbGxXZWVrcyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGkgPSAxOyBpIDw9IDUyOyBpKyspIHtcblx0XHRcdFx0dmFyIHdlZWtOYW1lID0gXCJXZWVrIFwiICsgaTtcblx0XHRcdFx0YWxsV2Vla3MucHVzaCh7IGlkOiBpLCBuYW1lOiB3ZWVrTmFtZSwgc2hpcERheTogXCJUdWVzZGF5XCIsIGJpbGxEYXk6IFwiRnJpZGF5XCIgfSk7XG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4gYWxsV2Vla3M7XG5cdFx0fTsqL1xuXG5cdFx0Ly9kZWZpbmUgZmxhdm9yIHZhcmlhYmxlc1xuXHRcdC8qJHNjb3BlLmZsYXZvcnM9IFtcblx0XHRcdHsgbmFtZTogJ1NlY3JldCBSZWNpcGUgUGVjYW5zJywgZGVzY3JpcHRpb246IFwiIFwiIH0sXG5cdFx0XHR7IG5hbWU6ICdTZWNyZXQgUmVjaXBlIEFsbW9uZHMnLCBkZXNjcmlwdGlvbjogXCIgXCIgfSxcblx0XHRcdHsgbmFtZTogJ1NlY3JldCBSZWNpcGUgQ2FzaGV3cycsIGRlc2NyaXB0aW9uOiBcIiBcIiB9LFxuXHRcdFx0eyBuYW1lOiAnU2VjcmV0IFJlY2lwZSBQZWFudXRzJywgZGVzY3JpcHRpb246IFwiIFwiIH0sXG5cdFx0XHR7IG5hbWU6ICdDaW5uYW1vbiBQZWNhbnMnLCBkZXNjcmlwdGlvbjogXCIgXCIgfSxcblx0XHRcdHsgbmFtZTogJ0Npbm5hbW9uIEFsbW9uZHMnLCBkZXNjcmlwdGlvbjogXCIgXCIgfSxcblx0XHRcdHsgbmFtZTogJ0RydW5rZW4gUGVjYW5zJywgZGVzY3JpcHRpb246IFwiIFwiIH0sXG5cdFx0XHR7IG5hbWU6ICdNaXgtSXQtVXAnLCBkZXNjcmlwdGlvbjogXCIgXCIgfVxuXHRcdF07XG5cblx0XHQkc2NvcGUub3JkZXJTY2hlZHVsZSA9IFtcblx0XHRcdHsgaWQ6IDEgfVxuXHRcdF07Ki9cblxuXHRcdFxuXG5cdFx0Ly9kZWZpbmUgc3RhdGUgdmFyaWFibGVzXG5cdFx0Lyokc2NvcGUuc3RhdGUgPSB7XG5cdFx0XHR0ZW1wUmVjaXBpYW50OiB7XG5cdFx0XHRcdG5hbWU6IHtcblx0XHRcdFx0XHRmaXJzdDogXCJcIixcblx0XHRcdFx0XHRsYXN0OiBcIlwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0XHRzdHJlZXQxOiBcIlwiLFxuXHRcdFx0XHRcdHN0cmVldDI6IFwiXCIsXG5cdFx0XHRcdFx0c3RyZWV0MzogXCJcIixcblx0XHRcdFx0XHRjaXR5OiBcIlwiLFxuXHRcdFx0XHRcdHN0YXRlOiBcIlwiLFxuXHRcdFx0XHRcdHppcDogXCJcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb250YWN0OiB7XG5cdFx0XHRcdFx0ZW1haWw6IFwiXCIsXG5cdFx0XHRcdFx0cGhvbmU6IFwiXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0cmVsYXRpb25zaGlwOiBcIlwiXG5cdFx0XHR9LFxuXHRcdFx0b3JkZXI6IHtcblx0XHRcdFx0cXR5OiBcIjFcIixcblx0XHRcdFx0dmlzaWJpbGl0eToge1xuXHRcdFx0XHRcdG9uZTogdHJ1ZSxcblx0XHRcdFx0XHR0d286IGZhbHNlLFxuXHRcdFx0XHRcdHRocmVlOiBmYWxzZSxcblx0XHRcdFx0XHRmb3VyOiBmYWxzZSxcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGZyZXF1ZW5jeToge1xuXHRcdFx0XHR2YWx1ZTogJ21vbnRobHknXG5cdFx0XHR9LFxuXHRcdFx0c2hpcHBpbmdEZXN0aW5hdGlvbnM6IFwiMVwiLFxuXHRcdFx0cmVjaXBpZW50c0JveDogXCIxXCIsXG5cdFx0XHRyZWNpcGlhbnRTZWxlY3RlZDoge1xuXHRcdFx0XHRzdGF0ZTogZmFsc2UsXG5cdFx0XHRcdGlkOiBcIlwiXG5cdFx0XHR9LFxuXHRcdFx0c3ViVHlwZToge30sXG5cdFx0XHRzZWxlY3RlZFJlY2lwaWFudDogMCxcblx0XHRcdGVycm9yczoge1xuXHRcdFx0XHRtaXNzaW5nUmVxdWlyZWQ6IGZhbHNlXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0JHNjb3BlLnN0YXRlVGVzdCA9IHN0YXRlU2VydmljZVxuXG5cdFx0Ly9sb2NhbCBmdW5jdGlvbnNcblx0XHRmdW5jdGlvbiBhZGRUb1JlY2lwaWFudExpc3QocmVsYXRpb25zaGlwKSB7XG5cdFx0XHRcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIG5ld1JlY2lwaWFudCA9IE9iamVjdC5jcmVhdGUocmVjaXBpYW50UHJvZmlsZSk7XG5cdFx0XHR2YXIgZXhpc3RzQWxyZWFkeSA9IGZhbHNlO1xuXHRcdFx0dmFyIGVudHJ5SW5kZXggPSAwO1xuXHRcdFx0dmFyIGkgPSAwO1xuXG5cdFx0XHQvLzEuIGNoZWNrIGZvciB0aGUgcmVsYXRpb25zaGlwXG5cdFx0XHQkc2NvcGUudXNlckRhdGEucmVjaXBpYW50TGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHJlY2lwaWFudCkge1xuXHRcdFx0XHRpZihyZWNpcGlhbnQucmVsYXRpb25zaGlwID09IHJlbGF0aW9uc2hpcCkge1xuXHRcdFx0XHRcdGV4aXN0c0FscmVhZHkgPSB0cnVlO1xuXHRcdFx0XHRcdGVudHJ5SW5kZXggPSBpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRpKys7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnYWRkaW5nJywgcmVsYXRpb25zaGlwLCAndG8gcmVjaXBpYW50IGxpc3QnLCAkc2NvcGUudXNlckRhdGEucmVjaXBpYW50TGlzdCwgXCJhbHJlYWR5IEV4aXN0cz9cIiwgZXhpc3RzQWxyZWFkeSk7XG5cblx0XHRcdC8vaWYgcmVsYXRpb25zaGlwIGRvZXNuJ3QgZXhpc3QgeWV0LCBhZGQgaXRcblx0XHRcdGlmKCFleGlzdHNBbHJlYWR5KSB7XG5cdFx0XHRcdG5ld1JlY2lwaWFudC5yZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXA7XG5cdFx0XHRcdCRzY29wZS51c2VyRGF0YS5yZWNpcGlhbnRMaXN0LnB1c2gobmV3UmVjaXBpYW50KTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly9yZXR1cm4gcmVzdWx0XG5cdFx0XHRyZXR1cm4gZW50cnlJbmRleDtcblx0XHR9O1xuXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlRnJvbVJlY2lwaWFudExpc3QocmVsYXRpb25zaGlwKSB7XG5cdFx0XHRcblx0XHRcdC8vY29uc29sZS5sb2coJ3JlbW92aW5nJywgcmVsYXRpb25zaGlwLCAndG8gcmVjaXBpYW50IGxpc3QnKTtcblxuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibHNcblx0XHRcdHZhciBpID0gMDtcblxuXHRcdFx0Ly9pdGVyYXRlIHRocm91Z2ggYXJyYXlcblx0XHRcdCRzY29wZS51c2VyRGF0YS5yZWNpcGlhbnRMaXN0LmZvckVhY2goZnVuY3Rpb24ocmVjaXBpYW50KSB7XG5cdFx0XHRcdGlmKHJlY2lwaWFudC5yZWxhdGlvbnNoaXAgPT0gcmVsYXRpb25zaGlwKSB7XG5cdFx0XHRcdFx0JHNjb3BlLnVzZXJEYXRhLnJlY2lwaWFudExpc3Quc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGkrKztcblx0XHRcdH0pO1xuXG5cdFx0XHQvL3JldHVybiByZXN1bHRcblx0XHRcdHJldHVybiAwO1xuXHRcdH07XG5cblx0XHRmdW5jdGlvbiBzZWxlY3RSZWNpcGlhbnQoaW5kZXgpIHtcblxuXHRcdFx0JHNjb3BlLnN0YXRlLnNlbGVjdGVkUmVjaXBpYW50ID0gaW5kZXg7XG5cdFx0fTtcblxuXHRcdC8vdmlldyBtb2RlbCBmdW5jdGlvbnNcblx0XHQvL1VQREFURSBPUkRFUiBWSVNJQklMSVRZXG5cdFx0JHNjb3BlLnVwZGF0ZU9yZGVyVmlzaWJsaXR5ID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhbGVzXG5cdFx0XHR2YXIgaGFzaCA9IHtcIm9uZVwiOiAxLCBcInR3b1wiOiAyLCBcInRocmVlXCI6IDMsIFwiZm91clwiOiA0fTtcblx0XHRcdFx0XG5cdFx0XHQvL2l0ZXJhdGUgdGhyb3VnaCB2YWx1ZXNcblx0XHRcdE9iamVjdC5rZXlzKCRzY29wZS5zdGF0ZS5vcmRlci52aXNpYmlsaXR5KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XHRpZihoYXNoW2tleV0gPD0gdmFsdWUpICRzY29wZS5zdGF0ZS5vcmRlci52aXNpYmlsaXR5W2tleV0gPSB0cnVlXG5cdFx0XHRcdFx0ZWxzZSAkc2NvcGUuc3RhdGUub3JkZXIudmlzaWJpbGl0eVtrZXldID0gZmFsc2Vcblx0XHRcdH0pO1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdjaGVja2luZyB2YWx1ZXMnLCB2YWx1ZSwgJHNjb3BlLnN0YXRlLm9yZGVyLnZpc2liaWxpdHkpO1xuXHRcdFx0XG5cdFx0fTtcblxuXHRcdC8vVVBEQVRFIEZSRVFVRU5DWVxuXHRcdCRzY29wZS51cGRhdGVGcmVxdWVuY3kgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0JHNjb3BlLnVzZXJEYXRhLnNoaXBwaW5nU2NoZWR1bGUgPSBzaGlwcGluZ1NjaGVkdWxlc1t2YWx1ZV07XG5cdFx0fTtcblxuXHRcdC8vVVBEQVRFIE9SREVSIFNDSEVEVUxFXG5cdFx0JHNjb3BlLnVwZGF0ZU9yZGVyU2NoZWR1bGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0fVxuXG5cdFx0Ly9VUERBVEUgVEhFIFNVQlNDUklQVElPTiBUWVBFXG5cdFx0JHNjb3BlLnVwZGF0ZVN1YlR5cGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgdXBkYXRlSW5kZXggPSAwO1xuXHRcdFx0JHNjb3BlLnVzZXJEYXRhLnN1YlR5cGUgPSB2YWx1ZTtcblxuXHRcdFx0aWYodmFsdWU9PVwibXlzZWxmXCIpIHtcblx0XHRcdFx0Ly8kc2NvcGUuc3RhdGUucmVjaXBpZW50c0JveCA9IFwiMTBcIjtcblx0XHRcdFx0YWRkVG9SZWNpcGlhbnRMaXN0KFwiTXlzZWxmXCIpO1xuXHRcdFx0XHRyZW1vdmVGcm9tUmVjaXBpYW50TGlzdChcIlNvbWVvbmVcIik7XG5cdFx0XHRcdHNlbGVjdFJlY2lwaWFudCgwKTtcblx0XHRcdH0gZWxzZSBpZih2YWx1ZT09XCJvdGhlcnNcIikge1xuXHRcdFx0XHQvLyRzY29wZS5zdGF0ZS5yZWNpcGllbnRzQm94ID0gXCIxMFwiO1xuXHRcdFx0XHR1cGRhdGVJbmRleCA9IGFkZFRvUmVjaXBpYW50TGlzdChcIlNvbWVvbmVcIik7XG5cdFx0XHRcdHJlbW92ZUZyb21SZWNpcGlhbnRMaXN0KFwiTXlzZWxmXCIpO1xuXHRcdFx0XHRzZWxlY3RSZWNpcGlhbnQoMCk7XG5cdFx0XHR9IGVsc2UgaWYodmFsdWU9PVwiYm90aFwiKSB7XG5cdFx0XHRcdC8vJHNjb3BlLnN0YXRlLnJlY2lwaWVudHNCb3ggPSBcIjEwXCI7XG5cdFx0XHRcdHVwZGF0ZUluZGV4ID0gYWRkVG9SZWNpcGlhbnRMaXN0KFwiTXlzZWxmXCIpO1xuXHRcdFx0XHRhZGRUb1JlY2lwaWFudExpc3QoXCJTb21lb25lXCIpO1xuXHRcdFx0XHRzZWxlY3RSZWNpcGlhbnQoMCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdCRzY29wZS5zZWxlY3RSZWNpcGlhbnQgPSBmdW5jdGlvbihpbmRleCkge1xuXHRcdFx0c2VsZWN0UmVjaXBpYW50KGluZGV4KTtcblx0XHRcdCRzY29wZS5zdGF0ZS50ZW1wUmVjaXBpYW50ID0gJHNjb3BlLnVzZXJEYXRhLnJlY2lwaWFudExpc3RbaW5kZXhdO1xuXHRcdH07XG5cblx0XHQkc2NvcGUudXBkYXRlUmVjaXBpYW50VmFsdWVzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXggPSAkc2NvcGUuc3RhdGUuc2VsZWN0ZWRSZWNpcGlhbnQ7XG5cdFx0XHQkc2NvcGUudXNlckRhdGEucmVjaXBpYW50TGlzdFtpbmRleF0gPSAkc2NvcGUuc3RhdGUudGVtcFJlY2lwaWFudDtcblx0XHR9OyovXG5cdFx0XG5cdH07IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuY29udHJvbGxlcignc3VjY2Vzc0NvbnRyb2xsZXInLCBzdWNjZXNzQ29udHJvbGxlcik7XG5cbnN1Y2Nlc3NDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRsb2cnLCAnJHJvdXRlUGFyYW1zJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3VjY2Vzc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkcm91dGVQYXJhbXMpIHtcblx0XG5cblx0Ly9kZWZpbmUgbG9jYWwgdmFyYWlibGVzXG5cdCRzY29wZS5jb25maXJtYXRpb25Db2RlID0gJHJvdXRlUGFyYW1zLmNvbmZpcm1hdGlvbkNvZGU7XG5cblx0Ly9ub3RpZnkgcHJvZ3Jlc3Ncblx0Y29uc29sZS5sb2coJ3N1Y2Nlc3MgY29udHJvbGVyJywgJHJvdXRlUGFyYW1zLmNvbmZpcm1hdGlvbkNvZGUsICRzY29wZS5jb25maXJtYXRpb25Db2RlKTtcbn07IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuZGlyZWN0aXZlKCdiaWxsaW5nQWRkcmVzcycsIGJpbGxpbmdBZGRyZXNzKTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gYmlsbGluZ0FkZHJlc3MoKSB7XG5cdFx0Ly9kZWZpbmUgdGhlIGRpcmVjdGl2ZVxuXHRcdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0XHRyZXN0cmljdDogXCJBRUNNXCIsXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2JpbGxpbmdBZGRyZXNzLmh0bScsXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdFx0c2NvcGU6IHt9LFxuXHRcdFx0bGluazogbGlua0Z1bmMsXG5cdFx0XHRjb250cm9sbGVyOiBiaWxsaW5nQWRkcmVzc0NvbnRyb2xsZXIsXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdFx0fTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge31cblx0XHRcblx0XHRiaWxsaW5nQWRkcmVzc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAndXNlckRhdGFTZXJ2aWNlJywgJ3N0YXRlU2VydmljZSddO1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gYmlsbGluZ0FkZHJlc3NDb250cm9sbGVyKCRzY29wZSwgJGxvZywgdXNlckRhdGFTZXJ2aWNlLCBzdGF0ZVNlcnZpY2UpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQvL2RlZmluZSB2aWV3bW9kZWwgdmFsdWVzXG5cdFx0XHRzZWxmLnVzZXJEYXRhID0gdXNlckRhdGFTZXJ2aWNlO1xuXHRcdFx0c2VsZi5zdGF0ZSA9IHN0YXRlU2VydmljZTtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gYmlsbGluZyBBRGRyZXNzIGNvbnRyb2xsZXInLCBzZWxmLnN0YXRlLnNoaXBpbmdTYW1lQXNCaWxsaW5nKTtcblxuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ2JpbGxpbmdJbnB1dCcsIGJpbGxpbmdJbnB1dCk7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGJpbGxpbmdJbnB1dCgpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvYmlsbGluZ0lucHV0Lmh0bScsXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdFx0c2NvcGU6IHt9LFxuXHRcdFx0bGluazogbGlua0Z1bmMsXG5cdFx0XHRjb250cm9sbGVyOiBiaWxsaW5nSW5wdXRDb250cm9sbGVyLFxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHRcdH07XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHt9XG5cdFx0XG5cdFx0YmlsbGluZ0lucHV0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICd1c2VyRGF0YVNlcnZpY2UnLCAnc3RhdGVTZXJ2aWNlJ107XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBiaWxsaW5nSW5wdXRDb250cm9sbGVyKCRzY29wZSwgJGxvZywgdXNlckRhdGFTZXJ2aWNlLCBzdGF0ZVNlcnZpY2UpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIHZtID0gdGhpcztcblxuXHRcdFx0Ly9kZWZpbmUgdmlld21vZGVsIHZhbHVlc1xuXHRcdFx0dm0udXNlckRhdGEgPSB1c2VyRGF0YVNlcnZpY2U7XG5cdFx0XHR2bS5zdGF0ZSA9IHN0YXRlU2VydmljZTtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gY29udGFjdElucHV0dENvbnRyb2xsZXInKTtcblxuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ2NvbnRhY3RJbnB1dCcsIGNvbnRhY3RJbnB1dCk7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGNvbnRhY3RJbnB1dCgpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvY29udGFjdElucHV0Lmh0bScsXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdFx0c2NvcGU6IHt9LFxuXHRcdFx0bGluazogbGlua0Z1bmMsXG5cdFx0XHRjb250cm9sbGVyOiBjb250YWN0SW5wdXR0Q29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7fVxuXHRcdFxuXHRcdGNvbnRhY3RJbnB1dHRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3VzZXJEYXRhU2VydmljZScsICdzdGF0ZVNlcnZpY2UnXTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIGNvbnRhY3RJbnB1dHRDb250cm9sbGVyKCRzY29wZSwgJGxvZywgdXNlckRhdGFTZXJ2aWNlLCBzdGF0ZVNlcnZpY2UpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQvL2RlZmluZSB2aWV3bW9kZWwgdmFsdWVzXG5cdFx0XHRzZWxmLnVzZXJEYXRhID0gdXNlckRhdGFTZXJ2aWNlO1xuXHRcdFx0c2VsZi5zdGF0ZSA9IHN0YXRlU2VydmljZTtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gY29udGFjdElucHV0dENvbnRyb2xsZXInKTtcblxuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ2ZyZXF1ZW5jeVNlbGVjdGlvbicsIGZyZXF1ZW5jeVNlbGVjdGlvbik7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGZyZXF1ZW5jeVNlbGVjdGlvbigpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZnJlcXVlbmN5U2VsZWN0aW9uLmh0bScsXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdFx0c2NvcGU6IHt9LFxuXHRcdFx0bGluazogbGlua0Z1bmMsXG5cdFx0XHRjb250cm9sbGVyOiBmcmVxdWVuY3lTZWxlY3Rpb25Db250cm9sbGVyLFxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHRcdH07XG5cblx0XHQvKiBAbmdJbmplY3QgKi9cblx0XHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHt9XG5cdFx0XG5cdFx0ZnJlcXVlbmN5U2VsZWN0aW9uQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gZnJlcXVlbmN5U2VsZWN0aW9uQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlc1xuXHRcdFx0c2VsZi5mcmVxdWVuY2llcyA9IFtcblx0XHRcdFx0XCJtb250aFwiLFxuXHRcdFx0XHRcInF1YXJ0ZXJcIixcblx0XHRcdFx0XCJ5ZWFyXCJcblx0XHRcdF07XG5cblx0XHRcdHNlbGYuc3RhcnRzID0ge1xuXHRcdFx0XHRtb250aDogW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl0sXG5cdFx0XHRcdHF1YXJ0ZXI6IFtcIldpbnRlclwiLCBcIlNwcmluZ1wiLCBcIlN1bW1lclwiLCBcIkZhbGxcIl0sXG5cdFx0XHRcdHllYXI6IFtcIjIwMThcIiwgXCIyMDE5XCIsIFwiMjAyMFwiXVxuXHRcdFx0fVxuXG5cdFx0XHRzZWxmLnNlbGVjdGVkRnJlcXVlbmN5ID0gJyc7XG5cdFx0XHRzZWxmLnN0YXJ0c0luID0gJyc7XG5cblx0XHRcdC8vY29uc29sZS5sb2coJ2luIGZyZXF1ZW5jeVNlbGVjdGlvbkNvbnRyb2xsZXInKTtcblxuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5kaXJlY3RpdmUoJ3Byb2R1Y3RTZWxlY3Rpb24nLCBwcm9kdWN0U2VsZWN0aW9uKTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gcHJvZHVjdFNlbGVjdGlvbigpIHtcblx0XHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvcHJvZHVjdFNlbGVjdGlvbi5odG0nLFxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRcdHNjb3BlOiB7XG5cdFx0XHR9LFxuXHRcdFx0bGluazogbGlua0Z1bmMsXG5cdFx0XHRjb250cm9sbGVyOiBwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cdFx0fVxuXHRcdFxuXHRcdHByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3VzZXJEYXRhU2VydmljZScsICdzdGF0ZVNlcnZpY2UnLCAnc3F1YXJlU2VydmljZSddO1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gcHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCB1c2VyRGF0YVNlcnZpY2UsIHN0YXRlU2VydmljZSwgc3F1YXJlU2VydmljZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdFx0XHRzZWxmLnVzZXJEYXRhID0gdXNlckRhdGFTZXJ2aWNlO1xuXHRcdFx0c2VsZi5zdGF0ZSA9IHN0YXRlU2VydmljZS5wcm9kdWN0U2VsZWN0aW9uO1xuXHRcdFx0c2VsZi5zdGF0ZVsnaW5mb0JveCddID0gc3RhdGVTZXJ2aWNlLmluZm9Cb3hlcy5mbGF2b3JEZWZzO1xuXG5cdFx0XHQvLyBkb25sb2FkIHJlc291cmNlc1xuXHRcdFx0c3F1YXJlU2VydmljZS5kb3dubG9hZC5wcm9kdWN0TGlzdCgpXG5cdFx0XHQudGhlbihmdW5jdGlvbiBzdWNjZXNzKHMpe1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdnb3QgdGhpcyBwcm9kdWN0IGxpc3QnLCBzKTtcblx0XHRcdFx0c2VsZi5mbGF2b3JzID0gcztcblx0XHRcdFx0JHNjb3BlLiRhcHBseSgpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZygncHJvZHVjdCBsaXN0IGVycm9yLCAnLCBlKTtcblx0XHRcdH0pO1xuXG5cblxuXHRcdFx0c2VsZi5vcmRlckxpc3QgPSB1c2VyRGF0YVNlcnZpY2Uub3JkZXI7XG5cblx0XHRcdHNlbGYucHJvZHVjdFByaWNlID0gMTY5OTtcblxuXHRcdFx0c2VsZi5vcmRlciA9IHVzZXJEYXRhU2VydmljZS50ZW5kZXI7XG5cblxuXHRcdFx0dmFyIHByb2R1Y3RPYmplY3QgPSB7IFxuXHRcdFx0XHRpZDogMSwgXG5cdFx0XHRcdHNxcklkOiBcIlwiLFxuXHRcdFx0XHRzcVZhcklkOiBcIlwiLFxuXHRcdFx0XHRmbGF2b3I6IFwiXCIsIFxuXHRcdFx0XHRtaXhmbHZyQ291bnQ6IDAsXG5cdFx0XHRcdG1peGZsdnJzOiB7XG5cdFx0XHRcdFx0c3JwZWM6IHsgaWQ6IFwic3JwZWNcIiwgbmFtZTogXCJTUiBQZWNhbnNcIiwgc2VsZWN0ZWQ6ZmFsc2UsIGNsYXNzZXM6e1wibGlzdC1ncm91cC1pdGVtXCI6IHRydWUsIFwiYWN0aXZlXCI6IGZhbHNlfSB9LFxuXHRcdFx0XHRcdHNyYWxtOiB7IGlkOiBcInNyYWxtXCIsIG5hbWU6IFwiU1IgQWxtb25kc1wiLCBzZWxlY3RlZDpmYWxzZSwgY2xhc3Nlczp7XCJsaXN0LWdyb3VwLWl0ZW1cIjogdHJ1ZSwgXCJhY3RpdmVcIjogZmFsc2V9ICB9LFxuXHRcdFx0XHRcdHNyY3NoOiB7IGlkOiBcInNyY3NoXCIsIG5hbWU6IFwiU1IgQ2FzaGV3c1wiLCBzZWxlY3RlZDpmYWxzZSwgY2xhc3Nlczp7XCJsaXN0LWdyb3VwLWl0ZW1cIjogdHJ1ZSwgXCJhY3RpdmVcIjogZmFsc2V9ICB9LFxuXHRcdFx0XHRcdHNycGVhOiB7IGlkOiBcInNycGVhXCIsIG5hbWU6IFwiU1IgUGVhbnV0c1wiLCBzZWxlY3RlZDpmYWxzZSwgY2xhc3Nlczp7XCJsaXN0LWdyb3VwLWl0ZW1cIjogdHJ1ZSwgXCJhY3RpdmVcIjogZmFsc2V9ICB9LFxuXHRcdFx0XHRcdGNucGVjOiB7IGlkOiBcImNucGVjXCIsIG5hbWU6IFwiQ2luIFBlY2Fuc1wiLCBzZWxlY3RlZDpmYWxzZSwgY2xhc3Nlczp7XCJsaXN0LWdyb3VwLWl0ZW1cIjogdHJ1ZSwgXCJhY3RpdmVcIjogZmFsc2V9ICB9LFxuXHRcdFx0XHRcdGNuYWxtOiB7IGlkOiBcImNuYWxtXCIsIG5hbWU6IFwiQ2luIEFsbW9uZHNcIiwgc2VsZWN0ZWQ6ZmFsc2UsIGNsYXNzZXM6e1wibGlzdC1ncm91cC1pdGVtXCI6IHRydWUsIFwiYWN0aXZlXCI6IGZhbHNlfSAgfSxcblx0XHRcdFx0XHRkcnBlYzogeyBpZDogXCJkcnBlY1wiLCBuYW1lOiBcIkRydW5rIFBlY2Fuc1wiLCBzZWxlY3RlZDpmYWxzZSwgY2xhc3Nlczp7XCJsaXN0LWdyb3VwLWl0ZW1cIjogdHJ1ZSwgXCJhY3RpdmVcIjogZmFsc2V9ICB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdG1peEZsdnJzU2VsZWN0ZWQ6IFtdLFxuXHRcdFx0XHRtaXg6IFwiXCJcblx0XHRcdH07XG5cblx0XHRcdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVzXG5cblx0XHRcdC8vY29uc29sZS5sb2coJ2luIHByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyJyk7XG5cblx0XHRcdC8vZGVmaW5lIGxvY2FsIGZ1bmN0aW9uc1xuXHRcdFx0ZnVuY3Rpb24gc3VtT3JkZXIoKSB7XG5cblx0XHRcdFx0c2VsZi5vcmRlci50b3RhbCA9IChzZWxmLm9yZGVyTGlzdC5sZW5ndGggKiBzZWxmLnByb2R1Y3RQcmljZSkgLSBzZWxmLm9yZGVyLmRpc2NvdW50cztcblx0XHRcdFx0aWYoc2VsZi5vcmRlckxpc3QubGVuZ3RoID09IDQpIHNlbGYub3JkZXIudG90YWwgPSBzZWxmLm9yZGVyLnRvdGFsIC0gc2VsZi5wcm9kdWN0UHJpY2U7XG5cdFx0XHR9O1xuXG5cdFx0XHQvL2RlZmluZSB2aWV3IG1vZGVsIGZ1bmN0aW9uc1xuXHRcdFx0Ly9BREQgQSBQUk9EVUNUIEJVVFRPTlxuXHRcdFx0c2VsZi5hZGRBUHJvZHVjdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJlbHNcblx0XHRcdFx0dmFyIG5vT2ZQcm9kdWN0cyA9IHNlbGYub3JkZXJMaXN0Lmxlbmd0aDtcblxuXHRcdFx0XHQvL2lmIHRoZXJlIGlzIHJvb20gYWRkIGFub3RoZXIgcHJvZHVjdFxuXHRcdFx0XHRpZihub09mUHJvZHVjdHMgPCA0KSBzZWxmLm9yZGVyTGlzdC5wdXNoKE9iamVjdC5jcmVhdGUocHJvZHVjdE9iamVjdCkpO1xuXG5cdFx0XHRcdC8vaWYgdGhpcyBpcyB0aGUgbGFzdCBhdmFpbGFibGUgc2xvdCBoaWRlIHRoZSBhZGQgYnV0dG9uXG5cdFx0XHRcdGlmKG5vT2ZQcm9kdWN0cyA9PSAzKSBzZWxmLnN0YXRlLmFkZEFQcm9kdWN0QnRuLnZpc2libGUgPSBmYWxzZTtcblxuXHRcdFx0XHQvL2lmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgcHJvZHVjdCBhZGQgdGhlIHJlbW92ZSBidXR0b25cblx0XHRcdFx0aWYobm9PZlByb2R1Y3RzID4gMCkgc2VsZi5zdGF0ZS5yZW1vdmVMYXN0UHJvZHVjdEJ0bi52aXNpYmxlID0gdHJ1ZTtcblxuXHRcdFx0XHQvL21ha2Ugc3VyZSB0aGUgaWQncyBhcmUgY29ycmVjdFxuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDw9IG5vT2ZQcm9kdWN0czsgaSsrKSB7XG5cdFx0XHRcdFx0c2VsZi5vcmRlckxpc3RbaV0uaWQgPSBpICsgMVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9jYWxjdWxhdGUgbW9uZXlcblx0XHRcdFx0Ly9pZihub09mUHJvZHVjdHMgPT0gMykgc2VsZi5vcmRlci5kaXNjb3VudHMgPSBzZWxmLnByb2R1Y3RQcmljZTtcblxuXHRcdFx0XHRzdW1PcmRlcigpO1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdhZGRpbmcgYSBwcm9kdWN0Jyk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvL1JFTU9WRSBMQVNUIFBST0RVQ1QgQlVUVE9OXG5cdFx0XHRzZWxmLnJlbW92ZUxhc3RQcm9kdWN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0XHR2YXIgbm9PZlByb2R1Y3RzID0gc2VsZi5vcmRlckxpc3QubGVuZ3RoO1xuXHRcdFx0XHR2YXIgcmVtb3ZlSW5kZXggPSBub09mUHJvZHVjdHMgLSAxO1xuXG5cdFx0XHRcdC8vaWYgdGhlcmUgYXJlIGF0IGxlYXN0IHR3byBwcm9kdWN0cywgcmVtb3ZlIG9uZVxuXHRcdFx0XHRpZihub09mUHJvZHVjdHMgPiAxKSBzZWxmLm9yZGVyTGlzdC5zcGxpY2UocmVtb3ZlSW5kZXgsIDEpO1xuXG5cdFx0XHRcdC8vaWYgZG93biB0byBvbmUgaXRlbSwgaGlkZSB0aGUgcmVtb3ZlIGJ1dHRvblxuXHRcdFx0XHRpZihub09mUHJvZHVjdHMgPT0gMikgc2VsZi5zdGF0ZS5yZW1vdmVMYXN0UHJvZHVjdEJ0bi52aXNpYmxlID0gZmFsc2U7XG5cblx0XHRcdFx0Ly9icmluZyB0aGUgYWRkIGJ1dHRvbiBiYWNrXG5cdFx0XHRcdHNlbGYuc3RhdGUuYWRkQVByb2R1Y3RCdG4udmlzaWJsZSA9IHRydWU7XG5cblx0XHRcdFx0Ly9jYWxjdWxhdGUgbW9uZXlcblx0XHRcdFx0aWYobm9PZlByb2R1Y3RzID09IDQpIHNlbGYub3JkZXIuZGlzY291bnRzID0gMDtcblxuXHRcdFx0XHRzdW1PcmRlcigpO1xuXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ3JlbW92aW5nIHByb2R1Y3QnLCBub09mUHJvZHVjdHMpO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly9SRU1PVkUgQSBQUk9EVUNUIEJVVFRPTlxuXHRcdFx0c2VsZi5yZW1vdmVBUHJvZHVjdCA9IGZ1bmN0aW9uKGlkKSB7XG5cdFx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0XHR2YXIgbm9PZlByb2R1Y3RzID0gc2VsZi5vcmRlckxpc3QubGVuZ3RoO1xuXHRcdFx0XHR2YXIgcmVtb3ZlSW5kZXggPSBpZCAtIDE7XG5cblx0XHRcdFx0Ly9pZiB0aGVyZSBhcmUgYXQgbGVhc3QgdHdvIHByb2R1Y3RzLCByZW1vdmUgb25lXG5cdFx0XHRcdGlmKG5vT2ZQcm9kdWN0cyA+IDEpIHNlbGYub3JkZXJMaXN0LnNwbGljZShyZW1vdmVJbmRleCwgMSk7XG5cblx0XHRcdFx0Ly9tYWtlIHN1cmUgdGhlIGlkJ3MgYXJlIGNvcnJlY3Rcblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8PSAoc2VsZi5vcmRlckxpc3QubGVuZ3RoIC0gMSk7IGkrKykge1xuXHRcdFx0XHRcdHNlbGYub3JkZXJMaXN0W2ldLmlkID0gaSArIDFcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHN1bU9yZGVyKCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vVkFMSURBVEUgVEhFIFBST0RVQ1RTIFdIRU4gQ0hBTkdFRFxuXHRcdFx0c2VsZi52YWxpZGF0ZVByb2R1Y3RzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciB2YWxpZCA9IGZhbHNlO1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKFwidmFsaWRhdGVpbmcgcHJvZHVjdHNcIik7XG5cblx0XHRcdFx0aWYodmFsaWQpIHNlbGYuc3RhdGUuaGVhZGVyU3R5bGUuY29sb3IgPSBcInJnYigwLDE2NSwxMjgpXCJcblx0XHRcdH1cblxuXHRcdFx0Ly9cblx0XHRcdHNlbGYuY291bnRNaXhGbGF2b3JzID0gZnVuY3Rpb24oZmxhdm9yT2JqZWN0KSB7XG5cdFx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFx0XHR2YXIgY291bnRlciA9IDA7XG5cblx0XHRcdFx0Ly9pdGVyYXRlIHRocm9ndWggb2JqZWN0XG5cdFx0XHRcdE9iamVjdC5rZXlzKGZsYXZvck9iamVjdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFx0XHRpZihmbGF2b3JPYmplY3Rba2V5XS5zZWxlY3RlZCkgY291bnRlcisrXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJldHVybiBjb3VudGVyO1xuXHRcdFx0fTtcblxuXHRcdFx0c2VsZi51cGRhdGVTaG9wcGluZ0NhcnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygndXBkYXRpbmcgc2hvcHBpbmcgY2FydCcpO1xuXHRcdFx0XHQvL3NlbGYudXNlckRhdGEub3JkZXIgPSBzZWxmLm9yZGVyTGlzdDtcblx0XHRcdFx0Ly9pdGVyYXRlIG92ZXIgcHJvZHVjdHNcblx0XHRcdFx0c2VsZi5vcmRlckxpc3QuZm9yRWFjaChmdW5jdGlvbihwcm9kdWN0KSB7XG5cblx0XHRcdFx0XHQvL2l0ZXJhdGUgb3ZlciBhbGwgZmxhdm9yc1xuXHRcdFx0XHRcdHNlbGYuZmxhdm9ycy5mb3JFYWNoKGZ1bmN0aW9uKGZsYXZvcikge1xuXHRcdFx0XHRcdFx0Ly9vbmx5IGlmIHRoZSBwcm9kdWN0IGlzIGEgbWF0Y2hcblx0XHRcdFx0XHRcdGlmKGZsYXZvci5uYW1lID09IHByb2R1Y3QuZmxhdm9yKSB7XG5cdFx0XHRcdFx0XHRcdHByb2R1Y3Quc3FySWQgPSBmbGF2b3IuaWQ7XG5cblx0XHRcdFx0XHRcdFx0aWYocHJvZHVjdC5pZCA8IDQpIHByb2R1Y3Quc3FWYXJJZCA9IGZsYXZvci52YXJpYXRpb25zWzBdLmlkXG5cdFx0XHRcdFx0XHRcdGVsc2UgcHJvZHVjdC5zcVZhcklkID0gZmxhdm9yLnZhcmlhdGlvbnNbMV0uaWRcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0pXG5cblxuXHRcdFx0XHRjb25zb2xlLmxvZyhzZWxmLm9yZGVyTGlzdCk7XG5cblx0XHRcdH07XG5cblx0XHRcdHNlbGYuYnVpbGRGbGF2b3JMaXN0ID0gZnVuY3Rpb24oaWQpIHtcblx0XHRcdFx0Ly9jbGVhbiB0aGUgbGlzdFxuXHRcdFx0XHRzZWxmLm9yZGVyTGlzdFtpZF0ubWl4Rmx2cnNTZWxlY3RlZCA9IFtdO1xuXG5cdFx0XHRcdC8vbm90aWZ5IHByb2dyZXNzXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ2J1aWxpZG5nIGEgZmxhdm9yIGxpc3QnLCBpZCwgc2VsZi5vcmRlckxpc3QpO1xuXG5cdFx0XHRcdC8vaXRyYXRlIHRocm91Z2ggZmxhdm9ycywgYWRkIHRvIGxpc3Qgd2hlbiB0cnVlXG5cdFx0XHRcdE9iamVjdC5rZXlzKHNlbGYub3JkZXJMaXN0W2lkXS5taXhmbHZycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuXHRcdFx0XHRcdGlmKHNlbGYub3JkZXJMaXN0W2lkXS5taXhmbHZyc1trZXldLnNlbGVjdGVkKVxuXHRcdFx0XHRcdFx0c2VsZi5vcmRlckxpc3RbaWRdLm1peEZsdnJzU2VsZWN0ZWQucHVzaChzZWxmLm9yZGVyTGlzdFtpZF0ubWl4Zmx2cnNba2V5XS5uYW1lKTtcblx0XHRcdFx0fSk7XG5cblxuXG5cdFx0XHR9O1xuXG5cdFx0XHQvL3N0YXJ0IHRoaXMgYnkgYWRkaW5nIGEgcHJvZHVjdCB0byB0aGUgb3JkZXIgbGlzdFxuXHRcdFx0c2VsZi5vcmRlckxpc3QucHVzaChPYmplY3QuY3JlYXRlKHByb2R1Y3RPYmplY3QpKTtcblxuXHRcdFx0c3VtT3JkZXIoKTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcdFx0XG5cdH07IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuZGlyZWN0aXZlKCdzaGlwRGVzdCcsIHNoaXBEZXN0KTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gc2hpcERlc3QoKSB7XG5cdFx0Ly9kZWZpbmUgdGhlIGRpcmVjdGl2ZVxuXHRcdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0XHRyZXN0cmljdDogXCJBRUNNXCIsXG5cdFx0XHR0ZW1wbGF0ZTogJzxkaXY+dGVzdGluZzwvZGl2PicsXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdFx0c2NvcGU6IHt9LFxuXHRcdFx0bGluazogbGlua0Z1bmMsXG5cdFx0XHRjb250cm9sbGVyOiBzaGlwRGVzdENvbnRyb2xsZXIsXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdFx0fTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge31cblx0XHRcblx0XHRzaGlwRGVzdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnemlwY29tcGxldGUnXTtcblxuXHRcdC8qIEBuZ0luamVjdCAqL1xuXHRcdGZ1bmN0aW9uIHNoaXBEZXN0Q29udHJvbGxlcigkc2NvcGUsICRsb2csIHppcGNvbXBsZXRlKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0c2VsZi56aXBDaGVjayA9IHppcGNvbXBsZXRlO1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdpbiBzaGlwRGVzdENvbnRyb2xsZXInKTtcblxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcblx0fSIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmRpcmVjdGl2ZSgnc2luZ2xlQWRkcmVzc0lucHV0Jywgc2luZ2xlQWRkcmVzc0lucHV0KTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gc2luZ2xlQWRkcmVzc0lucHV0KCkge1xuXHRcdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9zaW5nbGVBZGRyZXNzSW5wdXQuaHRtJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge1xuXHRcdFx0XHRhZGRyZXNzOiBcIj1cIlxuXHRcdFx0fSxcblx0XHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdFx0Y29udHJvbGxlcjogc2luZ2xlQWRkcmVzc0lucHV0Q29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7fVxuXHRcdFxuXHRcdHNpbmdsZUFkZHJlc3NJbnB1dENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAndXNlckRhdGFTZXJ2aWNlJywgJ3N0YXRlU2VydmljZScsICd2YWxpZGF0aW9uU2VydmljZSddO1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gc2luZ2xlQWRkcmVzc0lucHV0Q29udHJvbGxlcigkc2NvcGUsICRsb2csIHVzZXJEYXRhU2VydmljZSwgc3RhdGVTZXJ2aWNlLCB2YWxpZGF0aW9uU2VydmljZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vZGVmaW5lIHZpZXdtb2RlbCB2YWx1ZXNcblx0XHRcdHNlbGYudXNlckRhdGEgPSB1c2VyRGF0YVNlcnZpY2U7XG5cdFx0XHRzZWxmLnN0YXRlID0gc3RhdGVTZXJ2aWNlXG5cdFx0XHRjb25zb2xlLmxvZygnaW4gc2luZ2xlQWRkcmVzc0lucHV0Q29udHJvbGxlcicsIHZhbGlkYXRpb25TZXJ2aWNlKTtcblxuXHRcdFx0c2VsZi52YWxpZGF0ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xuXHRcdFx0XHR2YXIgaXNWYWxpZCA9IHZhbGlkYXRpb25TZXJ2aWNlLnBoeXNpY2FsQWRkcmVzc2VzW2ZpZWxkXSh2YWx1ZSk7XG5cblx0XHRcdFx0Ly9zZXQgaW5wdXQgdmFsdWVcblx0XHRcdFx0aWYoaXNWYWxpZCkge1xuXHRcdFx0XHRcdHNlbGYuc3RhdGUuc2luZ2xlQWRkcmVzc0lucHV0W2ZpZWxkXS5pbnB1dFsnaXMtdmFsaWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0c2VsZi5zdGF0ZS5zaW5nbGVBZGRyZXNzSW5wdXRbZmllbGRdLmlucHV0W1wiaXMtaW52YWxpZFwiXSA9IGZhbHNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlbGYuc3RhdGUuc2luZ2xlQWRkcmVzc0lucHV0W2ZpZWxkXS5pbnB1dFsnaXMtdmFsaWQnXSA9IGZhbHNlO1xuXHRcdFx0XHRcdHNlbGYuc3RhdGUuc2luZ2xlQWRkcmVzc0lucHV0W2ZpZWxkXS5pbnB1dFtcImlzLWludmFsaWRcIl0gPSB0cnVlO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vbWFyayBhcyB2YWxpZGF0ZWQgLy8gb25seSBhcHBsaWVzIGlmIHdlJ3JlIG5vdCBkb2luZyBmdXJ0aGVyIHZhbGlkYXRpb25cblx0XHRcdFx0Ly9zZWxmLnN0YXRlLnNpbmdsZUFkZHJlc3NJbnB1dFtmaWVsZF0uZmllbGRbJ3dhcy12YWxpZGF0ZWQnXSA9IHRydWU7XG5cdFx0XHRcdC8vc2VsZi5zdGF0ZS5zaW5nbGVBZGRyZXNzSW5wdXRbZmllbGRdLmZpZWxkW1wibmVlZHMtdmFsaWRhdGlvblwiXSA9IGZhbHNlO1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKGZpZWxkLCBcImlzIHZhbGlkPzpcIiwgaXNWYWxpZCk7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coc2VsZi5zdGF0ZS5zaW5nbGVBZGRyZXNzSW5wdXRbZmllbGRdKTtcblx0XHRcdH07XG5cdFx0XHRcblx0XHRcdHNlbGYudXBkYXRlQmlsbGluZ0FkZHJlc3MgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYoc2VsZi5zdGF0ZS5zaGlwaW5nU2FtZUFzQmlsbGluZykge1xuXHRcdFx0XHRcdHNlbGYudXNlckRhdGEuYmlsbGluZ0FkZHJlc3Muc3RyZWV0ID0gc2VsZi51c2VyRGF0YS5zaGlwcGluZ0Rlc3RpbmF0aW9uLnN0cmVldFxuXHRcdFx0XHRcdHNlbGYudXNlckRhdGEuYmlsbGluZ0FkZHJlc3MuemlwID0gc2VsZi51c2VyRGF0YS5zaGlwcGluZ0Rlc3RpbmF0aW9uLnppcFxuXHRcdFx0XHRcdHNlbGYudXNlckRhdGEuYmlsbGluZ0FkZHJlc3MuY2l0eSA9IHNlbGYudXNlckRhdGEuc2hpcHBpbmdEZXN0aW5hdGlvbi5jaXR5XG5cdFx0XHRcdFx0c2VsZi51c2VyRGF0YS5iaWxsaW5nQWRkcmVzcy5zdGF0ZSA9IHNlbGYudXNlckRhdGEuc2hpcHBpbmdEZXN0aW5hdGlvbi5zdGF0ZVxuXHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHR9O1xuXG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHRcdFxuXHR9OyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLmRpcmVjdGl2ZSgnc3ViVGVybXNDb25kJywgc3ViVGVybXNDb25kKTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gc3ViVGVybXNDb25kKCkge1xuXHRcdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9zdWJUZXJtc0NvbmQuaHRtJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHRzY29wZToge1xuXHRcdFx0fSxcblx0XHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdFx0Y29udHJvbGxlcjogc3ViVGVybXNDb25kQ29udHJvbGxlcixcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHR9O1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cdFx0fVxuXHRcdFxuXHRcdHN1YlRlcm1zQ29uZENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJGxvY2F0aW9uJywgJ3N0YXRlU2VydmljZScsICd1c2VyRGF0YVNlcnZpY2UnLCAndmFsaWRhdGlvblNlcnZpY2UnLCAnc3VibWlzc2lvblNlcnZpY2UnLCAnc3F1YXJlU2VydmljZSddO1xuXG5cdFx0LyogQG5nSW5qZWN0ICovXG5cdFx0ZnVuY3Rpb24gc3ViVGVybXNDb25kQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgc3RhdGVTZXJ2aWNlLCB1c2VyRGF0YVNlcnZpY2UsIHZhbGlkYXRpb25TZXJ2aWNlLCBzdWJtaXNzaW9uU2VydmljZSwgc3F1YXJlU2VydmljZSkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdFx0XHRzZWxmLnN0YXRlID0gc3RhdGVTZXJ2aWNlO1xuXHRcdFx0c2VsZi51c2VyRGF0YSA9IHVzZXJEYXRhU2VydmljZTtcblx0XHRcdHNlbGYudmFsaWRhdGUgPSB2YWxpZGF0aW9uU2VydmljZTtcblx0XHRcdHNlbGYuc3F1YXJlID0gc3F1YXJlU2VydmljZTtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnaW4gc3ViVGVybXNDb25kQ29udHJvbGxlcicpO1xuXHRcdFx0LypzZWxmLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnc3VibWl0dGlnIHRoZSBmb3JtJyk7XG5cblx0XHRcdFx0Ly9zdWJtaXQgdGhlIGZvcm1cblx0XHRcdFx0c3VibWlzc2lvblNlcnZpY2Uuc3VibWl0KHNlbGYudXNlckRhdGEpXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0XHRcdHZhciBuZXdQYXRoID0gJy9zdWNjZXNzLycgKyBzLmRhdGE7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIHBhdGggYmFjaycsIG5ld1BhdGgpXG5cdFx0XHRcdFx0JGxvY2F0aW9uLnBhdGgobmV3UGF0aCk7XG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseSgpO1xuXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCd0aGVyZSB3YXMgYW4gZXJyb3InLCBlKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9Ki9cblxuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1x0XHRcblx0fTsiLCIvKlxuKlx0Uk9VVEVTLUNPTkZJR1xuKlxuKlx0VGhpcyBtb2R1bGUgc2V0cyB1cCBhbGwgdGhlIHJlcXVpcmVkIGFuZ3VsYXIgcm91dGVzIGZvciB0aGlzIHdlYiBhcHAuXG4qL1xuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2Fuc3ViJylcbiAgICAuY29uZmlnKGNvbmZpZyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXHQkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTtcbiAgICAkcm91dGVQcm92aWRlclxuXHQvL1BVQkxJQyBST1VURVNcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9tb250aGx5U3ViLmh0bScsICAgICAgLy8ndmlld3MvbW9udGhseVN1Yi5odG0nXG4gICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcicsICAgICAgICAgICAvLydtYWluQ29udHJvbGxlcidcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL3N1Y2Nlc3MvOmNvbmZpcm1hdGlvbkNvZGUnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvc3VjY2Vzcy5odG0nLCAgICAgIC8vJ3ZpZXdzL3N1Y2Nlc3MuaHRtbCdcbiAgICAgICAgY29udHJvbGxlcjogJ3N1Y2Nlc3NDb250cm9sbGVyJywgICAgICAgICAgIC8vJ3N1Y2Nlc3MnXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG5cdC5vdGhlcndpc2Uoe1xuICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICB9KTtcbn1cblxuLypcbiogICBSRVFVSVJFRCBGVU5DVElPTlNcbipcbiovXG5cblxuIiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnZXJyb3JIYW5kbGluZ1NlcnZpY2UnLCBlcnJvckhhbmRsaW5nU2VydmljZSk7XG5cdFx0XG4vKiBAbmdJbmplY3QgKi9cbmVycm9ySGFuZGxpbmdTZXJ2aWNlLiRpbmplY3QgPSBbXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlcnJvckhhbmRsaW5nU2VydmljZSgpIHtcblx0Ly9kZWZpbmUgbG9jYWwgdmFyYWlibGVzXG5cdHZhciBlcnJvckhhbmRsaW5nID0ge1xuXHRcdFxuXHR9O1xuXG5cdHJldHVybiBlcnJvckhhbmRsaW5nO1xufTtcdCIsIlx0YW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnbW9kYWxTZXJ2aWNlJywgbW9kYWxTZXJ2aWNlKTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0bW9kYWxTZXJ2aWNlLiRpbmplY3QgPSBbJyR1aWJNb2RhbCddO1xuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBtb2RhbFNlcnZpY2UoJHVpYk1vZGFsKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIG1vZGFsRGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICAgICAgICAgIGtleWJvYXJkOiB0cnVlLFxuICAgICAgICAgICAgbW9kYWxGYWRlOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9tb2RhbC5odG0nXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG1vZGFsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uVGV4dDogJ0Nsb3NlJyxcbiAgICAgICAgICAgIGFjdGlvbkJ1dHRvblRleHQ6ICdPSycsXG4gICAgICAgICAgICBoZWFkZXJUZXh0OiAnUHJvY2VlZD8nLFxuICAgICAgICAgICAgYm9keVRleHQ6ICdQZXJmb3JtIHRoaXMgYWN0aW9uPydcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNob3dNb2RhbCA9IGZ1bmN0aW9uIChjdXN0b21Nb2RhbERlZmF1bHRzLCBjdXN0b21Nb2RhbE9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghY3VzdG9tTW9kYWxEZWZhdWx0cykgY3VzdG9tTW9kYWxEZWZhdWx0cyA9IHt9O1xuICAgICAgICAgICAgY3VzdG9tTW9kYWxEZWZhdWx0cy5iYWNrZHJvcCA9ICdzdGF0aWMnO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvdyhjdXN0b21Nb2RhbERlZmF1bHRzLCBjdXN0b21Nb2RhbE9wdGlvbnMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uIChjdXN0b21Nb2RhbERlZmF1bHRzLCBjdXN0b21Nb2RhbE9wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vQ3JlYXRlIHRlbXAgb2JqZWN0cyB0byB3b3JrIHdpdGggc2luY2Ugd2UncmUgaW4gYSBzaW5nbGV0b24gc2VydmljZVxuICAgICAgICAgICAgdmFyIHRlbXBNb2RhbERlZmF1bHRzID0ge307XG4gICAgICAgICAgICB2YXIgdGVtcE1vZGFsT3B0aW9ucyA9IHt9O1xuXG4gICAgICAgICAgICAvL01hcCBhbmd1bGFyLXVpIG1vZGFsIGN1c3RvbSBkZWZhdWx0cyB0byBtb2RhbCBkZWZhdWx0cyBkZWZpbmVkIGluIHNlcnZpY2VcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRlbXBNb2RhbERlZmF1bHRzLCBtb2RhbERlZmF1bHRzLCBjdXN0b21Nb2RhbERlZmF1bHRzKTtcblxuICAgICAgICAgICAgLy9NYXAgbW9kYWwuaHRtbCAkc2NvcGUgY3VzdG9tIHByb3BlcnRpZXMgdG8gZGVmYXVsdHMgZGVmaW5lZCBpbiBzZXJ2aWNlXG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0ZW1wTW9kYWxPcHRpb25zLCBtb2RhbE9wdGlvbnMsIGN1c3RvbU1vZGFsT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmICghdGVtcE1vZGFsRGVmYXVsdHMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHRlbXBNb2RhbERlZmF1bHRzLmNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubW9kYWxPcHRpb25zID0gdGVtcE1vZGFsT3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1vZGFsT3B0aW9ucy5vayA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmNsb3NlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RhbE9wdGlvbnMuY2xvc2UgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAkbW9kYWwub3Blbih0ZW1wTW9kYWxEZWZhdWx0cykucmVzdWx0O1xuICAgICAgICB9O1xuXHRcdFxuXHR9O1x0IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnc2VydmVyU2VydmljZScsIHNlcnZlclNlcnZpY2UpO1xuXHRcdFxuLyogQG5nSW5qZWN0ICovXG5zZXJ2ZXJTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VydmVyU2VydmljZSgkaHR0cCkge1xuXHQvL2RlZmluZSBsb2NhbCB2YXJhaWJsZXNcblx0dmFyIHNlcnZlclNlcnZpY2UgPSB7XG5cdFx0Y2hhcmdlQ2FyZDogY2hhcmdlQ2FyZCxcblx0XHRnZXQ6IHtcblx0XHRcdHNxckFwcElkOiBnZXRTcXJBcHBJZCxcblx0XHRcdHNxclByZGN0TGlzdDogZ2V0U3FyUHJkY3RMaXN0XG5cdFx0fVxuXHR9O1xuXG5cdC8vY2hhcmdlIGEgY3JlZGl0IGNhcmRcblx0ZnVuY3Rpb24gY2hhcmdlQ2FyZCh1cmwsIGRhdGEpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdFxuXHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcblx0XHRcdFx0fSxcblx0XHRcdFx0ZGF0YTogZGF0YVxuXHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXHRcdH0pO1x0XHRcdFxuXHR9O1xuXG5cdC8vZ2V0c3QgdGhlIHJlcXVpcmVkIGNvZGVcblx0ZnVuY3Rpb24gZ2V0U3FyQXBwSWQoKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XG5cdFx0Ly9sb2cgcHJvZ3Jlc3Ncblx0XHQvLyRsb2cuaW5mbygnc2VuZGluZyBmcm9tIHNxcicpO1xuXHRcdFxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0XG5cdFx0XHQkaHR0cCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogJy9hcGkvc3F1YXJlSWQnXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZygnZ290IHRoaXMgcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XHRcblx0fTtcblxuXHRmdW5jdGlvbiBnZXRTcXJQcmRjdExpc3QoKSB7XG5cblx0XHQvL3JldHVybiBhc3luYyB3b3JrXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQkaHR0cCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogJy9hcGkvcHJvZHVjdExpc3QnXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZygnZ290IHRoaXMgcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH07XG5cblx0cmV0dXJuIHNlcnZlclNlcnZpY2U7XG59O1x0IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnc3F1YXJlU2VydmljZScsIHNxdWFyZVNlcnZpY2UpO1xuXHRcdFxuLyogQG5nSW5qZWN0ICovXG5zcXVhcmVTZXJ2aWNlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJGxvY2F0aW9uJywgJ3NlcnZlclNlcnZpY2UnLCAndXNlckRhdGFTZXJ2aWNlJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3F1YXJlU2VydmljZSgkcm9vdFNjb3BlLCAkbG9jYXRpb24sIHNlcnZlclNlcnZpY2UsIHVzZXJEYXRhU2VydmljZSkge1xuXHQvL2RlZmluZSBsb2NhbCB2YXJhaWJsZXNcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHZhciBzcXVhcmVTZXJ2aWNlID0ge1xuXHRcdF9jaGFyZ2VDYXJkV2l0aE5vbmNlOiBfY2hhcmdlQ2FyZFdpdGhOb25jZSxcblx0XHRzdWJtaXRGb3JtOiBzdWJtaXRGb3JtLFxuXHRcdGRvd25sb2FkOiB7XG5cdFx0XHRwcm9kdWN0TGlzdDogZG93bmxvYWRQcm9kdWN0TGlzdFxuXHRcdH0sXG5cdFx0aW5pdDogaW5pdFxuXHR9O1xuXG5cdC8vY2hhcmdlIGNhcmQgd2l0aCBub25jZVxuXHRmdW5jdGlvbiBfY2hhcmdlQ2FyZFdpdGhOb25jZShub25jZSkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciB1cmwgPSAnL2FwaS9jaGFyZ2VfY2FyZCc7XG5cdFx0dXNlckRhdGFTZXJ2aWNlLmNhcmQubm9uY2UgPSBub25jZTtcblxuXHRcdC8vcGFzcyB0aGUgZGF0YSB0byB0aGUgc2VydmVyXG5cdFx0c2VydmVyU2VydmljZS5jaGFyZ2VDYXJkKHVybCwgdXNlckRhdGFTZXJ2aWNlKVxuXHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgbmV3UGF0aCA9ICcvc3VjY2Vzcy8nICsgcy5kYXRhO1xuXG5cdFx0XHQvL2xvZyBwcm9ncmVzc1xuXHRcdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIHBhdGggYmFjaycsIG5ld1BhdGgpO1xuXG5cdFx0XHQvL3JlLXJvdXRlIHRoZSBwYWdlXG5cdFx0XHQkbG9jYXRpb24ucGF0aChuZXdQYXRoKTtcblx0XHRcdCRyb290U2NvcGUuJGFwcGx5KCk7XG5cblx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnRXJyb3I6JyxlKTtcblx0XHR9KTtcblx0fTtcblxuXHQvL3N1Ym1pdHMgdGhlIGZvcm0gZm9yIHVzXG5cdGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7XG5cdFx0Y29uc29sZS5sb2coJ3N1Ym1pdHRpbmcgZm9ybScpO1xuXHRcdHNlbGYucGF5bWVudEZvcm0ucmVxdWVzdENhcmROb25jZSgpO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGRvd25sb2FkUHJvZHVjdExpc3QoKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0Ly9pdCB0aGUgc2VydmVyIFxuXHRcdFx0c2VydmVyU2VydmljZS5nZXQuc3FyUHJkY3RMaXN0KClcblx0XHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0XHRyZXNvbHZlKHMpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH07XG5cblx0ZnVuY3Rpb24gaW5pdCgpIHtcblxuXHRcdC8vY29sbGVjdCB0aGUgc3F1YXJlQXBwSWRcblx0XHRzZXJ2ZXJTZXJ2aWNlLmdldC5zcXJBcHBJZCgpXG5cdFx0LnRoZW4oZnVuY3Rpb24oc3FBcHApIHtcblxuXHRcdFx0c2VsZi5wYXltZW50Rm9ybSA9IG5ldyBTcVBheW1lbnRGb3JtKHtcblx0XHQgICAgYXBwbGljYXRpb25JZDogc3FBcHAuaWQsXG5cdFx0ICAgIGlucHV0Q2xhc3M6ICdzcS1pbnB1dCcsXG5cdFx0ICAgIGlucHV0U3R5bGVzOiBbXG5cdFx0ICAgICAge1xuXHRcdCAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgIFx0cGFkZGluZzogJzdweCAxMnB4JyxcbiAgICAgICAgICAgIFx0YmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCJcblx0XHQgICAgICB9XG5cdFx0ICAgIF0sXG5cdFx0ICAgIGNhcmROdW1iZXI6IHtcblx0XHQgICAgICBlbGVtZW50SWQ6ICdzcS1jYXJkLW51bWJlcicsXG5cdFx0ICAgICAgcGxhY2Vob2xkZXI6ICfigKLigKLigKLigKIg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKInXG5cdFx0ICAgIH0sXG5cdFx0ICAgIGN2djoge1xuXHRcdCAgICAgIGVsZW1lbnRJZDogJ3NxLWN2dicsXG5cdFx0ICAgICAgcGxhY2Vob2xkZXI6ICdDVlYnXG5cdFx0ICAgIH0sXG5cdFx0ICAgIGV4cGlyYXRpb25EYXRlOiB7XG5cdFx0ICAgICAgZWxlbWVudElkOiAnc3EtZXhwaXJhdGlvbi1kYXRlJyxcblx0XHQgICAgICBwbGFjZWhvbGRlcjogJ01NL1lZJ1xuXHRcdCAgICB9LFxuXHRcdCAgICBwb3N0YWxDb2RlOiB7XG5cdFx0ICAgICAgZWxlbWVudElkOiAnc3EtcG9zdGFsLWNvZGUnXG5cdFx0ICAgIH0sXG5cdFx0ICAgIGNhbGxiYWNrczoge1xuXG5cdFx0XHQgICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgU3FQYXltZW50Rm9ybSBjb21wbGV0ZXMgYSByZXF1ZXN0IHRvIGdlbmVyYXRlIGEgY2FyZFxuXHRcdFx0ICAgICAgLy8gbm9uY2UsIGV2ZW4gaWYgdGhlIHJlcXVlc3QgZmFpbGVkIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXG5cdFx0XHQgICAgICBjYXJkTm9uY2VSZXNwb25zZVJlY2VpdmVkOiBmdW5jdGlvbihlcnJvcnMsIG5vbmNlLCBjYXJkRGF0YSkge1xuXHRcdFx0ICAgICAgICBpZiAoZXJyb3JzKSB7XG5cdFx0XHQgICAgICAgICAgY29uc29sZS5sb2coXCJFbmNvdW50ZXJlZCBlcnJvcnM6XCIsIGVycm9ycyk7XG5cdFx0XHQgICAgICAgICAgc2VsZi5jYXJkX2Vycm9ycyA9IGVycm9ycztcblx0ICAgICAgICAgICAgXHQgIHNlbGYuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5cdCAgICAgICAgICAgIFx0ICAvLyRzY29wZS4kYXBwbHkoKTsgLy8gcmVxdWlyZWQgc2luY2UgdGhpcyBpcyBub3QgYW4gYW5ndWxhciBmdW5jdGlvblxuXG5cdFx0XHQgICAgICAgIC8vIE5vIGVycm9ycyBvY2N1cnJlZC4gRXh0cmFjdCB0aGUgY2FyZCBub25jZS5cblx0XHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHRcdCAgICAgICAgICBzZWxmLmNhcmRfZXJyb3JzID0gW107XG5cdFx0XHQgICAgICAgICAgLy8gRGVsZXRlIHRoaXMgbGluZSBhbmQgdW5jb21tZW50IHRoZSBsaW5lcyBiZWxvdyB3aGVuIHlvdSdyZSByZWFkeVxuXHRcdFx0ICAgICAgICAgIC8vIHRvIHN0YXJ0IHN1Ym1pdHRpbmcgbm9uY2VzIHRvIHlvdXIgc2VydmVyLlxuXHRcdFx0ICAgICAgICAgIC8vYWxlcnQoJ05vbmNlIHJlY2VpdmVkOiAnICsgbm9uY2UpO1xuXG5cdFx0XHQgICAgICAgICAgX2NoYXJnZUNhcmRXaXRoTm9uY2Uobm9uY2UpO1xuXG5cdFx0XHQgICAgICAgICAgLypcblx0XHRcdCAgICAgICAgICAgIFRoZXNlIGxpbmVzIGFzc2lnbiB0aGUgZ2VuZXJhdGVkIGNhcmQgbm9uY2UgdG8gYSBoaWRkZW4gaW5wdXRcblx0XHRcdCAgICAgICAgICAgIGZpZWxkLCB0aGVuIHN1Ym1pdCB0aGF0IGZpZWxkIHRvIHlvdXIgc2VydmVyLlxuXHRcdFx0ICAgICAgICAgICAgVW5jb21tZW50IHRoZW0gd2hlbiB5b3UncmUgcmVhZHkgdG8gdGVzdCBvdXQgc3VibWl0dGluZyBub25jZXMuXG5cblx0XHRcdCAgICAgICAgICAgIFlvdSdsbCBhbHNvIG5lZWQgdG8gc2V0IHRoZSBhY3Rpb24gYXR0cmlidXRlIG9mIHRoZSBmb3JtIGVsZW1lbnRcblx0XHRcdCAgICAgICAgICAgIGF0IHRoZSBib3R0b20gb2YgdGhpcyBzYW1wbGUsIHRvIGNvcnJlc3BvbmQgdG8gdGhlIFVSTCB5b3Ugd2FudCB0b1xuXHRcdFx0ICAgICAgICAgICAgc3VibWl0IHRoZSBub25jZSB0by5cblx0XHRcdCAgICAgICAgICAqL1xuXHRcdFx0ICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkLW5vbmNlJykudmFsdWUgPSBub25jZTtcblx0XHRcdCAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uY2UtZm9ybScpLnN1Ym1pdCgpO1xuXG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH0sXG5cblx0XHRcdCAgICAgIHVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICAgICAgLy8gRmlsbCBpbiB0aGlzIGNhbGxiYWNrIHRvIGFsZXJ0IGJ1eWVycyB3aGVuIHRoZWlyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZC5cblx0XHRcdCAgICAgIH0sXG5cblx0XHRcdCAgICAgIC8vIEZpbGwgaW4gdGhlc2UgY2FzZXMgdG8gcmVzcG9uZCB0byB2YXJpb3VzIGV2ZW50cyB0aGF0IGNhbiBvY2N1ciB3aGlsZSBhXG5cdFx0XHQgICAgICAvLyBidXllciBpcyB1c2luZyB0aGUgcGF5bWVudCBmb3JtLlxuXHRcdFx0ICAgICAgaW5wdXRFdmVudFJlY2VpdmVkOiBmdW5jdGlvbihpbnB1dEV2ZW50KSB7XG5cdFx0XHQgICAgICAgIHN3aXRjaCAoaW5wdXRFdmVudC5ldmVudFR5cGUpIHtcblx0XHRcdCAgICAgICAgICBjYXNlICdmb2N1c0NsYXNzQWRkZWQnOlxuXHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0ICAgICAgICAgIGNhc2UgJ2ZvY3VzQ2xhc3NSZW1vdmVkJzpcblx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdCAgICAgICAgICBjYXNlICdlcnJvckNsYXNzQWRkZWQnOlxuXHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0ICAgICAgICAgIGNhc2UgJ2Vycm9yQ2xhc3NSZW1vdmVkJzpcblx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdCAgICAgICAgICBjYXNlICdjYXJkQnJhbmRDaGFuZ2VkJzpcblx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdCAgICAgICAgICBjYXNlICdwb3N0YWxDb2RlQ2hhbmdlZCc6XG5cdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0ICAgICAgICAgICAgYnJlYWs7XG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH0sXG5cblx0XHRcdCAgICAgIHBheW1lbnRGb3JtTG9hZGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICAgICAgLy8gRmlsbCBpbiB0aGlzIGNhbGxiYWNrIHRvIHBlcmZvcm0gYWN0aW9ucyBhZnRlciB0aGUgcGF5bWVudCBmb3JtIGlzXG5cdFx0XHQgICAgICAgIC8vIGRvbmUgbG9hZGluZyAoc3VjaCBhcyBzZXR0aW5nIHRoZSBwb3N0YWwgY29kZSBmaWVsZCBwcm9ncmFtbWF0aWNhbGx5KS5cblx0XHRcdCAgICAgICAgLy8gcGF5bWVudEZvcm0uc2V0UG9zdGFsQ29kZShzZWxmLnVzZXJEYXRhLmJpbGxpbmdBZGRyZXNzLnppcCk7XG5cblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9XG5cdFx0XHR9KTtcblx0ICAgIFx0c2VsZi5wYXltZW50Rm9ybS5idWlsZCgpO1xuICAgIFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICBcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuICAgIFx0fSk7XG5cblx0fVxuXG5cdHJldHVybiBzcXVhcmVTZXJ2aWNlO1xufTtcdCIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLnNlcnZpY2UoJ3N0YXRlU2VydmljZScsIHN0YXRlU2VydmljZSk7XG5cdFx0XG4vKiBAbmdJbmplY3QgKi9cbnN0YXRlU2VydmljZS4kaW5qZWN0ID0gWyd1c2VyRGF0YVNlcnZpY2UnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZVNlcnZpY2UodXNlckRhdGFTZXJ2aWNlKSB7XG5cdC8vZGVmaW5lIGxvY2FsIHZhcmFpYmxlc1xuXHR2YXIgc3RhdGUgPSB7XG5cdFx0c2hpcGluZ1NhbWVBc0JpbGxpbmc6IHRydWUsXG5cdFx0cHJvZHVjdFNlbGVjdGlvbjoge1xuXHRcdFx0YWRkQVByb2R1Y3RCdG46IHtcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdCdidG4nOiB0cnVlLFxuXHRcdFx0XHRcdCdidG4tc3VjY2Vzcyc6IHRydWUsXG5cdFx0XHRcdFx0J2J0bi13YXJuaW5nJzogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0dmlzaWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHJlbW92ZUxhc3RQcm9kdWN0QnRuOiB7XG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHQnYnRuJzogdHJ1ZSxcblx0XHRcdFx0XHQnYnRuLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdFx0XHQnYnRuLXdhcm5pbmcnOiBmYWxzZSxcblx0XHRcdFx0XHQnYnRuLWRhbmdlcic6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHRoZWFkZXJTdHlsZToge1xuXHRcdFx0XHRjb2xvcjogXCJyZ2IoNTEsNTEsNTEpXCJcblx0XHRcdH1cblx0XHR9LFxuXHRcdGNvbnRhY3RJbmZvOiB7XG5cdFx0XHRmaXJzdG5hbWU6IHtcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFwiZm9ybS1jb250cm9sXCI6IHRydWUsXG5cdFx0XHRcdFx0XCJpcy12YWxpZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcImlzLWludmFsaWRcIjogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0YWRkcmVzc2VkOiBmYWxzZSxcblx0XHRcdFx0aXNWYWxpZDogZmFsc2UsXG5cdFx0XHRcdGlzSW52YWxpZDogZmFsc2Vcblx0XHRcdH1cblx0XHR9LFxuXHRcdGluZm9Cb3hlczoge1xuXHRcdFx0Zmxhdm9yRGVmczogZmFsc2UsXG5cdFx0XHR0ZXJtc0NvbmRzOiBmYWxzZVxuXHRcdH0sXG5cdFx0c2VjdGlvbnNBZGRyZXNzZWQ6IHtcblx0XHRcdHByb2R1Y3RTZWxlY3Rpb246IGZhbHNlLFxuXHRcdFx0c2luZ2xlU2hpcHBpbmdBZGRyZXNzOiBmYWxzZSxcblx0XHRcdGNvbnRhY3RJbmZvOiBmYWxzZSxcblx0XHRcdHRlcm1zQ29uZHM6IGZhbHNlXG5cdFx0fSxcblx0XHRzZWN0aW9uc0NvbXBsZXRlZDoge1xuXHRcdFx0cHJvZHVjdFNlbGVjdGlvbjogdHJ1ZSxcblx0XHRcdHNpbmdsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcblx0XHRcdGNvbnRhY3RJbmZvOiB0cnVlLFxuXHRcdFx0dGVybXNDb25kczogZmFsc2Vcblx0XHR9LFxuXHRcdHNlY3Rpb25IZWFkZXJzOiB7XG5cdFx0XHRwcm9kdWN0U2VsZWN0aW9uOiB7XG5cdFx0XHRcdHNob3dFcnJvcjogZmFsc2UsXG5cdFx0XHRcdHNob3dDb21wbGV0ZWQ6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0c2luZ2xlU2hpcHBpbmdBZGRyZXNzOiB7XG5cdFx0XHRcdHNob3dFcnJvcjogZmFsc2UsXG5cdFx0XHRcdHNob3dDb21wbGV0ZWQ6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0Y29udGFjdEluZm86IHtcblx0XHRcdFx0c2hvd0Vycm9yOiBmYWxzZSxcblx0XHRcdFx0c2hvd0NvbXBsZXRlZDogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR0ZXJtc0NvbmRzOiB7XG5cdFx0XHRcdHNob3dFcnJvcjogZmFsc2UsXG5cdFx0XHRcdHNob3dDb21wbGV0ZWQ6IGZhbHNlXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRjaGVja0NvbXBsZXRuZXNzOiBjaGVja0NvbXBsZXRuZXNzLFxuXHRcdHJlYWR5Rm9yU3VibWlzc2lvbjogZmFsc2UsXG5cdFx0c3VibWlzc2lvbkJ0bjoge1xuXHRcdFx0XCJidG5cIjogdHJ1ZSxcblx0XHRcdFwiYnRuLWJsb2NrXCI6IHRydWUsXG5cdFx0XHRcImJ0bi1zdWNjZXNzXCI6IGZhbHNlLFxuXHRcdFx0XCJidG4tc2Vjb25kYXJ5XCI6IHRydWVcblx0XHR9LFxuXHRcdHNpbmdsZUFkZHJlc3NJbnB1dDoge1xuXHRcdFx0c3RyZWV0OiB7XG5cdFx0XHRcdGZpZWxkOiB7XG5cdFx0XHRcdFx0XCJ3YXMtdmFsaWRhdGVkXCI6IGZhbHNlLFxuXHRcdFx0XHRcdFwibmVlZHMtdmFsaWRhdGlvblwiOiB0cnVlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGlucHV0OiB7XG5cdFx0XHRcdFx0XCJpcy12YWxpZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcImlzLWludmFsaWRcIjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHppcDoge1xuXHRcdFx0XHRmaWVsZDoge1xuXHRcdFx0XHRcdFwid2FzLXZhbGlkYXRlZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcIm5lZWRzLXZhbGlkYXRpb25cIjogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRcdFwiaXMtdmFsaWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJpcy1pbnZhbGlkXCI6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRjaXR5OiB7XG5cdFx0XHRcdGZpZWxkOiB7XG5cdFx0XHRcdFx0XCJ3YXMtdmFsaWRhdGVkXCI6IGZhbHNlLFxuXHRcdFx0XHRcdFwibmVlZHMtdmFsaWRhdGlvblwiOiB0cnVlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGlucHV0OiB7XG5cdFx0XHRcdFx0XCJpcy12YWxpZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcImlzLWludmFsaWRcIjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHN0YXRlOiB7XG5cdFx0XHRcdGZpZWxkOiB7XG5cdFx0XHRcdFx0XCJ3YXMtdmFsaWRhdGVkXCI6IGZhbHNlLFxuXHRcdFx0XHRcdFwibmVlZHMtdmFsaWRhdGlvblwiOiB0cnVlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGlucHV0OiB7XG5cdFx0XHRcdFx0XCJpcy12YWxpZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcImlzLWludmFsaWRcIjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRmdW5jdGlvbiB0ZXJtc0NvbmRzQXJlR29vZCgpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcblxuXHRcdHJldHVybiB1c2VyRGF0YVNlcnZpY2UuYWdyZWVkVG9UZXJtcztcblx0fVxuXG5cdGZ1bmN0aW9uIGNoZWNrQ29tcGxldG5lc3MoKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHZhciBub0ZsYWdzID0gdHJ1ZTtcblxuXHRcdC8vaXRlcmF0ZSB0aHJvdWdoIHJlcXVpcm5tZW50c1xuXHRcdE9iamVjdC5rZXlzKHNlbGYuc2VjdGlvbnNDb21wbGV0ZWQpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRpZihzZWxmLnNlY3Rpb25zQ29tcGxldGVkW2tleV0gPT0gZmFsc2UpIG5vRmxhZ3MgPSBmYWxzZTtcblx0XHR9KTtcblxuXHRcdGlmKG5vRmxhZ3MpIHtcblx0XHRcdHJlYWR5Rm9yU3VibWlzc2lvbiA9IHRydWU7XG5cdFx0XHRzZWxmLnN1Ym1pc3Npb25CdG5bXCJidG4tc3VjY2Vzc1wiXSA9IHRydWU7XG5cdFx0XHRzZWxmLnN1Ym1pc3Npb25CdG5bXCJidG4tc2Vjb25kYXJ5XCJdID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlYWR5Rm9yU3VibWlzc2lvbiA9IGZhbHNlO1xuXHRcdFx0c2VsZi5zdWJtaXNzaW9uQnRuW1wiYnRuLXN1Y2Nlc3NcIl0gPSBmYWxzZTtcblx0XHRcdHNlbGYuc3VibWlzc2lvbkJ0bltcImJ0bi1zZWNvbmRhcnlcIl0gPSB0cnVlO1xuXHRcdH07XG5cdH1cdFxuXG5cdHJldHVybiBzdGF0ZTtcbn07XHQiLCJhbmd1bGFyLm1vZHVsZSgnYW5zdWInKS5zZXJ2aWNlKCdzdWJtaXNzaW9uU2VydmljZScsIHN1Ym1pc3Npb25TZXJ2aWNlKTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0c3VibWlzc2lvblNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gc3VibWlzc2lvblNlcnZpY2UoJGh0dHApIHtcblx0XHQvL2NvbnNvbGUubG9nKCd0aGlzIGlzIHRoZSBzdWJtaXNzaW9uIHNlcnZpY2UnKTtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRzZWxmLnN1Ym1pdCA9IGZ1bmN0aW9uKHVzZXJEYXRhKSB7XG5cdFx0XHQvL2NvbnNvbGUubG9nKCdzdWJtaXR0aW5nJywgdXNlckRhdGEpO1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0XHQvL3RyeSBQT1NUXG5cdFx0XHRcdCRodHRwKHtcblx0XHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0XHR1cmw6ICcvc3Vic2NyaXB0aW9uLWFwcGxpY2F0aW9uLXN1Ym1pc3Npb24nLFxuXHRcdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGRhdGE6IHVzZXJEYXRhXG5cdFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnZ290IHRoaXMgcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyb3IpIHtcblx0XHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0fTtcblxuXHR9OyIsImFuZ3VsYXIubW9kdWxlKCdhbnN1YicpLnNlcnZpY2UoJ3VzZXJEYXRhU2VydmljZScsIHVzZXJEYXRhU2VydmljZSk7XG5cdFx0XG4vKiBAbmdJbmplY3QgKi9cbnVzZXJEYXRhU2VydmljZS4kaW5qZWN0ID0gW107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gdXNlckRhdGFTZXJ2aWNlKCkge1xuXHQvL2RlZmluZSBsb2NhbCB2YXJhaWJsZXNcblx0dmFyIHVzZXJEYXRhID0ge1xuXHRcdG5hbWU6IHtcblx0XHRcdGZpcnN0OiBcIlwiLFxuXHRcdFx0bGFzdDogXCJcIlxuXHRcdH0sXG5cdFx0Y29udGFjdDoge1xuXHRcdFx0ZW1haWw6IFwiXCIsXG5cdFx0XHRwaG9uZTogXCJcIlxuXHRcdH0sXG5cdFx0c2hpcHBpbmdEZXN0aW5hdGlvbjoge1xuXHRcdFx0c3RyZWV0OiBcIlwiLFxuXHRcdFx0Y2l0eTogXCJcIixcblx0XHRcdHN0YXRlOiBcIlwiLFxuXHRcdFx0emlwOiBcIlwiXG5cdFx0fSxcblx0XHRiaWxsaW5nQWRkcmVzczoge1xuXHRcdFx0c3RyZWV0OiBcIlwiLFxuXHRcdFx0Y2l0eTogXCJcIixcblx0XHRcdHN0YXRlOiBcIlwiLFxuXHRcdFx0emlwOiBcIlwiXG5cdFx0fSxcblx0XHRjYXJkOiB7XG5cdFx0XHQvL2NhcmRfbnVtYmVyOiBcIlwiLFxuXHRcdFx0Ly9jdnY6IFwiXCIsXG5cdFx0XHQvL2V4cGlyYXRpb25fZGF0ZTogXCJcIixcblx0XHRcdC8vcG9zdGFsX2NvZGU6IFwiXCIsXG5cdFx0XHRub25jZTogXCJcIixcblx0XHRcdGxhc3Q0OiBcIlwiLFxuXHRcdFx0dHlwZTogXCJcIlxuXHRcdH0sXG5cdFx0b3JkZXJObzogXCJcIixcblx0XHRvcmRlckRhdGU6IFwiXCIsXG5cdFx0b3JkZXI6IFtdLFxuXHRcdHRlbmRlcjoge1xuXHRcdFx0ZGlzY291bnRzOiAwLFxuXHRcdFx0c2hpcHBpbmc6IDAsXG5cdFx0XHR0b3RhbDogMFxuXHRcdH0sXG5cdFx0YWdyZWVkVG9UZXJtczogZmFsc2Vcblx0fTtcblxuXHRyZXR1cm4gdXNlckRhdGE7XG59O1x0IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgndmFsaWRhdGlvblNlcnZpY2UnLCB2YWxpZGF0aW9uU2VydmljZSk7XG5cdFx0XG4vKiBAbmdJbmplY3QgKi9cbnZhbGlkYXRpb25TZXJ2aWNlLiRpbmplY3QgPSBbJ3N0YXRlU2VydmljZScsICd1c2VyRGF0YVNlcnZpY2UnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB2YWxpZGF0aW9uU2VydmljZShzdGF0ZVNlcnZpY2UsIHVzZXJEYXRhU2VydmljZSkge1xuXHQvL2RlZmluZSBsb2NhbCB2YXJhaWJsZXNcblx0dmFyIHZhbGlkYXRpb24gPSB7XG5cdFx0cGh5c2ljYWxBZGRyZXNzZXM6IHtcblx0XHRcdHN0cmVldDogaXNWYWxpZFN0cmVldCxcblx0XHRcdHppcDogaXNWYWxpZFppcFxuXHRcdH0sXG5cdFx0dGVybXNBbmRDb25kOiB0ZXJtc0FuZENvbmRcblx0fTtcblxuXHRmdW5jdGlvbiBpc1ZhbGlkU3RyZWV0KGFTdHJpbmcpIHtcblx0XHR2YXIgaXNWYWxpZCA9IGZhbHNlO1xuXG5cdFx0Y29uc29sZS5sb2coJ3N0cmVldCBsZW5ndGgnLCBhU3RyaW5nLmxlbmd0aCk7XG5cblx0XHRpZiAoYVN0cmluZy5sZW5ndGggPiAzKSBpc1ZhbGlkID0gdHJ1ZTtcblxuXHRcdHJldHVybiBpc1ZhbGlkO1xuXHRcdC8vcmV0dXJuIC9eXFxkK1xcc1tBLXpdK1xcc1tBLXpdKy8udGVzdChhU3RyaW5nKVxuXHR9O1xuXG5cdGZ1bmN0aW9uIGlzVmFsaWRaaXAoYVN0cmluZykge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdC8vdmFyIGVycm9yTWVzc2FnZSA9IFwiXCI7XG5cblx0XHQvL3ZhciBpc1ZhbGlkID0gLyheXFxkezV9JCl8KF5cXGR7NX0tXFxkezR9JCkvLnRlc3QoYVN0cmluZyk7XG5cblx0XHQvL2lmKCFpc1ZhbGlkKSBlcnJvck1lc3NhZ2UrPSBcIlRoYXQgZG9lc24ndCBsb29rIGxpa2UgYSB2YWxpZCB6aXBjb2RlLCBwbGVhc2UgdHJ5IGFnYWluXCI7XG5cblx0XHQvL3JldHVybiB7dmFsaWQ6IGlzVmFsaWQsIG1lc3NhZ2U6IGVycm9yTWVzc2FnZX07XG5cdFx0cmV0dXJuIC8oXlxcZHs1fSQpfCheXFxkezV9LVxcZHs0fSQpLy50ZXN0KGFTdHJpbmcpO1xuXHR9O1xuXG5cblx0ZnVuY3Rpb24gdGVybXNBbmRDb25kKCkge1xuXHRcdGNvbnNvbGUubG9nKCd2YWxpZGF0aW5nIHRlcm1zIGFuZCBjb25kaXRpb25zJyk7XG5cdFx0Ly9tYWtlIHN1cmUgdGVybXMgYW5kIGNvbmRpdGlvbnMgaXMgbWFya2VkIGFzIGFkZHJlc3NlZFxuXHRcdHN0YXRlU2VydmljZS5zZWN0aW9uc0FkZHJlc3NlZC50ZXJtc0NvbmRzID0gdHJ1ZTtcblxuXHRcdC8vc2VjdGlvbiBjb21sZXRlbmVzcyBpcyBhIHJlZmxlY3Rpb24gb2YgdGhlIGFncmVlbWVudCBzdGF0dXNcblx0XHRzdGF0ZVNlcnZpY2Uuc2VjdGlvbnNDb21wbGV0ZWQudGVybXNDb25kcyA9IHVzZXJEYXRhU2VydmljZS5hZ3JlZWRUb1Rlcm1zO1xuXG5cdFx0Ly90b2dnbGUgY29tcGxldG5lc3Ncblx0XHRpZihzdGF0ZVNlcnZpY2Uuc2VjdGlvbnNDb21wbGV0ZWQudGVybXNDb25kcykge1xuXHRcdFx0c3RhdGVTZXJ2aWNlLnNlY3Rpb25IZWFkZXJzLnRlcm1zQ29uZHMuc2hvd0Vycm9yID0gZmFsc2U7XG5cdFx0XHRzdGF0ZVNlcnZpY2Uuc2VjdGlvbkhlYWRlcnMudGVybXNDb25kcy5zaG93Q29tcGxldGVkID0gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3RhdGVTZXJ2aWNlLnNlY3Rpb25IZWFkZXJzLnRlcm1zQ29uZHMuc2hvd0Vycm9yID0gdHJ1ZTtcblx0XHRcdHN0YXRlU2VydmljZS5zZWN0aW9uSGVhZGVycy50ZXJtc0NvbmRzLnNob3dDb21wbGV0ZWQgPSBmYWxzZTtcblx0XHR9O1xuXG5cdH07XG5cblx0cmV0dXJuIHZhbGlkYXRpb247XG59O1x0IiwiYW5ndWxhci5tb2R1bGUoJ2Fuc3ViJykuc2VydmljZSgnemlwY29tcGxldGUnLCB6aXBjb21wbGV0ZSk7XG5cdFx0XG4vKiBAbmdJbmplY3QgKi9cbnppcGNvbXBsZXRlLiRpbmplY3QgPSBbXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB6aXBjb21wbGV0ZSgpIHtcblx0Ly9kZWZpbmUgbG9jYWwgdmFyYWlibGVzXG5cdHZhciBzZWxmID0gdGhpcztcblx0dmFyIGNsaWVudEtleSA9IFwibVNhalZZRDh1ckZTT2pXM3R1SmZoZG5Tak1yZXZrbWdsWDQwVzJiejEyS200Y1ZLNXZZWnBvZ1FnVGNmcDZqd1wiO1xuXHR2YXIgY2FjaGUgPSB7fTtcblx0Ly92YXIgY29udGFpbmVyID0gJChcIiNleGFtcGxlMVwiKTtcblx0Ly92YXIgZXJyb3JEaXYgPSBjb250YWluZXIuZmluZChcImRpdi50ZXh0LWVycm9yXCIpO1xuXG5cdC8vbG9jYWwgZnVuY3Rpb24gXG5cdHNlbGYuaGFuZGxlUmVzcCA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHQvLyBDaGVjayBmb3IgZXJyb3Jcblx0XHRpZiAoZGF0YS5lcnJvcl9tc2cpXG5cdFx0XHRjb25zb2xlLmxvZyhkYXRhLmVycm9yX21zZyk7XG5cdFx0XHQvL2Vycm9yRGl2LnRleHQoZGF0YS5lcnJvcl9tc2cpO1xuXHRcdGVsc2UgaWYgKFwiY2l0eVwiIGluIGRhdGEpXG5cdFx0e1xuXHRcdFx0Ly8gU2V0IGNpdHkgYW5kIHN0YXRlXG5cdFx0XHRjb250YWluZXIuZmluZChcImlucHV0W25hbWU9J2NpdHknXVwiKS52YWwoZGF0YS5jaXR5KTtcblx0XHRcdGNvbnRhaW5lci5maW5kKFwiaW5wdXRbbmFtZT0nc3RhdGUnXVwiKS52YWwoZGF0YS5zdGF0ZSk7XG5cdFx0fSBcblx0fTtcblxuXHQvL3ppcCBjaGVja2VyXG5cdHNlbGYuY2hlY2taaXAgPSBmdW5jdGlvbihlbnRlcmVkWmlwKSB7XG5cdFx0dmFyIHppcGNvZGUgPSBlbnRlcmVkWmlwLnN1YnN0cmluZygwLCA1KTsgXG5cblx0XHRpZiAoemlwY29kZS5sZW5ndGggPT0gNSAmJiAvXlswLTldKyQvLnRlc3QoemlwY29kZSkpIHtcblxuXHRcdFx0Y29uc29sZS5sb2coJ2NoZWNraW5nIHppcCcsIHppcGNvZGUpO1xuXHRcdH1cdFxuXHRcdFxuXHR9O1xufTtcdCJdfQ==
